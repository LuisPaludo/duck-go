(self.webpackChunkduck_go=self.webpackChunkduck_go||[]).push([[179],{553:(Ic,Sc,X)=>{"use strict";function Ze(e){return"function"==typeof e}function Va(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ua=Va(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ha(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Yn{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const a of t)a.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ze(r))try{r()}catch(a){n=a instanceof Ua?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{Vn(a)}catch(c){n=n??[],c instanceof Ua?n=[...n,...c.errors]:n.push(c)}}if(n)throw new Ua(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Vn(n);else{if(n instanceof Yn){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ha(t,n)}remove(n){const{_finalizers:t}=this;t&&Ha(t,n),n instanceof Yn&&n._removeParent(this)}}Yn.EMPTY=(()=>{const e=new Yn;return e.closed=!0,e})();const Tc=Yn.EMPTY;function yn(e){return e instanceof Yn||e&&"closed"in e&&Ze(e.remove)&&Ze(e.add)&&Ze(e.unsubscribe)}function Vn(e){Ze(e)?e():e.unsubscribe()}const ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fr={setTimeout(e,n,...t){const{delegate:r}=Fr;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Fr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Yt(e){Fr.setTimeout(()=>{const{onUnhandledError:n}=ce;if(!n)throw e;n(e)})}function ja(){}const yt=$t("C",void 0,void 0);function $t(e,n,t){return{kind:e,value:n,error:t}}let Te=null;function Ct(e){if(ce.useDeprecatedSynchronousErrorHandling){const n=!Te;if(n&&(Te={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=Te;if(Te=null,t)throw r}}else e()}class _t extends Yn{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,yn(n)&&n.add(this)):this.destination=rn}static create(n,t,r){return new kr(n,t,r)}next(n){this.isStopped?ot(function Mc(e){return $t("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ot(function za(e){return $t("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ot(yt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const re=Function.prototype.bind;function it(e,n){return re.call(e,n)}class ee{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){cn(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){cn(r)}else cn(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){cn(t)}}}class kr extends _t{constructor(n,t,r){let i;if(super(),Ze(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let a;this&&ce.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&it(n.next,a),error:n.error&&it(n.error,a),complete:n.complete&&it(n.complete,a)}):i=n}this.destination=new ee(i)}}function cn(e){ce.useDeprecatedSynchronousErrorHandling?function Nc(e){ce.useDeprecatedSynchronousErrorHandling&&Te&&(Te.errorThrown=!0,Te.error=e)}(e):Yt(e)}function ot(e,n){const{onStoppedNotification:t}=ce;t&&Fr.setTimeout(()=>t(e,n))}const rn={closed:!0,next:ja,error:function De(e){throw e},complete:ja},W="function"==typeof Symbol&&Symbol.observable||"@@observable";function Dt(e){return e}function to(e){return 0===e.length?Dt:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let ht=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const a=function _n(e){return e&&e instanceof _t||function Rc(e){return e&&Ze(e.next)&&Ze(e.error)&&Ze(e.complete)}(e)&&yn(e)}(t)?t:new kr(t,r,i);return Ct(()=>{const{operator:c,source:h}=this;a.add(c?c.call(a,h):h?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Br(r))((i,a)=>{const c=new kr({next:h=>{try{t(h)}catch(g){a(g),c.unsubscribe()}},error:a,complete:i});this.subscribe(c)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[W](){return this}pipe(...t){return to(t)(this)}toPromise(t){return new(t=Br(t))((r,i)=>{let a;this.subscribe(c=>a=c,c=>i(c),()=>r(a))})}}return e.create=n=>new e(n),e})();function Br(e){var n;return null!==(n=e??ce.Promise)&&void 0!==n?n:Promise}const Ti=Va(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Nt=(()=>{class e extends ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Ga(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ti}next(t){Ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ct(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:a}=this;return r||i?Tc:(this.currentObservers=null,a.push(t),new Yn(()=>{this.currentObservers=null,Ha(a,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:a}=this;r?t.error(i):a&&t.complete()}asObservable(){const t=new ht;return t.source=this,t}}return e.create=(n,t)=>new Ga(n,t),e})();class Ga extends Nt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Tc}}class ue extends Nt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Wa(e){return Ze(e?.lift)}function We(e){return n=>{if(Wa(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pt(e,n,t,r,i){return new Mo(e,n,t,r,i)}class Mo extends _t{constructor(n,t,r,i,a,c){super(n),this.onFinalize=a,this.shouldUnsubscribe=c,this._next=t?function(h){try{t(h)}catch(g){n.error(g)}}:super._next,this._error=i?function(h){try{i(h)}catch(g){n.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ie(e,n){return We((t,r)=>{let i=0;t.subscribe(Pt(r,a=>{r.next(e.call(n,a,i++))}))})}function ni(e){return this instanceof ni?(this.v=e,this):new ni(e)}function ms(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function ps(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(c){return new Promise(function(h,g){!function i(a,c,h,g){Promise.resolve(g).then(function(m){a({value:m,done:h})},c)}(h,g,(c=e[a](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ri=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ni(e){return Ze(e?.then)}function Lo(e){return Ze(e[W])}function cr(e){return Symbol.asyncIterator&&Ze(e?.[Symbol.asyncIterator])}function Vc(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Cs=function Ri(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Xn(e){return Ze(e?.[Cs])}function ii(e){return function Vt(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(b){r[b]&&(i[b]=function(M){return new Promise(function(L,P){a.push([b,M,L,P])>1||h(b,M)})})}function h(b,M){try{!function g(b){b.value instanceof ni?Promise.resolve(b.value.v).then(m,w):x(a[0][2],b)}(r[b](M))}catch(L){x(a[0][3],L)}}function m(b){h("next",b)}function w(b){h("throw",b)}function x(b,M){b(M),a.shift(),a.length&&h(a[0][0],a[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield ni(t.read());if(i)return yield ni(void 0);yield yield ni(r)}}finally{t.releaseLock()}})}function Oi(e){return Ze(e?.getReader)}function ie(e){if(e instanceof ht)return e;if(null!=e){if(Lo(e))return function no(e){return new ht(n=>{const t=e[W]();if(Ze(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ri(e))return function Xa(e){return new ht(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Ni(e))return function ur(e){return new ht(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Yt)})}(e);if(cr(e))return Uc(e);if(Xn(e))return function xf(e){return new ht(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Oi(e))return function vs(e){return Uc(ii(e))}(e)}throw Vc(e)}function Uc(e){return new ht(n=>{(function Hc(e,n){var t,r,i,a;return function qa(e,n,t,r){return new(t||(t=Promise))(function(a,c){function h(w){try{m(r.next(w))}catch(x){c(x)}}function g(w){try{m(r.throw(w))}catch(x){c(x)}}function m(w){w.done?a(w.value):function i(a){return a instanceof t?a:new t(function(c){c(a)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ms(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(a=t.return)&&(yield a.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Hr(e,n,t,r=0,i=!1){const a=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function un(e,n,t=1/0){return Ze(n)?un((r,i)=>Ie((a,c)=>n(r,a,i,c))(ie(e(r,i))),t):("number"==typeof n&&(t=n),We((r,i)=>function _f(e,n,t,r,i,a,c,h){const g=[];let m=0,w=0,x=!1;const b=()=>{x&&!g.length&&!m&&n.complete()},M=P=>m<r?L(P):g.push(P),L=P=>{a&&n.next(P),m++;let B=!1;ie(t(P,w++)).subscribe(Pt(n,G=>{i?.(G),a?M(G):n.next(G)},()=>{B=!0},void 0,()=>{if(B)try{for(m--;g.length&&m<r;){const G=g.shift();c?Hr(n,c,()=>L(G)):L(G)}b()}catch(G){n.error(G)}}))};return e.subscribe(Pt(n,M,()=>{x=!0,b()})),()=>{h?.()}}(r,i,e,t)))}function ro(e=1/0){return un(Dt,e)}const dn=new ht(e=>e.complete());function q(e){return e[e.length-1]}function jc(e){return Ze(q(e))?e.pop():void 0}function At(e){return function Za(e){return e&&Ze(e.schedule)}(q(e))?e.pop():void 0}function zc(e,n=0){return We((t,r)=>{t.subscribe(Pt(r,i=>Hr(r,e,()=>r.next(i),n),()=>Hr(r,e,()=>r.complete(),n),i=>Hr(r,e,()=>r.error(i),n)))})}function nt(e,n=0){return We((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function ws(e,n){if(!e)throw new Error("Iterable cannot be null");return new ht(t=>{Hr(t,n,()=>{const r=e[Symbol.asyncIterator]();Hr(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Xt(e,n){return n?function si(e,n){if(null!=e){if(Lo(e))return function rt(e,n){return ie(e).pipe(nt(n),zc(n))}(e,n);if(ri(e))return function Qa(e,n){return new ht(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Ni(e))return function $e(e,n){return ie(e).pipe(nt(n),zc(n))}(e,n);if(cr(e))return ws(e,n);if(Xn(e))return function Ka(e,n){return new ht(t=>{let r;return Hr(t,n,()=>{r=e[Cs](),Hr(t,n,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(c){return void t.error(c)}a?t.complete():t.next(i)},0,!0)}),()=>Ze(r?.return)&&r.return()})}(e,n);if(Oi(e))return function on(e,n){return ws(ii(e),n)}(e,n)}throw Vc(e)}(e,n):ie(e)}function Ee(...e){return Xt(e,At(e))}function Gc(e={}){const{connector:n=(()=>new Nt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return a=>{let c,h,g,m=0,w=!1,x=!1;const b=()=>{h?.unsubscribe(),h=void 0},M=()=>{b(),c=g=void 0,w=x=!1},L=()=>{const P=c;M(),P?.unsubscribe()};return We((P,B)=>{m++,!x&&!w&&b();const G=g=g??n();B.add(()=>{m--,0===m&&!x&&!w&&(h=Pi(L,i))}),G.subscribe(B),!c&&m>0&&(c=new kr({next:V=>G.next(V),error:V=>{x=!0,b(),h=Pi(M,t,V),G.error(V)},complete:()=>{w=!0,b(),h=Pi(M,r),G.complete()}}),ie(P).subscribe(c))})(a)}}function Pi(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new kr({next:()=>{r.unsubscribe(),e()}});return ie(n(...t)).subscribe(r)}function ke(e,n){return We((t,r)=>{let i=null,a=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe(Pt(r,g=>{i?.unsubscribe();let m=0;const w=a++;ie(e(g,w)).subscribe(i=Pt(r,x=>r.next(n?n(g,x,w,m++):x),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function k(e,n){return e===n}function D(e){for(let n in e)if(e[n]===D)return n;throw Error("Could not find renamed property on target object.")}function Ce(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function qe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(qe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Tn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const bf=D({__forward_ref__:D});function pt(e){return e.__forward_ref__=pt,e.toString=function(){return qe(this())},e}function ve(e){return we(e)?e():e}function we(e){return"function"==typeof e&&e.hasOwnProperty(bf)&&e.__forward_ref__===pt}function Es(e){return e&&!!e.\u0275providers}const Wc="https://g.co/ng/security#xss";class Z extends Error{constructor(n,t){super(function Li(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function be(e){return"string"==typeof e?e:null==e?"":String(e)}function _e(e,n){throw new Z(-201,!1)}function Zn(e,n){null==e&&function Me(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function se(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Qn(e){return{providers:e.providers||[],imports:e.imports||[]}}function at(e){return Fo(e,H)||Fo(e,sn)}function Fo(e,n){return e.hasOwnProperty(n)?e[n]:null}function Xc(e){return e&&(e.hasOwnProperty(Le)||e.hasOwnProperty(Ja))?e[Le]:null}const H=D({\u0275prov:D}),Le=D({\u0275inj:D}),sn=D({ngInjectableDef:D}),Ja=D({ngInjectorDef:D});var Be=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Be||{});let el;function Mn(e){const n=el;return el=e,n}function tl(e,n,t){const r=at(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Be.Optional?null:void 0!==n?n:void _e(qe(e))}const ct=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lt={},xe="__NG_DI_FLAG__",Ds="ngTempTokenPath",Nf=/\n/gm,Kc="__source";let so;function zr(e){const n=so;return so=e,n}function ol(e,n=Be.Default){if(void 0===so)throw new Z(-203,!1);return null===so?tl(e,void 0,n):so.get(e,n&Be.Optional?null:void 0,n)}function te(e,n=Be.Default){return(function Zc(){return el}()||ol)(ve(e),n)}function ae(e,n=Be.Default){return te(e,Gr(n))}function Gr(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Bo(e){const n=[];for(let t=0;t<e.length;t++){const r=ve(e[t]);if(Array.isArray(r)){if(0===r.length)throw new Z(900,!1);let i,a=Be.Default;for(let c=0;c<r.length;c++){const h=r[c],g=Uo(h);"number"==typeof g?-1===g?i=h.token:a|=g:i=h}n.push(te(i,a))}else n.push(te(r))}return n}function Vo(e,n){return e[xe]=n,e.prototype[xe]=n,e}function Uo(e){return e[xe]}function Kn(e){return{toString:e}.toString()}var bn=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(bn||{}),Jn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Jn||{});const Zt={},Ke=[],ao=D({\u0275cmp:D}),al=D({\u0275dir:D}),Is=D({\u0275pipe:D}),dr=D({\u0275mod:D}),Wr=D({\u0275fac:D}),Fi=D({__NG_ELEMENT_ID__:D}),lo=D({__NG_ENV_ID__:D});function Xe(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const a=n.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}t=i+1}}function co(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const a=t[r++],c=t[r++],h=t[r++];e.setAttribute(n,c,h,a)}else{const a=i,c=t[++r];o(a)?e.setProperty(n,a,c):e.setAttribute(n,a,c),r++}}return r}function v(e){return 3===e||4===e||6===e}function o(e){return 64===e.charCodeAt(0)}function s(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||l(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function l(e,n,t,r,i){let a=0,c=e.length;if(-1===n)c=-1;else for(;a<e.length;){const h=e[a++];if("number"==typeof h){if(h===n){c=-1;break}if(h>n){c=a-1;break}}}for(;a<e.length;){const h=e[a];if("number"==typeof h)break;if(h===t){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==c&&(e.splice(c,0,n),a=c+1),e.splice(a++,0,t),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}const u="ng-template";function d(e,n,t){let r=0,i=!0;for(;r<e.length;){let a=e[r++];if("string"==typeof a&&i){const c=e[r++];if(t&&"class"===a&&-1!==Xe(c.toLowerCase(),n,0))return!0}else{if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===n)return!0;return!1}"number"==typeof a&&(i=!1)}}return!1}function f(e){return 4===e.type&&e.value!==u}function p(e,n,t){return n===(4!==e.type||t?e.value:u)}function y(e,n,t){let r=4;const i=e.attrs||[],a=function I(e){for(let n=0;n<e.length;n++)if(v(e[n]))return n;return e.length}(i);let c=!1;for(let h=0;h<n.length;h++){const g=n[h];if("number"!=typeof g){if(!c)if(4&r){if(r=2|1&r,""!==g&&!p(e,g,t)||""===g&&1===n.length){if(C(r))return!1;c=!0}}else{const m=8&r?g:n[++h];if(8&r&&null!==e.attrs){if(!d(e.attrs,m,t)){if(C(r))return!1;c=!0}continue}const x=E(8&r?"class":g,i,f(e),t);if(-1===x){if(C(r))return!1;c=!0;continue}if(""!==m){let b;b=x>a?"":i[x+1].toLowerCase();const M=8&r?b:null;if(M&&-1!==Xe(M,m,0)||2&r&&m!==b){if(C(r))return!1;c=!0}}}}else{if(!c&&!C(r)&&!C(g))return!1;if(c&&C(g))continue;c=!1,r=g|1&r}}return C(r)||c}function C(e){return 0==(1&e)}function E(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let a=!1;for(;i<n.length;){const c=n[i];if(c===e)return i;if(3===c||6===c)a=!0;else{if(1===c||2===c){let h=n[++i];for(;"string"==typeof h;)h=n[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=a?1:2}return-1}return function N(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function _(e,n,t=!1){for(let r=0;r<n.length;r++)if(y(e,n[r],t))return!0;return!1}function F(e,n){return e?":not("+n.trim()+")":n}function U(e){let n=e[0],t=1,r=2,i="",a=!1;for(;t<e.length;){let c=e[t];if("string"==typeof c)if(2&r){const h=e[++t];i+="["+c+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!C(c)&&(n+=F(a,i),i=""),r=c,a=a||!C(r);t++}return""!==i&&(n+=F(a,i)),n}function j(e){return Kn(()=>{const n=L0(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Jn.Emulated,styles:e.styles||Ke,_:null,schemas:e.schemas||null,tView:null,id:""};F0(t);const r=e.dependencies;return t.directiveDefs=Jc(r,!1),t.pipeDefs=Jc(r,!0),t.id=function $_(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function Ne(e){return Ge(e)||jt(e)}function Nn(e){return null!==e}function Ht(e){return Kn(()=>({type:e.type,bootstrap:e.bootstrap||Ke,declarations:e.declarations||Ke,imports:e.imports||Ke,exports:e.exports||Ke,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function gt(e,n){if(null==e)return Zt;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),t[i]=r,n&&(n[i]=a)}return t}function ge(e){return Kn(()=>{const n=L0(e);return F0(n),n})}function bt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ge(e){return e[ao]||null}function jt(e){return e[al]||null}function On(e){return e[Is]||null}function fr(e,n){const t=e[dr]||null;if(!t&&!0===n)throw new Error(`Type ${qe(e)} does not have '\u0275mod' property.`);return t}function L0(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Zt,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ke,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gt(e.inputs,n),outputs:gt(e.outputs)}}function F0(e){e.features?.forEach(n=>n(e))}function Jc(e,n){if(!e)return null;const t=n?On:Ne;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(Nn)}const hn=0,le=1,Re=2,zt=3,$r=4,ll=5,Pn=6,Ss=7,Qt=8,Ts=9,Ho=10,Oe=11,cl=12,k0=13,Ms=14,Kt=15,ul=16,Ns=17,ui=18,dl=19,B0=20,fo=21,ki=22,eu=23,tu=24,Ye=25,Of=1,V0=2,di=7,Rs=9,Ln=11;function hr(e){return Array.isArray(e)&&"object"==typeof e[Of]}function er(e){return Array.isArray(e)&&!0===e[Of]}function Pf(e){return 0!=(4&e.flags)}function jo(e){return e.componentOffset>-1}function ru(e){return 1==(1&e.flags)}function qr(e){return!!e.template}function Lf(e){return 0!=(512&e[Re])}function zo(e,n){return e.hasOwnProperty(Wr)?e[Wr]:null}let K_=ct.WeakRef??class Q_{constructor(n){this.ref=n}deref(){return this.ref}},eA=0,fi=null,iu=!1;function wn(e){const n=fi;return fi=e,n}class G0{constructor(){this.id=eA++,this.ref=function J_(e){return new K_(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,t]of this.producers){const r=t.producerNode.deref();if(null!=r&&t.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=iu;iu=!0;try{for(const[t,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),i?.producers.delete(this.id))}}finally{iu=n}}producerAccessed(){if(iu)throw new Error("");if(null===fi)return;let n=fi.producers.get(this.id);void 0===n?(n={consumerNode:fi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:fi.trackingVersion},fi.producers.set(this.id,n),this.consumers.set(fi.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=fi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==fi?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let W0=null;const q0=()=>{};class iA extends G0{constructor(n,t,r){super(),this.watch=n,this.schedule=t,this.dirty=!1,this.cleanupFn=q0,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=wn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=q0,this.watch(this.registerOnCleanup)}finally{wn(n)}}cleanup(){this.cleanupFn()}}class oA{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dr(){return Y0}function Y0(e){return e.type.prototype.ngOnChanges&&(e.setInput=aA),sA}function sA(){const e=Z0(this),n=e?.current;if(n){const t=e.previous;if(t===Zt)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function aA(e,n,t,r){const i=this.declaredInputs[t],a=Z0(e)||function lA(e,n){return e[X0]=n}(e,{previous:Zt,current:null}),c=a.current||(a.current={}),h=a.previous,g=h[i];c[i]=new oA(g&&g.currentValue,n,h===Zt),e[r]=n}Dr.ngInherit=!0;const X0="__ngSimpleChanges__";function Z0(e){return e[X0]||null}const hi=function(e,n,t){},Q0="svg";function Lt(e){for(;Array.isArray(e);)e=e[hn];return e}function au(e,n){return Lt(n[e])}function tr(e,n){return Lt(n[e.index])}function J0(e,n){return e.data[n]}function Os(e,n){return e[n]}function pr(e,n){const t=n[e];return hr(t)?t:t[hn]}function ho(e,n){return null==n?null:e[n]}function e1(e){e[Ns]=0}function gA(e){1024&e[Re]||(e[Re]|=1024,n1(e,1))}function t1(e){1024&e[Re]&&(e[Re]&=-1025,n1(e,-1))}function n1(e,n){let t=e[zt];if(null===t)return;t[ll]+=n;let r=t;for(t=t[zt];null!==t&&(1===n&&1===r[ll]||-1===n&&0===r[ll]);)t[ll]+=n,r=t,t=t[zt]}const Se={lFrame:h1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function o1(){return Se.bindingsEnabled}function Y(){return Se.lFrame.lView}function Je(){return Se.lFrame.tView}function St(e){return Se.lFrame.contextLView=e,e[Qt]}function Tt(e){return Se.lFrame.contextLView=null,e}function Dn(){let e=s1();for(;null!==e&&64===e.type;)e=e.parent;return e}function s1(){return Se.lFrame.currentTNode}function pi(e,n){const t=Se.lFrame;t.currentTNode=e,t.isParent=n}function Hf(){return Se.lFrame.isParent}function Hn(){const e=Se.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Ls(){return Se.lFrame.bindingIndex++}function IA(e,n){const t=Se.lFrame;t.bindingIndex=t.bindingRootIndex=e,zf(n)}function zf(e){Se.lFrame.currentDirectiveIndex=e}function Wf(e){Se.lFrame.currentQueryIndex=e}function TA(e){const n=e[le];return 2===n.type?n.declTNode:1===n.type?e[Pn]:null}function d1(e,n,t){if(t&Be.SkipSelf){let i=n,a=e;for(;!(i=i.parent,null!==i||t&Be.Host||(i=TA(a),null===i||(a=a[Ms],10&i.type))););if(null===i)return!1;n=i,e=a}const r=Se.lFrame=f1();return r.currentTNode=n,r.lView=e,!0}function $f(e){const n=f1(),t=e[le];Se.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function f1(){const e=Se.lFrame,n=null===e?null:e.child;return null===n?h1(e):n}function h1(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function p1(){const e=Se.lFrame;return Se.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const g1=p1;function qf(){const e=p1();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function jn(){return Se.lFrame.selectedIndex}function Go(e){Se.lFrame.selectedIndex=e}function Gt(){const e=Se.lFrame;return J0(e.tView,e.selectedIndex)}function gi(){Se.lFrame.currentNamespace=Q0}function Wo(){!function OA(){Se.lFrame.currentNamespace=null}()}let y1=!0;function lu(){return y1}function po(e){y1=e}function cu(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const a=e.data[t].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:h,ngAfterViewInit:g,ngAfterViewChecked:m,ngOnDestroy:w}=a;c&&(e.contentHooks??=[]).push(-t,c),h&&((e.contentHooks??=[]).push(t,h),(e.contentCheckHooks??=[]).push(t,h)),g&&(e.viewHooks??=[]).push(-t,g),m&&((e.viewHooks??=[]).push(t,m),(e.viewCheckHooks??=[]).push(t,m)),null!=w&&(e.destroyHooks??=[]).push(t,w)}}function uu(e,n,t){C1(e,n,3,t)}function du(e,n,t,r){(3&e[Re])===t&&C1(e,n,t,r)}function Yf(e,n){let t=e[Re];(3&t)===n&&(t&=8191,t+=1,e[Re]=t)}function C1(e,n,t,r){const a=r??-1,c=n.length-1;let h=0;for(let g=void 0!==r?65535&e[Ns]:0;g<c;g++)if("number"==typeof n[g+1]){if(h=n[g],null!=r&&h>=r)break}else n[g]<0&&(e[Ns]+=65536),(h<a||-1==a)&&(LA(e,t,n,g),e[Ns]=(4294901760&e[Ns])+g+2),g++}function v1(e,n){hi(4,e,n);const t=wn(null);try{n.call(e)}finally{wn(t),hi(5,e,n)}}function LA(e,n,t,r){const i=t[r]<0,a=t[r+1],h=e[i?-t[r]:t[r]];i?e[Re]>>13<e[Ns]>>16&&(3&e[Re])===n&&(e[Re]+=8192,v1(h,a)):v1(h,a)}const Fs=-1;class pl{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function w1(e){return e!==Fs}function fu(e){return 32767&e}function hu(e,n){let t=function VA(e){return e>>16}(e),r=n;for(;t>0;)r=r[Ms],t--;return r}let Zf=!0;function pu(e){const n=Zf;return Zf=e,n}const E1=255,x1=5;let UA=0;const mi={};function gu(e,n){const t=_1(e,n);if(-1!==t)return t;const r=n[le];r.firstCreatePass&&(e.injectorIndex=n.length,Qf(r.data,e),Qf(n,null),Qf(r.blueprint,null));const i=Kf(e,n),a=e.injectorIndex;if(w1(i)){const c=fu(i),h=hu(i,n),g=h[le].data;for(let m=0;m<8;m++)n[a+m]=h[c+m]|g[c+m]}return n[a+8]=i,a}function Qf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function _1(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Kf(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=M1(i),null===r)return Fs;if(t++,i=i[Ms],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Fs}function Jf(e,n,t){!function HA(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fi)&&(r=t[Fi]),null==r&&(r=t[Fi]=UA++);const i=r&E1;n.data[e+(i>>x1)]|=1<<i}(e,n,t)}function A1(e,n,t){if(t&Be.Optional||void 0!==e)return e;_e()}function b1(e,n,t,r){if(t&Be.Optional&&void 0===r&&(r=null),!(t&(Be.Self|Be.Host))){const i=e[Ts],a=Mn(void 0);try{return i?i.get(n,r,t&Be.Optional):tl(n,r,t&Be.Optional)}finally{Mn(a)}}return A1(r,0,t)}function D1(e,n,t,r=Be.Default,i){if(null!==e){if(2048&n[Re]&&!(r&Be.Self)){const c=function $A(e,n,t,r,i){let a=e,c=n;for(;null!==a&&null!==c&&2048&c[Re]&&!(512&c[Re]);){const h=I1(a,c,t,r|Be.Self,mi);if(h!==mi)return h;let g=a.parent;if(!g){const m=c[B0];if(m){const w=m.get(t,mi,r);if(w!==mi)return w}g=M1(c),c=c[Ms]}a=g}return i}(e,n,t,r,mi);if(c!==mi)return c}const a=I1(e,n,t,r,mi);if(a!==mi)return a}return b1(n,t,r,i)}function I1(e,n,t,r,i){const a=function GA(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Fi)?e[Fi]:void 0;return"number"==typeof n?n>=0?n&E1:WA:n}(t);if("function"==typeof a){if(!d1(n,e,r))return r&Be.Host?A1(i,0,r):b1(n,t,r,i);try{const c=a(r);if(null!=c||r&Be.Optional)return c;_e()}finally{g1()}}else if("number"==typeof a){let c=null,h=_1(e,n),g=Fs,m=r&Be.Host?n[Kt][Pn]:null;for((-1===h||r&Be.SkipSelf)&&(g=-1===h?Kf(e,n):n[h+8],g!==Fs&&T1(r,!1)?(c=n[le],h=fu(g),n=hu(g,n)):h=-1);-1!==h;){const w=n[le];if(S1(a,h,w.data)){const x=zA(h,n,t,c,r,m);if(x!==mi)return x}g=n[h+8],g!==Fs&&T1(r,n[le].data[h+8]===m)&&S1(a,h,n)?(c=w,h=fu(g),n=hu(g,n)):h=-1}}return i}function zA(e,n,t,r,i,a){const c=n[le],h=c.data[e+8],w=function mu(e,n,t,r,i){const a=e.providerIndexes,c=n.data,h=1048575&a,g=e.directiveStart,w=a>>20,b=i?h+w:e.directiveEnd;for(let M=r?h:h+w;M<b;M++){const L=c[M];if(M<g&&t===L||M>=g&&L.type===t)return M}if(i){const M=c[g];if(M&&qr(M)&&M.type===t)return g}return null}(h,c,t,null==r?jo(h)&&Zf:r!=c&&0!=(3&h.type),i&Be.Host&&a===h);return null!==w?$o(n,c,w,h):mi}function $o(e,n,t,r){let i=e[t];const a=n.data;if(function FA(e){return e instanceof pl}(i)){const c=i;c.resolving&&function If(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Z(-200,`Circular dependency in DI detected for ${e}${t}`)}(function st(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():be(e)}(a[t]));const h=pu(c.canSeeViewProviders);c.resolving=!0;const g=c.injectImpl?Mn(c.injectImpl):null;d1(e,r,Be.Default);try{i=e[t]=c.factory(void 0,a,e,r),n.firstCreatePass&&t>=r.directiveStart&&function PA(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=n.type.prototype;if(r){const c=Y0(n);(t.preOrderHooks??=[]).push(e,c),(t.preOrderCheckHooks??=[]).push(e,c)}i&&(t.preOrderHooks??=[]).push(0-e,i),a&&((t.preOrderHooks??=[]).push(e,a),(t.preOrderCheckHooks??=[]).push(e,a))}(t,a[t],n)}finally{null!==g&&Mn(g),pu(h),c.resolving=!1,g1()}}return i}function S1(e,n,t){return!!(t[n+(e>>x1)]&1<<e)}function T1(e,n){return!(e&Be.Self||e&Be.Host&&n)}class ks{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return D1(this._tNode,this._lView,n,Gr(r),t)}}function WA(){return new ks(Dn(),Y())}function In(e){return Kn(()=>{const n=e.prototype.constructor,t=n[Wr]||eh(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const a=i[Wr]||eh(i);if(a&&a!==t)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function eh(e){return we(e)?()=>{const n=eh(ve(e));return n&&n()}:zo(e)}function M1(e){const n=e[le],t=n.type;return 2===t?n.declTNode:1===t?e[Pn]:null}const Vs="__parameters__";function Hs(e,n,t){return Kn(()=>{const r=function th(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...a){if(this instanceof i)return r.apply(this,a),this;const c=new i(...a);return h.annotation=c,h;function h(g,m,w){const x=g.hasOwnProperty(Vs)?g[Vs]:Object.defineProperty(g,Vs,{value:[]})[Vs];for(;x.length<=w;)x.push(null);return(x[w]=x[w]||[]).push(c),g}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function ml(e,n){e.forEach(t=>Array.isArray(t)?ml(t,n):n(t))}function R1(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Cu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function gr(e,n,t){let r=zs(e,n);return r>=0?e[1|r]=t:(r=~r,function JA(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function nh(e,n){const t=zs(e,n);if(t>=0)return e[1|t]}function zs(e,n){return function O1(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const a=r+(i-r>>1),c=e[a<<t];if(n===c)return a<<t;c>n?i=a:r=a+1}return~(i<<t)}(e,n,1)}const wu=Vo(Hs("Optional"),8),Eu=Vo(Hs("SkipSelf"),4);function Du(e){return 128==(128&e.flags)}var go=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(go||{});const ah=new Map;let _b=0;const ch="__ngContext__";function Fn(e,n){hr(n)?(e[ch]=n[dl],function bb(e){ah.set(e[dl],e)}(n)):e[ch]=n}let uh;function dh(e,n){return uh(e,n)}function wl(e){const n=e[zt];return er(n)?n[zt]:n}function J1(e){return tm(e[cl])}function em(e){return tm(e[$r])}function tm(e){for(;null!==e&&!er(e);)e=e[$r];return e}function $s(e,n,t,r,i){if(null!=r){let a,c=!1;er(r)?a=r:hr(r)&&(c=!0,r=r[hn]);const h=Lt(r);0===e&&null!==t?null==i?sm(n,t,h):qo(n,t,h,i||null,!0):1===e&&null!==t?qo(n,t,h,i||null,!0):2===e?function Ru(e,n,t){const r=Mu(e,n);r&&function Gb(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,h,c):3===e&&n.destroyNode(h),null!=a&&function qb(e,n,t,r,i){const a=t[di];a!==Lt(t)&&$s(n,e,r,a,i);for(let h=Ln;h<t.length;h++){const g=t[h];xl(g[le],g,e,n,r,a)}}(n,e,a,t,i)}}function Tu(e,n,t){return e.createElement(n,t)}function rm(e,n){const t=e[Rs],r=t.indexOf(n);t1(n),t.splice(r,1)}function hh(e,n){if(e.length<=Ln)return;const t=Ln+n,r=e[t];if(r){const i=r[ul];null!==i&&i!==e&&rm(i,r),n>0&&(e[t-1][$r]=r[$r]);const a=Cu(e,Ln+n);!function Fb(e,n){xl(e,n,n[Oe],2,null,null),n[hn]=null,n[Pn]=null}(r[le],r);const c=a[ui];null!==c&&c.detachView(a[le]),r[zt]=null,r[$r]=null,r[Re]&=-129}return r}function im(e,n){if(!(256&n[Re])){const t=n[Oe];n[eu]?.destroy(),n[tu]?.destroy(),t.destroyNode&&xl(e,n,t,3,null,null),function Vb(e){let n=e[cl];if(!n)return ph(e[le],e);for(;n;){let t=null;if(hr(n))t=n[cl];else{const r=n[Ln];r&&(t=r)}if(!t){for(;n&&!n[$r]&&n!==e;)hr(n)&&ph(n[le],n),n=n[zt];null===n&&(n=e),hr(n)&&ph(n[le],n),t=n&&n[$r]}n=t}}(n)}}function ph(e,n){if(!(256&n[Re])){n[Re]&=-129,n[Re]|=256,function zb(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof pl)){const a=t[r+1];if(Array.isArray(a))for(let c=0;c<a.length;c+=2){const h=i[a[c]],g=a[c+1];hi(4,h,g);try{g.call(h)}finally{hi(5,h,g)}}else{hi(4,i,a);try{a.call(i)}finally{hi(5,i,a)}}}}}(e,n),function jb(e,n){const t=e.cleanup,r=n[Ss];if(null!==t)for(let a=0;a<t.length-1;a+=2)if("string"==typeof t[a]){const c=t[a+3];c>=0?r[c]():r[-c].unsubscribe(),a+=2}else t[a].call(r[t[a+1]]);null!==r&&(n[Ss]=null);const i=n[fo];if(null!==i){n[fo]=null;for(let a=0;a<i.length;a++)(0,i[a])()}}(e,n),1===n[le].type&&n[Oe].destroy();const t=n[ul];if(null!==t&&er(n[zt])){t!==n[zt]&&rm(t,n);const r=n[ui];null!==r&&r.detachView(e)}!function Db(e){ah.delete(e[dl])}(n)}}function gh(e,n,t){return function om(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[hn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:a}=e.data[r.directiveStart+i];if(a===Jn.None||a===Jn.Emulated)return null}return tr(r,t)}}(e,n.parent,t)}function qo(e,n,t,r,i){e.insertBefore(n,t,r,i)}function sm(e,n,t){e.appendChild(n,t)}function am(e,n,t,r,i){null!==r?qo(e,n,t,r,i):sm(e,n,t)}function Mu(e,n){return e.parentNode(n)}let mh,wh,Pu,um=function cm(e,n,t){return 40&e.type?tr(e,t):null};function Nu(e,n,t,r){const i=gh(e,r,n),a=n[Oe],h=function lm(e,n,t){return um(e,n,t)}(r.parent||n[Pn],r,n);if(null!=i)if(Array.isArray(t))for(let g=0;g<t.length;g++)am(a,i,t[g],h,!1);else am(a,i,t,h,!1);void 0!==mh&&mh(a,r,n,t,i)}function El(e,n){if(null!==n){const t=n.type;if(3&t)return tr(n,e);if(4&t)return yh(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return El(e,r);{const i=e[n.index];return er(i)?yh(-1,i):Lt(i)}}if(32&t)return dh(n,e)()||Lt(e[n.index]);{const r=fm(e,n);return null!==r?Array.isArray(r)?r[0]:El(wl(e[Kt]),r):El(e,n.next)}}return null}function fm(e,n){return null!==n?e[Kt][Pn].projection[n.projection]:null}function yh(e,n){const t=Ln+e+1;if(t<n.length){const r=n[t],i=r[le].firstChild;if(null!==i)return El(r,i)}return n[di]}function Ch(e,n,t,r,i,a,c){for(;null!=t;){const h=r[t.index],g=t.type;if(c&&0===n&&(h&&Fn(Lt(h),r),t.flags|=2),32!=(32&t.flags))if(8&g)Ch(e,n,t.child,r,i,a,!1),$s(n,e,i,h,a);else if(32&g){const m=dh(t,r);let w;for(;w=m();)$s(n,e,i,w,a);$s(n,e,i,h,a)}else 16&g?pm(e,n,r,t,i,a):$s(n,e,i,h,a);t=c?t.projectionNext:t.next}}function xl(e,n,t,r,i,a){Ch(t,r,e.firstChild,n,i,a,!1)}function pm(e,n,t,r,i,a){const c=t[Kt],g=c[Pn].projection[r.projection];if(Array.isArray(g))for(let m=0;m<g.length;m++)$s(n,e,i,g[m],a);else{let m=g;const w=c[zt];Du(r)&&(m.flags|=128),Ch(e,n,m,w,i,a,!0)}}function gm(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function mm(e,n,t){const{mergedAttrs:r,classes:i,styles:a}=t;null!==r&&co(e,n,r),null!==i&&gm(e,n,i),null!==a&&function Xb(e,n,t){e.setAttribute(n,"style",t)}(e,n,a)}function vm(e){return function Eh(){if(void 0===Pu&&(Pu=null,ct.trustedTypes))try{Pu=ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pu}()?.createScriptURL(e)||e}class wm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wc})`}}function mo(e){return e instanceof wm?e.changingThisBreaksApplicationSecurity:e}function Al(e,n){const t=function oD(e){return e instanceof wm&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Wc})`)}return t===n}const cD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ys=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ys||{});function mr(e){const n=Dl();return n?n.sanitize(Ys.URL,e)||"":Al(e,"URL")?mo(e):function xh(e){return(e=String(e)).match(cD)?e:"unsafe:"+e}(be(e))}function Im(e){const n=Dl();if(n)return vm(n.sanitize(Ys.RESOURCE_URL,e)||"");if(Al(e,"ResourceURL"))return vm(mo(e));throw new Z(904,!1)}function Dl(){const e=Y();return e&&e[Ho].sanitizer}class de{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=se({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Il=new de("ENVIRONMENT_INITIALIZER"),Tm=new de("INJECTOR",-1),Mm=new de("INJECTOR_DEF_TYPES");class Nm{get(n,t=lt){if(t===lt){const r=new Error(`NullInjectorError: No provider for ${qe(n)}!`);throw r.name="NullInjectorError",r}return t}}function xD(...e){return{\u0275providers:Rm(0,e),\u0275fromNgModule:!0}}function Rm(e,...n){const t=[],r=new Set;let i;return ml(n,a=>{const c=a;Ih(c,t,[],r)&&(i||=[],i.push(c))}),void 0!==i&&Om(i,t),t}function Om(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];Sh(i,a=>{n.push(a)})}}function Ih(e,n,t,r){if(!(e=ve(e)))return!1;let i=null,a=Xc(e);const c=!a&&Ge(e);if(a||c){if(c&&!c.standalone)return!1;i=e}else{const g=e.ngModule;if(a=Xc(g),!a)return!1;i=g}const h=r.has(i);if(c){if(h)return!1;if(r.add(i),c.dependencies){const g="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const m of g)Ih(m,n,t,r)}}else{if(!a)return!1;{if(null!=a.imports&&!h){let m;r.add(i);try{ml(a.imports,w=>{Ih(w,n,t,r)&&(m||=[],m.push(w))})}finally{}void 0!==m&&Om(m,n)}if(!h){const m=zo(i)||(()=>new i);n.push({provide:i,useFactory:m,deps:Ke},{provide:Mm,useValue:i,multi:!0},{provide:Il,useValue:()=>te(i),multi:!0})}const g=a.providers;null==g||h||Sh(g,w=>{n.push(w)})}}return i!==e&&void 0!==e.providers}function Sh(e,n){for(let t of e)Es(t)&&(t=t.\u0275providers),Array.isArray(t)?Sh(t,n):n(t)}const _D=D({provide:String,useValue:D});function Th(e){return null!==e&&"object"==typeof e&&_D in e}function Yo(e){return"function"==typeof e}const Mh=new de("Set Injector scope."),Fu={},bD={};let Nh;function ku(){return void 0===Nh&&(Nh=new Nm),Nh}class yi{}class Rh extends yi{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ph(n,c=>this.processProvider(c)),this.records.set(Tm,Xs(void 0,this)),i.has("environment")&&this.records.set(yi,Xs(void 0,this));const a=this.records.get(Mh);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Mm.multi,Ke,Be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=zr(this),r=Mn(void 0);try{return n()}finally{zr(t),Mn(r)}}get(n,t=lt,r=Be.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(lo))return n[lo](this);r=Gr(r);const i=zr(this),a=Mn(void 0);try{if(!(r&Be.SkipSelf)){let h=this.records.get(n);if(void 0===h){const g=function MD(e){return"function"==typeof e||"object"==typeof e&&e instanceof de}(n)&&at(n);h=g&&this.injectableDefInScope(g)?Xs(Oh(n),Fu):null,this.records.set(n,h)}if(null!=h)return this.hydrate(n,h)}return(r&Be.Self?ku():this.parent).get(n,t=r&Be.Optional&&t===lt?null:t)}catch(c){if("NullInjectorError"===c.name){if((c[Ds]=c[Ds]||[]).unshift(qe(n)),i)throw c;return function Rf(e,n,t,r){const i=e[Ds];throw n[Kc]&&i.unshift(n[Kc]),e.message=function ci(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=qe(n);if(Array.isArray(n))i=n.map(qe).join(" -> ");else if("object"==typeof n){let a=[];for(let c in n)if(n.hasOwnProperty(c)){let h=n[c];a.push(c+":"+("string"==typeof h?JSON.stringify(h):qe(h)))}i=`{${a.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(Nf,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Ds]=null,e}(c,n,"R3InjectorError",this.source)}throw c}finally{Mn(a),zr(i)}}resolveInjectorInitializers(){const n=zr(this),t=Mn(void 0);try{const r=this.get(Il.multi,Ke,Be.Self);for(const i of r)i()}finally{zr(n),Mn(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(qe(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(n){let t=Yo(n=ve(n))?n:ve(n&&n.provide);const r=function ID(e){return Th(e)?Xs(void 0,e.useValue):Xs(Fm(e),Fu)}(n);if(Yo(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Xs(void 0,Fu,!0),i.factory=()=>Bo(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===Fu&&(t.value=bD,t.value=t.factory()),"object"==typeof t.value&&t.value&&function TD(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=ve(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Oh(e){const n=at(e),t=null!==n?n.factory:zo(e);if(null!==t)return t;if(e instanceof de)throw new Z(204,!1);if(e instanceof Function)return function DD(e){const n=e.length;if(n>0)throw function yl(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new Z(204,!1);const t=function li(e){return e&&(e[H]||e[sn])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new Z(204,!1)}function Fm(e,n,t){let r;if(Yo(e)){const i=ve(e);return zo(i)||Oh(i)}if(Th(e))r=()=>ve(e.useValue);else if(function Lm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Bo(e.deps||[]));else if(function Pm(e){return!(!e||!e.useExisting)}(e))r=()=>te(ve(e.useExisting));else{const i=ve(e&&(e.useClass||e.provide));if(!function SD(e){return!!e.deps}(e))return zo(i)||Oh(i);r=()=>new i(...Bo(e.deps))}return r}function Xs(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Ph(e,n){for(const t of e)Array.isArray(t)?Ph(t,n):t&&Es(t)?Ph(t.\u0275providers,n):n(t)}const Bu=new de("AppId",{providedIn:"root",factory:()=>ND}),ND="ng",km=new de("Platform Initializer"),Xo=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bm=new de("CSP nonce",{providedIn:"root",factory:()=>function _l(){if(void 0!==wh)return wh;if(typeof document<"u")return document;throw new Z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Um=(e,n)=>null;function Hm(e,n){return Um(e,n)}class UD{}class Gm{}class jD{resolveComponentFactory(n){throw function HD(e){const n=Error(`No component factory found for ${qe(e)}.`);return n.ngComponent=e,n}(n)}}let zu=(()=>{class e{}return e.NULL=new jD,e})();function zD(){return Qs(Dn(),Y())}function Qs(e,n){return new yr(tr(e,n))}let yr=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=zD,e})();class $m{}let Hi=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function WD(){const e=Y(),t=pr(Dn().index,e);return(hr(t)?t:e)[Oe]}(),e})(),$D=(()=>{class e{}return e.\u0275prov=se({token:e,providedIn:"root",factory:()=>null}),e})();class Ml{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const qD=new Ml("16.1.7"),Wh={};function Nl(e){for(;e;){e[Re]|=64;const n=wl(e);if(Lf(e)&&!n)return e;e=n}return null}function $h(e){return e.ngOriginalError}class Zo{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&$h(n);for(;t&&$h(t);)t=$h(t);return t||null}}const Xm=new de("",{providedIn:"root",factory:()=>!1});function ji(e){return e instanceof Function?e():e}class ey extends G0{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Nl(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,t,r){const i=wn(this);this.trackingVersion++;try{n(t,r)}finally{wn(i)}}destroy(){this.trackingVersion++}}let Wu=null;function ty(){return Wu??=new ey,Wu}function ny(e,n){return e[n]??ty()}function ry(e,n){const t=ty();t.hasReadASignal&&(e[n]=Wu,t.lView=e,Wu=new ey)}const Pe={};function z(e){iy(Je(),Y(),jn()+e,!1)}function iy(e,n,t,r){if(!r)if(3==(3&n[Re])){const a=e.preOrderCheckHooks;null!==a&&uu(n,a,t)}else{const a=e.preOrderHooks;null!==a&&du(n,a,0,t)}Go(t)}function ly(e,n=null,t=null,r){const i=cy(e,n,t,r);return i.resolveInjectorInitializers(),i}function cy(e,n=null,t=null,r,i=new Set){const a=[t||Ke,xD(e)];return r=r||("object"==typeof e?void 0:qe(e)),new Rh(a,n||ku(),r||null,i)}let Ci=(()=>{class e{static create(t,r){if(Array.isArray(t))return ly({name:""},r,t,"");{const i=t.name??"";return ly({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=lt,e.NULL=new Nm,e.\u0275prov=se({token:e,providedIn:"any",factory:()=>te(Tm)}),e.__NG_ELEMENT_ID__=-1,e})();function $(e,n=Be.Default){const t=Y();return null===t?te(e,n):D1(Dn(),t,ve(e),n)}function $u(e,n,t,r,i,a,c,h,g,m,w){const x=n.blueprint.slice();return x[hn]=i,x[Re]=140|r,(null!==m||e&&2048&e[Re])&&(x[Re]|=2048),e1(x),x[zt]=x[Ms]=e,x[Qt]=t,x[Ho]=c||e&&e[Ho],x[Oe]=h||e&&e[Oe],x[Ts]=g||e&&e[Ts]||null,x[Pn]=a,x[dl]=function Ab(){return _b++}(),x[ki]=w,x[B0]=m,x[Kt]=2==n.type?e[Kt]:x,x}function Js(e,n,t,r,i){let a=e.data[n];if(null===a)a=function qh(e,n,t,r,i){const a=s1(),c=Hf(),g=e.data[n]=function pI(e,n,t,r,i,a){let c=n?n.injectorIndex:-1,h=0;return function Ps(){return null!==Se.skipHydrationRootTNode}()&&(h|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?a:a&&a.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=g),null!==a&&(c?null==a.child&&null!==g.parent&&(a.child=g):null===a.next&&(a.next=g,g.prev=a)),g}(e,n,t,r,i),function DA(){return Se.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=t,a.value=r,a.attrs=i;const c=function hl(){const e=Se.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();a.injectorIndex=null===c?-1:c.injectorIndex}return pi(a,!0),a}function Rl(e,n,t,r){if(0===t)return-1;const i=n.length;for(let a=0;a<t;a++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function dy(e,n,t,r,i){const a=ny(n,eu),c=jn(),h=2&r;try{if(Go(-1),h&&n.length>Ye&&iy(e,n,Ye,!1),hi(h?2:0,i),h)a.runInContext(t,r,i);else{const m=wn(null);try{t(r,i)}finally{wn(m)}}}finally{h&&null===n[eu]&&ry(n,eu),Go(c),hi(h?3:1,i)}}function Yh(e,n,t){if(Pf(n)){const r=wn(null);try{const a=n.directiveEnd;for(let c=n.directiveStart;c<a;c++){const h=e.data[c];h.contentQueries&&h.contentQueries(1,t[c],c)}}finally{wn(r)}}}function Xh(e,n,t){o1()&&(function EI(e,n,t,r){const i=t.directiveStart,a=t.directiveEnd;jo(t)&&function SI(e,n,t){const r=tr(n,e),i=fy(t);let c=16;t.signals?c=4096:t.onPush&&(c=64);const h=qu(e,$u(e,i,null,c,r,n,null,e[Ho].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=h}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||gu(t,n),Fn(r,n);const c=t.initialInputs;for(let h=i;h<a;h++){const g=e.data[h],m=$o(n,e,h,t);Fn(m,n),null!==c&&TI(0,h-i,m,g,0,c),qr(g)&&(pr(t.index,n)[Qt]=$o(n,e,h,t))}}(e,n,t,tr(t,n)),64==(64&t.flags)&&yy(e,n,t))}function Zh(e,n,t=tr){const r=n.localNames;if(null!==r){let i=n.index+1;for(let a=0;a<r.length;a+=2){const c=r[a+1],h=-1===c?t(n,e):e[c];e[i++]=h}}}function fy(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Qh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Qh(e,n,t,r,i,a,c,h,g,m,w){const x=Ye+r,b=x+i,M=function lI(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:Pe);return t}(x,b),L="function"==typeof m?m():m;return M[le]={type:e,blueprint:M,template:t,queries:null,viewQuery:h,declTNode:n,data:M.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:g,consts:L,incompleteFirstPass:!1,ssrId:w}}let hy=e=>null;function py(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const a=e[i];null===r?gy(t,n,i,a):r.hasOwnProperty(i)&&gy(t,n,r[i],a)}return t}function gy(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function Cr(e,n,t,r,i,a,c,h){const g=tr(n,t);let w,m=n.inputs;!h&&null!=m&&(w=m[r])?(np(e,t,w,r,i),jo(n)&&function yI(e,n){const t=pr(n,e);16&t[Re]||(t[Re]|=64)}(t,n.index)):3&n.type&&(r=function mI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=c?c(i,n.value||"",r):i,a.setProperty(g,r,i))}function Kh(e,n,t,r){if(o1()){const i=null===r?null:{"":-1},a=function _I(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let a=0;a<t.length;a++){const c=t[a];if(_(n,c.selectors,!1))if(r||(r=[]),qr(c))if(null!==c.findHostDirectiveDefs){const h=[];i=i||new Map,c.findHostDirectiveDefs(c,h,i),r.unshift(...h,c),Jh(e,n,h.length)}else r.unshift(c),Jh(e,n,0);else i=i||new Map,c.findHostDirectiveDefs?.(c,r,i),r.push(c)}return null===r?null:[r,i]}(e,t);let c,h;null===a?c=h=null:[c,h]=a,null!==c&&my(e,n,t,c,i,h),i&&function AI(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const a=t[n[i+1]];if(null==a)throw new Z(-301,!1);r.push(n[i],a)}}}(t,r,i)}t.mergedAttrs=s(t.mergedAttrs,t.attrs)}function my(e,n,t,r,i,a){for(let m=0;m<r.length;m++)Jf(gu(t,n),e,r[m].type);!function DI(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let m=0;m<r.length;m++){const w=r[m];w.providersResolver&&w.providersResolver(w)}let c=!1,h=!1,g=Rl(e,n,r.length,null);for(let m=0;m<r.length;m++){const w=r[m];t.mergedAttrs=s(t.mergedAttrs,w.hostAttrs),II(e,t,n,g,w),bI(g,w,i),null!==w.contentQueries&&(t.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(t.flags|=64);const x=w.type.prototype;!c&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!h&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),h=!0),g++}!function gI(e,n,t){const i=n.directiveEnd,a=e.data,c=n.attrs,h=[];let g=null,m=null;for(let w=n.directiveStart;w<i;w++){const x=a[w],b=t?t.get(x):null,L=b?b.outputs:null;g=py(x.inputs,w,g,b?b.inputs:null),m=py(x.outputs,w,m,L);const P=null===g||null===c||f(n)?null:MI(g,w,c);h.push(P)}null!==g&&(g.hasOwnProperty("class")&&(n.flags|=8),g.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=h,n.inputs=g,n.outputs=m}(e,t,a)}function yy(e,n,t){const r=t.directiveStart,i=t.directiveEnd,a=t.index,c=function SA(){return Se.lFrame.currentDirectiveIndex}();try{Go(a);for(let h=r;h<i;h++){const g=e.data[h],m=n[h];zf(h),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&xI(g,m)}}finally{Go(-1),zf(c)}}function xI(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Jh(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function bI(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;qr(n)&&(t[""]=e)}}function II(e,n,t,r,i){e.data[r]=i;const a=i.factory||(i.factory=zo(i.type)),c=new pl(a,qr(i),$);e.blueprint[r]=c,t[r]=c,function vI(e,n,t,r,i){const a=i.hostBindings;if(a){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const h=~n.index;(function wI(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(c)!=h&&c.push(h),c.push(t,r,a)}}(e,n,r,Rl(e,t,i.hostVars,Pe),i)}function vi(e,n,t,r,i,a){const c=tr(e,n);!function ep(e,n,t,r,i,a,c){if(null==a)e.removeAttribute(n,i,t);else{const h=null==c?be(a):c(a,r||"",i);e.setAttribute(n,i,h,t)}}(n[Oe],c,a,e.value,t,r,i)}function TI(e,n,t,r,i,a){const c=a[n];if(null!==c)for(let h=0;h<c.length;)Cy(r,t,c[h++],c[h++],c[h++])}function Cy(e,n,t,r,i){const a=wn(null);try{const c=e.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(i=c[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{wn(a)}}function MI(e,n,t){let r=null,i=0;for(;i<t.length;){const a=t[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const c=e[a];for(let h=0;h<c.length;h+=2)if(c[h]===n){r.push(a,c[h+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function vy(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function wy(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const a=t[r+1];if(-1!==a){const c=e.data[a];Wf(t[r]),c.contentQueries(2,n[a],a)}}}function qu(e,n){return e[cl]?e[k0][$r]=n:e[cl]=n,e[k0]=n,n}function tp(e,n,t){Wf(0);const r=wn(null);try{n(e,t)}finally{wn(r)}}function Ay(e,n){const t=e[Ts],r=t?t.get(Zo,null):null;r&&r.handleError(n)}function np(e,n,t,r,i){for(let a=0;a<t.length;){const c=t[a++],h=t[a++];Cy(e.data[c],n[c],r,h,i)}}function NI(e,n){const t=pr(n,e),r=t[le];!function RI(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[hn];null!==i&&null===t[ki]&&(t[ki]=Hm(i,t[Ts])),rp(r,t,t[Qt])}function rp(e,n,t){$f(n);try{const r=e.viewQuery;null!==r&&tp(1,r,t);const i=e.template;null!==i&&dy(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&wy(e,n),e.staticViewQueries&&tp(2,e.viewQuery,t);const a=e.components;null!==a&&function OI(e,n){for(let t=0;t<n.length;t++)NI(e,n[t])}(n,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[Re]&=-5,qf()}}let by=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const a=typeof Zone>"u"?null:Zone.current,c=new iA(t,m=>{this.all.has(m)&&this.queue.set(m,a)},i);let h;this.all.add(c),c.notify();const g=()=>{c.cleanup(),h?.(),this.all.delete(c),this.queue.delete(c)};return h=r?.onDestroy(g),{destroy:g}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=se({token:e,providedIn:"root",factory:()=>new e}),e})();function Yu(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,a=0;if(null!==n)for(let c=0;c<n.length;c++){const h=n[c];"number"==typeof h?a=h:1==a?i=Tn(i,h):2==a&&(r=Tn(r,h+": "+n[++c]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Ol(e,n,t,r,i=!1){for(;null!==t;){const a=n[t.index];if(null!==a&&r.push(Lt(a)),er(a)){for(let h=Ln;h<a.length;h++){const g=a[h],m=g[le].firstChild;null!==m&&Ol(g[le],g,m,r)}a[di]!==a[hn]&&r.push(a[di])}const c=t.type;if(8&c)Ol(e,n,t.child,r);else if(32&c){const h=dh(t,n);let g;for(;g=h();)r.push(g)}else if(16&c){const h=fm(n,t);if(Array.isArray(h))r.push(...h);else{const g=wl(n[Kt]);Ol(g[le],g,h,r,!0)}}t=i?t.projectionNext:t.next}return r}function Xu(e,n,t,r=!0){const i=n[Ho].rendererFactory;i.begin&&i.begin();try{Dy(e,n,e.template,t)}catch(c){throw r&&Ay(n,c),c}finally{i.end&&i.end(),n[Ho].effectManager?.flush()}}function Dy(e,n,t,r){const i=n[Re];if(256!=(256&i)){n[Ho].effectManager?.flush(),$f(n);try{e1(n),function l1(e){return Se.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&dy(e,n,t,2,r);const c=3==(3&i);if(c){const m=e.preOrderCheckHooks;null!==m&&uu(n,m,null)}else{const m=e.preOrderHooks;null!==m&&du(n,m,0,null),Yf(n,0)}if(function BI(e){for(let n=J1(e);null!==n;n=em(n)){if(!n[V0])continue;const t=n[Rs];for(let r=0;r<t.length;r++){gA(t[r])}}}(n),Iy(n,2),null!==e.contentQueries&&wy(e,n),c){const m=e.contentCheckHooks;null!==m&&uu(n,m)}else{const m=e.contentHooks;null!==m&&du(n,m,1),Yf(n,1)}!function aI(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=ny(n,tu);try{for(let i=0;i<t.length;i++){const a=t[i];if(a<0)Go(~a);else{const c=a,h=t[++i],g=t[++i];IA(h,c),r.runInContext(g,2,n[c])}}}finally{null===n[tu]&&ry(n,tu),Go(-1)}}(e,n);const h=e.components;null!==h&&Ty(n,h,0);const g=e.viewQuery;if(null!==g&&tp(2,g,r),c){const m=e.viewCheckHooks;null!==m&&uu(n,m)}else{const m=e.viewHooks;null!==m&&du(n,m,2),Yf(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Re]&=-73,t1(n)}finally{qf()}}}function Iy(e,n){for(let t=J1(e);null!==t;t=em(t))for(let r=Ln;r<t.length;r++)Sy(t[r],n)}function VI(e,n,t){Sy(pr(n,e),t)}function Sy(e,n){if(!function hA(e){return 128==(128&e[Re])}(e))return;const t=e[le];if(80&e[Re]&&0===n||1024&e[Re]||2===n)Dy(t,e,t.template,e[Qt]);else if(e[ll]>0){Iy(e,1);const i=e[le].components;null!==i&&Ty(e,i,1)}}function Ty(e,n,t){for(let r=0;r<n.length;r++)VI(e,n[r],t)}class Pl{get rootNodes(){const n=this._lView,t=n[le];return Ol(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(n){this._lView[Qt]=n}get destroyed(){return 256==(256&this._lView[Re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[zt];if(er(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(hh(n,r),Cu(t,r))}this._attachedToViewContainer=!1}im(this._lView[le],this._lView)}onDestroy(n){!function r1(e,n){if(256==(256&e[Re]))throw new Z(911,!1);null===e[fo]&&(e[fo]=[]),e[fo].push(n)}(this._lView,n)}markForCheck(){Nl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Re]&=-129}reattach(){this._lView[Re]|=128}detectChanges(){Xu(this._lView[le],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bb(e,n){xl(e,n,n[Oe],2,null,null)}(this._lView[le],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=n}}class UI extends Pl{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Xu(n[le],n,n[Qt],!1)}checkNoChanges(){}get context(){return null}}class My extends zu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Ge(n);return new Ll(t,this.ngModule)}}function Ny(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class jI{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Gr(r);const i=this.injector.get(n,Wh,r);return i!==Wh||t===Wh?i:this.parentInjector.get(n,t,r)}}class Ll extends Gm{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=Ny(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Ny(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function K(e){return e.map(U).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let a=(i=i||this.ngModule)instanceof yi?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const c=a?new jI(n,a):n,h=c.get($m,null);if(null===h)throw new Z(407,!1);const w={rendererFactory:h,sanitizer:c.get($D,null),effectManager:c.get(by,null)},x=h.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",M=r?function cI(e,n,t,r){const a=r.get(Xm,!1)||t===Jn.ShadowDom,c=e.selectRootElement(n,a);return function uI(e){hy(e)}(c),c}(x,r,this.componentDef.encapsulation,c):Tu(x,b,function HI(e){const n=e.toLowerCase();return"svg"===n?Q0:"math"===n?"math":null}(b)),B=this.componentDef.signals?4608:this.componentDef.onPush?576:528,G=Qh(0,null,null,1,0,null,null,null,null,null,null),V=$u(null,G,null,B,null,null,w,x,c,null,null);let J,fe;$f(V);try{const he=this.componentDef;let ft,xn=null;he.findHostDirectiveDefs?(ft=[],xn=new Map,he.findHostDirectiveDefs(he,ft,xn),ft.push(he)):ft=[he];const eo=function GI(e,n){const t=e[le],r=Ye;return e[r]=n,Js(t,r,2,"#host",null)}(V,M),sr=function WI(e,n,t,r,i,a,c){const h=i[le];!function $I(e,n,t,r){for(const i of e)n.mergedAttrs=s(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Yu(n,n.mergedAttrs,!0),null!==t&&mm(r,t,n))}(r,e,n,c);let g=null;null!==n&&(g=Hm(n,i[Ts]));const m=a.rendererFactory.createRenderer(n,t);let w=16;t.signals?w=4096:t.onPush&&(w=64);const x=$u(i,fy(t),null,w,i[e.index],e,a,m,null,null,g);return h.firstCreatePass&&Jh(h,e,r.length-1),qu(i,x),i[e.index]=x}(eo,M,he,ft,V,w,x);fe=J0(G,Ye),M&&function YI(e,n,t,r){if(r)co(e,t,["ng-version",qD.full]);else{const{attrs:i,classes:a}=function oe(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===i?""!==a&&n.push(a,e[++r]):8===i&&t.push(a);else{if(!C(i))break;i=a}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&co(e,t,i),a&&a.length>0&&gm(e,t,a.join(" "))}}(x,he,M,r),void 0!==t&&function XI(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const a=t[i];r.push(null!=a?Array.from(a):null)}}(fe,this.ngContentSelectors,t),J=function qI(e,n,t,r,i,a){const c=Dn(),h=i[le],g=tr(c,i);my(h,i,c,t,null,r);for(let w=0;w<t.length;w++)Fn($o(i,h,c.directiveStart+w,c),i);yy(h,i,c),g&&Fn(g,i);const m=$o(i,h,c.directiveStart+c.componentOffset,c);if(e[Qt]=i[Qt]=m,null!==a)for(const w of a)w(m,n);return Yh(h,c,e),m}(sr,he,ft,xn,V,[ZI]),rp(G,V,null)}finally{qf()}return new zI(this.componentType,J,Qs(fe,V),V,fe)}}class zI extends UD{constructor(n,t,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new UI(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const a=this._rootLView;np(a[le],a,i,n,t),this.previousInputValues.set(n,t),Nl(pr(this._tNode.index,a))}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function ZI(){const e=Dn();cu(Y()[le],e)}function wt(e){let n=function Ry(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(qr(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Z(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const c=e;c.inputs=Zu(e.inputs),c.inputTransforms=Zu(e.inputTransforms),c.declaredInputs=Zu(e.declaredInputs),c.outputs=Zu(e.outputs);const h=i.hostBindings;h&&eS(e,h);const g=i.viewQuery,m=i.contentQueries;if(g&&KI(e,g),m&&JI(e,m),Ce(e.inputs,i.inputs),Ce(e.declaredInputs,i.declaredInputs),Ce(e.outputs,i.outputs),null!==i.inputTransforms&&(null===c.inputTransforms&&(c.inputTransforms={}),Ce(c.inputTransforms,i.inputTransforms)),qr(i)&&i.data.animation){const w=e.data;w.animation=(w.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let c=0;c<a.length;c++){const h=a[c];h&&h.ngInherit&&h(e),h===wt&&(t=!1)}}n=Object.getPrototypeOf(n)}!function QI(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=s(i.hostAttrs,t=s(t,i.hostAttrs))}}(r)}function Zu(e){return e===Zt?{}:e===Ke?[]:e}function KI(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function JI(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,a)=>{n(r,i,a),t(r,i,a)}:n}function eS(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function Fy(e){const n=e.inputConfig,t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}e.inputTransforms=t}function Qu(e){return!!ip(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function ip(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function wi(e,n,t){return e[n]=t}function kn(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Ei(e,n,t,r){const i=Y();return kn(i,Ls(),n)&&(Je(),vi(Gt(),i,e,n,t,r)),Ei}function ta(e,n,t,r){return kn(e,Ls(),t)?n+be(t)+r:Pe}function ye(e,n,t,r,i,a,c,h){const g=Y(),m=Je(),w=e+Ye,x=m.firstCreatePass?function bS(e,n,t,r,i,a,c,h,g){const m=n.consts,w=Js(n,e,4,c||null,ho(m,h));Kh(n,t,w,ho(m,g)),cu(n,w);const x=w.tView=Qh(2,w,r,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,m,null);return null!==n.queries&&(n.queries.template(n,w),x.queries=n.queries.embeddedTView(w)),w}(w,m,g,n,t,r,i,a,c):m.data[w];pi(x,!1);const b=Xy(m,g,x,e);lu()&&Nu(m,g,b,x),Fn(b,g),qu(g,g[w]=vy(b,g,b,x)),ru(x)&&Xh(m,g,x),null!=c&&Zh(g,x,h)}let Xy=function Zy(e,n,t,r){return po(!0),n[Oe].createComment("")};function Q(e,n,t){const r=Y();return kn(r,Ls(),n)&&Cr(Je(),Gt(),r,e,n,r[Oe],t,!1),Q}function up(e,n,t,r,i){const c=i?"class":"style";np(e,t,n.inputs[c],c,r)}function T(e,n,t,r){const i=Y(),a=Je(),c=Ye+e,h=i[Oe],g=a.firstCreatePass?function MS(e,n,t,r,i,a){const c=n.consts,g=Js(n,e,2,r,ho(c,i));return Kh(n,t,g,ho(c,a)),null!==g.attrs&&Yu(g,g.attrs,!1),null!==g.mergedAttrs&&Yu(g,g.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,g),g}(c,a,i,n,t,r):a.data[c],m=Qy(a,i,g,h,n,e);i[c]=m;const w=ru(g);return pi(g,!0),mm(h,m,g),32!=(32&g.flags)&&lu()&&Nu(a,i,m,g),0===function yA(){return Se.lFrame.elementDepthCount}()&&Fn(m,i),function CA(){Se.lFrame.elementDepthCount++}(),w&&(Xh(a,i,g),Yh(a,g,i)),null!==r&&Zh(i,g),T}function S(){let e=Dn();Hf()?function jf(){Se.lFrame.isParent=!1}():(e=e.parent,pi(e,!1));const n=e;(function wA(e){return Se.skipHydrationRootTNode===e})(n)&&function AA(){Se.skipHydrationRootTNode=null}(),function vA(){Se.lFrame.elementDepthCount--}();const t=Je();return t.firstCreatePass&&(cu(t,e),Pf(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function kA(e){return 0!=(8&e.flags)}(n)&&up(t,n,Y(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function BA(e){return 0!=(16&e.flags)}(n)&&up(t,n,Y(),n.stylesWithoutHost,!1),S}function Ae(e,n,t,r){return T(e,n,t,r),S(),Ae}let Qy=(e,n,t,r,i,a)=>(po(!0),Tu(r,i,function m1(){return Se.lFrame.currentNamespace}()));function Jt(){return Y()}function Ul(e){return!!e&&"function"==typeof e.then}function eC(e){return!!e&&"function"==typeof e.subscribe}function ze(e,n,t,r){const i=Y(),a=Je(),c=Dn();return function nC(e,n,t,r,i,a,c){const h=ru(r),m=e.firstCreatePass&&function xy(e){return e.cleanup||(e.cleanup=[])}(e),w=n[Qt],x=function Ey(e){return e[Ss]||(e[Ss]=[])}(n);let b=!0;if(3&r.type||c){const P=tr(r,n),B=c?c(P):P,G=x.length,V=c?fe=>c(Lt(fe[r.index])):r.index;let J=null;if(!c&&h&&(J=function FS(e,n,t,r){const i=e.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const c=i[a];if(c===t&&i[a+1]===r){const h=n[Ss],g=i[a+2];return h.length>g?h[g]:null}"string"==typeof c&&(a+=2)}return null}(e,n,i,r.index)),null!==J)(J.__ngLastListenerFn__||J).__ngNextListenerFn__=a,J.__ngLastListenerFn__=a,b=!1;else{a=iC(r,n,w,a,!1);const fe=t.listen(B,i,a);x.push(a,fe),m&&m.push(i,V,G,G+1)}}else a=iC(r,n,w,a,!1);const M=r.outputs;let L;if(b&&null!==M&&(L=M[i])){const P=L.length;if(P)for(let B=0;B<P;B+=2){const he=n[L[B]][L[B+1]].subscribe(a),ft=x.length;x.push(a,he),m&&m.push(i,r.index,ft,-(ft+1))}}}(a,i,i[Oe],c,e,n,r),ze}function rC(e,n,t,r){try{return hi(6,n,t),!1!==t(r)}catch(i){return Ay(e,i),!1}finally{hi(7,n,t)}}function iC(e,n,t,r,i){return function a(c){if(c===Function)return r;Nl(e.componentOffset>-1?pr(e.index,n):n);let g=rC(n,t,r,c),m=a.__ngNextListenerFn__;for(;m;)g=rC(n,t,m,c)&&g,m=m.__ngNextListenerFn__;return i&&!1===g&&c.preventDefault(),g}}function He(e=1){return function MA(e){return(Se.lFrame.contextLView=function NA(e,n){for(;e>0;)n=n[Ms],e--;return n}(e,Se.lFrame.contextLView))[Qt]}(e)}function vr(e,n,t){return nd(e,"",n,"",t),vr}function nd(e,n,t,r,i){const a=Y(),c=ta(a,n,t,r);return c!==Pe&&Cr(Je(),Gt(),a,e,c,a[Oe],i,!1),nd}function rd(e,n){return e<<17|n<<2}function yo(e){return e>>17&32767}function hp(e){return 2|e}function Ko(e){return(131068&e)>>2}function pp(e,n){return-131069&e|n<<2}function gp(e){return 1|e}function hC(e,n,t,r,i){const a=e[t+1],c=null===n;let h=r?yo(a):Ko(a),g=!1;for(;0!==h&&(!1===g||c);){const w=e[h+1];WS(e[h],n)&&(g=!0,e[h+1]=r?gp(w):hp(w)),h=r?yo(w):Ko(w)}g&&(e[t+1]=r?hp(a):gp(a))}function WS(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&zs(e,n)>=0}function id(e,n){return function Yr(e,n,t,r){const i=Y(),a=Je(),c=function Vi(e){const n=Se.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);a.firstUpdatePass&&function xC(e,n,t,r){const i=e.data;if(null===i[t+1]){const a=i[jn()],c=function EC(e,n){return n>=e.expandoStartIndex}(e,t);(function DC(e,n){return 0!=(e.flags&(n?8:16))})(a,r)&&null===n&&!c&&(n=!1),n=function eT(e,n,t,r){const i=function Gf(e){const n=Se.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let a=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Hl(t=mp(null,e,n,t,r),n.attrs,r),a=null);else{const c=n.directiveStylingLast;if(-1===c||e[c]!==i)if(t=mp(i,e,n,t,r),null===a){let g=function tT(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Ko(r))return e[yo(r)]}(e,n,r);void 0!==g&&Array.isArray(g)&&(g=mp(null,e,n,g[1],r),g=Hl(g,n.attrs,r),function nT(e,n,t,r){e[yo(t?n.classBindings:n.styleBindings)]=r}(e,n,r,g))}else a=function rT(e,n,t){let r;const i=n.directiveEnd;for(let a=1+n.directiveStylingLast;a<i;a++)r=Hl(r,e[a].hostAttrs,t);return Hl(r,n.attrs,t)}(e,n,r)}return void 0!==a&&(r?n.residualClasses=a:n.residualStyles=a),t}(i,a,n,r),function zS(e,n,t,r,i,a){let c=a?n.classBindings:n.styleBindings,h=yo(c),g=Ko(c);e[r]=t;let w,m=!1;if(Array.isArray(t)?(w=t[1],(null===w||zs(t,w)>0)&&(m=!0)):w=t,i)if(0!==g){const b=yo(e[h+1]);e[r+1]=rd(b,h),0!==b&&(e[b+1]=pp(e[b+1],r)),e[h+1]=function HS(e,n){return 131071&e|n<<17}(e[h+1],r)}else e[r+1]=rd(h,0),0!==h&&(e[h+1]=pp(e[h+1],r)),h=r;else e[r+1]=rd(g,0),0===h?h=r:e[g+1]=pp(e[g+1],r),g=r;m&&(e[r+1]=hp(e[r+1])),hC(e,w,r,!0),hC(e,w,r,!1),function GS(e,n,t,r,i){const a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof n&&zs(a,n)>=0&&(t[r+1]=gp(t[r+1]))}(n,w,e,r,a),c=rd(h,g),a?n.classBindings=c:n.styleBindings=c}(i,a,n,t,c,r)}}(a,e,c,r),n!==Pe&&kn(i,c,n)&&function AC(e,n,t,r,i,a,c,h){if(!(3&n.type))return;const g=e.data,m=g[h+1],w=function jS(e){return 1==(1&e)}(m)?bC(g,n,t,i,Ko(m),c):void 0;od(w)||(od(a)||function US(e){return 2==(2&e)}(m)&&(a=bC(g,null,t,i,h,c)),function Yb(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let a=-1===r.indexOf("-")?void 0:go.DashCase;null==i?e.removeStyle(t,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=go.Important),e.setStyle(t,r,i,a))}}(r,c,au(jn(),t),i,a))}(a,a.data[jn()],i,i[Oe],e,i[c+1]=function aT(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=qe(mo(e)))),e}(n,t),r,c)}(e,n,null,!0),id}function mp(e,n,t,r,i){let a=null;const c=t.directiveEnd;let h=t.directiveStylingLast;for(-1===h?h=t.directiveStart:h++;h<c&&(a=n[h],r=Hl(r,a.hostAttrs,i),a!==e);)h++;return null!==e&&(t.directiveStylingLast=h),r}function Hl(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?i=c:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),gr(e,c,!!t||n[++a]))}return void 0===e?null:e}function bC(e,n,t,r,i,a){const c=null===n;let h;for(;i>0;){const g=e[i],m=Array.isArray(g),w=m?g[1]:g,x=null===w;let b=t[i+1];b===Pe&&(b=x?Ke:void 0);let M=x?nh(b,r):w===r?b:void 0;if(m&&!od(M)&&(M=nh(g,r)),od(M)&&(h=M,c))return h;const L=e[i+1];i=c?yo(L):Ko(L)}if(null!==n){let g=a?n.residualClasses:n.residualStyles;null!=g&&(h=nh(g,r))}return h}function od(e){return void 0!==e}function R(e,n=""){const t=Y(),r=Je(),i=e+Ye,a=r.firstCreatePass?Js(r,i,1,n,null):r.data[i],c=IC(r,t,a,n,e);t[i]=c,lu()&&Nu(r,t,c,a),pi(a,!1)}let IC=(e,n,t,r,i)=>(po(!0),function Su(e,n){return e.createText(n)}(n[Oe],r));function wr(e){return rr("",e,""),wr}function rr(e,n,t){const r=Y(),i=ta(r,e,n,t);return i!==Pe&&function zi(e,n,t){const r=au(n,e);!function nm(e,n,t){e.setValue(n,t)}(e[Oe],r,t)}(r,jn(),i),rr}const Jo=void 0;var TT=["en",[["a","p"],["AM","PM"],Jo],[["AM","PM"],Jo,Jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jo,"{1} 'at' {0}",Jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ST(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let ua={};function zn(e){const n=function MT(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=YC(n);if(t)return t;const r=n.split("-")[0];if(t=YC(r),t)return t;if("en"===r)return TT;throw new Z(701,!1)}function YC(e){return e in ua||(ua[e]=ct.ng&&ct.ng.common&&ct.ng.common.locales&&ct.ng.common.locales[e]),ua[e]}var Rt=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Rt||{});const da="en-US";let XC=da;function vp(e,n,t,r,i){if(e=ve(e),Array.isArray(e))for(let a=0;a<e.length;a++)vp(e[a],n,t,r,i);else{const a=Je(),c=Y();let h=Yo(e)?e:ve(e.provide),g=Fm(e);const m=Dn(),w=1048575&m.providerIndexes,x=m.directiveStart,b=m.providerIndexes>>20;if(Yo(e)||!e.multi){const M=new pl(g,i,$),L=Ep(h,n,i?w:w+b,x);-1===L?(Jf(gu(m,c),a,h),wp(a,e,n.length),n.push(h),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),t.push(M),c.push(M)):(t[L]=M,c[L]=M)}else{const M=Ep(h,n,w+b,x),L=Ep(h,n,w,w+b),B=L>=0&&t[L];if(i&&!B||!i&&!(M>=0&&t[M])){Jf(gu(m,c),a,h);const G=function IM(e,n,t,r,i){const a=new pl(e,t,$);return a.multi=[],a.index=n,a.componentProviders=0,w2(a,i,r&&!t),a}(i?DM:bM,t.length,i,r,g);!i&&B&&(t[L].providerFactory=G),wp(a,e,n.length,0),n.push(h),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),t.push(G),c.push(G)}else wp(a,e,M>-1?M:L,w2(t[i?L:M],g,!i&&r));!i&&r&&B&&t[L].componentProviders++}}}function wp(e,n,t,r){const i=Yo(n),a=function AD(e){return!!e.useClass}(n);if(i||a){const g=(a?ve(n.useClass):n).prototype.ngOnDestroy;if(g){const m=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const w=m.indexOf(t);-1===w?m.push(t,[r,g]):m[w+1].push(r,g)}else m.push(t,g)}}}function w2(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Ep(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function bM(e,n,t,r){return xp(this.multi,[])}function DM(e,n,t,r){const i=this.multi;let a;if(this.providerFactory){const c=this.providerFactory.componentProviders,h=$o(t,t[le],this.providerFactory.index,r);a=h.slice(0,c),xp(i,a);for(let g=c;g<h.length;g++)a.push(h[g])}else a=[],xp(i,a);return a}function xp(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function kt(e,n=[]){return t=>{t.providersResolver=(r,i)=>function AM(e,n,t){const r=Je();if(r.firstCreatePass){const i=qr(e);vp(t,r.data,r.blueprint,i,!0),vp(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class fa{}class E2{}class _p extends fa{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new My(this);const i=fr(n);this._bootstrapComponents=ji(i.bootstrap),this._r3Injector=cy(n,t,[{provide:fa,useValue:this},{provide:zu,useValue:this.componentFactoryResolver},...r],qe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Ap extends E2{constructor(n){super(),this.moduleType=n}create(n){return new _p(this.moduleType,n,[])}}class x2 extends fa{constructor(n){super(),this.componentFactoryResolver=new My(this),this.instance=null;const t=new Rh([...n.providers,{provide:fa,useValue:this},{provide:zu,useValue:this.componentFactoryResolver}],n.parent||ku(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function bp(e,n,t=null){return new x2({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let MM=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Rm(0,t.type),i=r.length>0?bp([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=se({token:e,providedIn:"environment",factory:()=>new e(te(yi))}),e})();function _2(e){e.getStandaloneInjector=n=>n.get(MM).getOrCreateStandaloneInjector(e)}function Tr(e,n,t,r){return M2(Y(),Hn(),e,n,t,r)}function or(e,n,t,r,i){return N2(Y(),Hn(),e,n,t,r,i)}function ql(e,n){const t=e[n];return t===Pe?void 0:t}function M2(e,n,t,r,i,a){const c=n+t;return kn(e,c,i)?wi(e,c+1,a?r.call(a,i):r(i)):ql(e,c+1)}function N2(e,n,t,r,i,a,c){const h=n+t;return function Qo(e,n,t,r){const i=kn(e,n,t);return kn(e,n+1,r)||i}(e,h,i,a)?wi(e,h+2,c?r.call(c,i,a):r(i,a)):ql(e,h+2)}function Ip(e,n){const t=Je();let r;const i=e+Ye;t.firstCreatePass?(r=function qM(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const a=r.factory||(r.factory=zo(r.type)),c=Mn($);try{const h=pu(!1),g=a();return pu(h),function SS(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,Y(),i,g),g}finally{Mn(c)}}function Yl(e,n){return e[le].data[n].pure}function Sp(e){return n=>{setTimeout(e,void 0,n)}}const qt=class QM extends Nt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,a=t||(()=>null),c=r;if(n&&"object"==typeof n){const g=n;i=g.next?.bind(g),a=g.error?.bind(g),c=g.complete?.bind(g)}this.__isAsync&&(a=Sp(a),i&&(i=Sp(i)),c&&(c=Sp(c)));const h=super.subscribe({next:i,error:a,complete:c});return n instanceof Yn&&n.add(h),h}};let Gi=(()=>{class e{}return e.__NG_ELEMENT_ID__=t3,e})();const JM=Gi,e3=class extends JM{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t,null)}createEmbeddedViewImpl(n,t,r){const c=this._declarationTContainer.tView,h=$u(this._declarationLView,c,n,4096&this._declarationLView[Re]?4096:16,null,c.declTNode,null,null,null,t||null,r||null);h[ul]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[ui];return null!==m&&(h[ui]=m.createEmbeddedView(c)),rp(c,h,n),new Pl(h)}};function t3(){return function ud(e,n){return 4&e.type?new e3(n,e,Qs(e,n)):null}(Dn(),Y())}let Zr=(()=>{class e{}return e.__NG_ELEMENT_ID__=l3,e})();function l3(){return function j2(e,n){let t;const r=n[e.index];return er(r)?t=r:(t=vy(r,n,null,e),n[e.index]=t,qu(n,t)),z2(t,n,e,r),new U2(t,e,n)}(Dn(),Y())}const c3=Zr,U2=class extends c3{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Qs(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const n=Kf(this._hostTNode,this._hostLView);if(w1(n)){const t=hu(n,this._hostLView),r=fu(n);return new ks(t[le].data[r+8],t)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=H2(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Ln}createEmbeddedView(n,t,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const h=n.createEmbeddedViewImpl(t||{},a,null);return this.insertImpl(h,i,false),h}createComponent(n,t,r,i,a){const c=n&&!function gl(e){return"function"==typeof e}(n);let h;if(c)h=t;else{const P=t||{};h=P.index,r=P.injector,i=P.projectableNodes,a=P.environmentInjector||P.ngModuleRef}const g=c?n:new Ll(Ge(n)),m=r||this.parentInjector;if(!a&&null==g.ngModule){const B=(c?m:this.parentInjector).get(yi,null);B&&(a=B)}Ge(g.componentType??{});const M=g.create(m,i,null,a);return this.insertImpl(M.hostView,h,false),M}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView,a=i[le];if(function pA(e){return er(e[zt])}(i)){const g=this.indexOf(n);if(-1!==g)this.detach(g);else{const m=i[zt],w=new U2(m,m[Pn],m[zt]);w.detach(w.indexOf(n))}}const c=this._adjustIndex(t),h=this._lContainer;if(function Ub(e,n,t,r){const i=Ln+r,a=t.length;r>0&&(t[i-1][$r]=n),r<a-Ln?(n[$r]=t[i],R1(t,Ln+r,n)):(t.push(n),n[$r]=null),n[zt]=t;const c=n[ul];null!==c&&t!==c&&function Hb(e,n){const t=e[Rs];n[Kt]!==n[zt][zt][Kt]&&(e[V0]=!0),null===t?e[Rs]=[n]:t.push(n)}(c,n);const h=n[ui];null!==h&&h.insertView(e),n[Re]|=128}(a,i,h,c),!r){const g=yh(c,h),m=i[Oe],w=Mu(m,h[di]);null!==w&&function kb(e,n,t,r,i,a){r[hn]=i,r[Pn]=n,xl(e,r,t,1,i,a)}(a,h[Pn],m,i,w,g)}return n.attachToViewContainerRef(),R1(Np(h),c,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=H2(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=hh(this._lContainer,t);r&&(Cu(Np(this._lContainer),t),im(r[le],r))}detach(n){const t=this._adjustIndex(n,-1),r=hh(this._lContainer,t);return r&&null!=Cu(Np(this._lContainer),t)?new Pl(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function H2(e){return e[8]}function Np(e){return e[8]||(e[8]=[])}let z2=function G2(e,n,t,r){if(e[di])return;let i;i=8&t.type?Lt(r):function u3(e,n){const t=e[Oe],r=t.createComment(""),i=tr(n,e);return qo(t,Mu(t,i),r,function Wb(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[di]=i};const jp=new de("Application Initializer");let zp=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ae(jp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const a=i();if(Ul(a))t.push(a);else if(eC(a)){const c=new Promise((h,g)=>{a.subscribe({complete:h,error:g})});t.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),gv=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Wi=new de("LocaleId",{providedIn:"root",factory:()=>ae(Wi,Be.Optional|Be.SkipSelf)||function H3(){return typeof $localize<"u"&&$localize.locale||da}()});let fd=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ue(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class G3{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let mv=(()=>{class e{compileModuleSync(t){return new Ap(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),a=ji(fr(t).declarations).reduce((c,h)=>{const g=Ge(h);return g&&c.push(new Ll(g)),c},[]);return new G3(r,a)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function vv(...e){}class Wt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qt(!1),this.onMicrotaskEmpty=new qt(!1),this.onStable=new qt(!1),this.onError=new qt(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function q3(){const e="function"==typeof ct.requestAnimationFrame;let n=ct[e?"requestAnimationFrame":"setTimeout"],t=ct[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Z3(e){const n=()=>{!function X3(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ct,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Wp(e),e.isCheckStableRunning=!0,Gp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Wp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,a,c,h)=>{try{return wv(e),t.invokeTask(i,a,c,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&n(),Ev(e)}},onInvoke:(t,r,i,a,c,h,g)=>{try{return wv(e),t.invoke(i,a,c,h,g)}finally{e.shouldCoalesceRunChangeDetection&&n(),Ev(e)}},onHasTask:(t,r,i,a)=>{t.hasTask(i,a),r===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,Wp(e),Gp(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,r,i,a)=>(t.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wt.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(Wt.isInAngularZone())throw new Z(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const a=this._inner,c=a.scheduleEventTask("NgZoneEvent: "+i,n,Y3,vv,vv);try{return a.runTask(c,t,r)}finally{a.cancelTask(c)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const Y3={};function Gp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Wp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function wv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ev(e){e._nesting--,Gp(e)}class Q3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qt,this.onMicrotaskEmpty=new qt,this.onStable=new qt,this.onError=new qt}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const xv=new de("",{providedIn:"root",factory:_v});function _v(){const e=ae(Wt);let n=!0;return function Ut(...e){const n=At(e),t=function io(e,n){return"number"==typeof q(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?ie(r[0]):ro(t)(Xt(r,n)):dn}(new ht(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new ht(i=>{let a;e.runOutsideAngular(()=>{a=e.onStable.subscribe(()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const c=e.onUnstable.subscribe(()=>{Wt.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{a.unsubscribe(),c.unsubscribe()}}).pipe(Gc()))}const Av=new de(""),hd=new de("");let Yp,$p=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yp||(function K3(e){Yp=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==a),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:a,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(te(Wt),te(qp),te(hd))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})(),qp=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Yp?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Co=null;const bv=new de("AllowMultipleToken"),Xp=new de("PlatformDestroyListeners"),Zp=new de("appBootstrapListener");class Iv{constructor(n,t){this.name=n,this.token=t}}function Tv(e,n,t=[]){const r=`Platform: ${n}`,i=new de(r);return(a=[])=>{let c=Qp();if(!c||c.injector.get(bv,!1)){const h=[...t,...a,{provide:i,useValue:!0}];e?e(h):function tN(e){if(Co&&!Co.get(bv,!1))throw new Z(400,!1);(function Dv(){!function nA(e){W0=e}(()=>{throw new Z(600,!1)})})(),Co=e;const n=e.get(Nv);(function Sv(e){e.get(km,null)?.forEach(t=>t())})(e)}(function Mv(e=[],n){return Ci.create({name:n,providers:[{provide:Mh,useValue:"platform"},{provide:Xp,useValue:new Set([()=>Co=null])},...e]})}(h,r))}return function rN(e){const n=Qp();if(!n)throw new Z(401,!1);return n}()}}function Qp(){return Co?.get(Nv)??null}let Nv=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function iN(e="zone.js",n){return"noop"===e?new Q3:"zone.js"===e?new Wt(n):e}(r?.ngZone,function Rv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const a=function TM(e,n,t){return new _p(e,n,t)}(t.moduleType,this.injector,function kv(e){return[{provide:Wt,useFactory:e},{provide:Il,multi:!0,useFactory:()=>{const n=ae(sN,{optional:!0});return()=>n.initialize()}},{provide:Fv,useFactory:oN},{provide:xv,useFactory:_v}]}(()=>i)),c=a.injector.get(Zo,null);return i.runOutsideAngular(()=>{const h=i.onError.subscribe({next:g=>{c.handleError(g)}});a.onDestroy(()=>{pd(this._modules,a),h.unsubscribe()})}),function Ov(e,n,t){try{const r=t();return Ul(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(c,i,()=>{const h=a.injector.get(zp);return h.runInitializers(),h.donePromise.then(()=>(function ZC(e){Zn(e,"Expected localeId to be defined"),"string"==typeof e&&(XC=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Wi,da)||da),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=Pv({},r);return function J3(e,n,t){const r=new Ap(t);return Promise.resolve(r)}(0,0,t).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(t){const r=t.injector.get(ga);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Z(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Xp,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(te(Ci))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Pv(e,n){return Array.isArray(n)?n.reduce(Pv,e):{...e,...n}}let ga=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ae(Fv),this.zoneIsStable=ae(xv),this.componentTypes=[],this.components=[],this.isStable=ae(fd).hasPendingTasks.pipe(ke(t=>t?Ee(!1):this.zoneIsStable),function vn(e,n=Dt){return e=e??k,We((t,r)=>{let i,a=!0;t.subscribe(Pt(r,c=>{const h=n(c);(a||!e(i,h))&&(a=!1,i=h,r.next(c))}))})}(),Gc()),this._injector=ae(yi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Gm;if(!this._injector.get(zp).done)throw!i&&function uo(e){const n=Ge(e)||jt(e)||On(e);return null!==n&&n.standalone}(t),new Z(405,!1);let c;c=i?t:this._injector.get(zu).resolveComponentFactory(t),this.componentTypes.push(c.componentType);const h=function eN(e){return e.isBoundToModule}(c)?void 0:this._injector.get(fa),m=c.create(Ci.NULL,[],r||c.selector,h),w=m.location.nativeElement,x=m.injector.get(Av,null);return x?.registerApplication(w),m.onDestroy(()=>{this.detachView(m.hostView),pd(this.components,m),x?.unregisterApplication(w)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;pd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Zp,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>pd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Z(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function pd(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const Fv=new de("",{providedIn:"root",factory:()=>ae(Zo).handleError.bind(void 0)});function oN(){const e=ae(Wt),n=ae(Zo);return t=>e.runOutsideAngular(()=>n.handleError(t))}let sN=(()=>{class e{constructor(){this.zone=ae(Wt),this.applicationRef=ae(ga)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let gd=(()=>{class e{}return e.__NG_ELEMENT_ID__=lN,e})();function lN(e){return function cN(e,n,t){if(jo(e)&&!t){const r=pr(e.index,n);return new Pl(r,r)}return 47&e.type?new Pl(n[Kt],n):null}(Dn(),Y(),16==(16&e))}class Hv{constructor(){}supports(n){return Qu(n)}create(n){return new gN(n)}}const pN=(e,n)=>n;class gN{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||pN}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,a=null;for(;t||r;){const c=!r||t&&t.currentIndex<zv(r,i,a)?t:r,h=zv(c,i,a),g=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(t=t._next,null==c.previousIndex)i++;else{a||(a=[]);const m=h-i,w=g-i;if(m!=w){for(let b=0;b<m;b++){const M=b<a.length?a[b]:a[b]=0,L=M+b;w<=L&&L<m&&(a[b]=M+1)}a[c.previousIndex]=w-m}}h!==g&&n(c,h,g)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Qu(n))throw new Z(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,a,c,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let h=0;h<this.length;h++)a=n[h],c=this._trackByFn(h,a),null!==t&&Object.is(t.trackById,c)?(r&&(t=this._verifyReinsertion(t,a,c,h)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,c,h),r=!0),t=t._next}else i=0,function aS(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,h=>{c=this._trackByFn(i,h),null!==t&&Object.is(t.trackById,c)?(r&&(t=this._verifyReinsertion(t,h,c,i)),Object.is(t.item,h)||this._addIdentityChange(t,h)):(t=this._mismatch(t,h,c,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let a;return null===n?a=this._itTail:(a=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,a,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,a,i)):n=this._addAfter(new mN(t,r),a,i),n}_verifyReinsertion(n,t,r,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?n=this._reinsertAfter(a,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,a=n._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new jv),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jv),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class mN{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yN{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class jv{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new yN,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zv(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class Gv{constructor(){}supports(n){return n instanceof Map||ip(n)}create(){return new CN}}class CN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||ip(n)))throw new Z(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const a=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,a)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const a=i._prev,c=i._next;return a&&(a._next=c),c&&(c._prev=a),i._next=null,i._prev=null,i}const r=new vN(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class vN{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wv(){return new Cd([new Hv])}let Cd=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Wv()),deps:[[e,new Eu,new wu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Z(901,!1)}}return e.\u0275prov=se({token:e,providedIn:"root",factory:Wv}),e})();function $v(){return new Zl([new Gv])}let Zl=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||$v()),deps:[[e,new Eu,new wu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Z(901,!1)}}return e.\u0275prov=se({token:e,providedIn:"root",factory:$v}),e})();const xN=Tv(null,"core",[]);let _N=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(te(ga))},e.\u0275mod=Ht({type:e}),e.\u0275inj=Qn({}),e})();function ma(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let ig=null;function vo(){return ig}class LN{}const Er=new de("DocumentToken");let og=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:function(){return ae(kN)},providedIn:"platform"}),e})();const FN=new de("Location Initialized");let kN=(()=>{class e extends og{constructor(){super(),this._doc=ae(Er),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vo().getBaseHref(this._doc)}onPopState(t){const r=vo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=vo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function sg(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function Jv(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function $i(e){return e&&"?"!==e[0]?"?"+e:e}let ts=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:function(){return ae(tw)},providedIn:"root"}),e})();const ew=new de("appBaseHref");let tw=(()=>{class e extends ts{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ae(Er).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return sg(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$i(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+$i(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+$i(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(te(og),te(ew,8))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),BN=(()=>{class e extends ts{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=sg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+$i(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+$i(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(te(og),te(ew,8))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})(),ag=(()=>{class e{constructor(t){this._subject=new qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function HN(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(Jv(nw(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$i(r))}normalize(t){return e.stripTrailingSlash(function UN(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,nw(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$i(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=$i,e.joinWithSlash=sg,e.stripTrailingSlash=Jv,e.\u0275fac=function(t){return new(t||e)(te(ts))},e.\u0275prov=se({token:e,factory:function(){return function VN(){return new ag(te(ts))}()},providedIn:"root"}),e})();function nw(e){return e.replace(/\/index.html$/,"")}var Wn=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Wn||{}),Mt=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Mt||{}),xr=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(xr||{}),en=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(en||{});function Ed(e,n){return Nr(zn(e)[Rt.DateFormat],n)}function xd(e,n){return Nr(zn(e)[Rt.TimeFormat],n)}function _d(e,n){return Nr(zn(e)[Rt.DateTimeFormat],n)}function Mr(e,n){const t=zn(e),r=t[Rt.NumberSymbols][n];if(typeof r>"u"){if(n===en.CurrencyDecimal)return t[Rt.NumberSymbols][en.Decimal];if(n===en.CurrencyGroup)return t[Rt.NumberSymbols][en.Group]}return r}function iw(e){if(!e[Rt.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Rt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Nr(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function cg(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const t4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ql={},n4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qi=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(qi||{}),ut=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(ut||{}),dt=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(dt||{});function r4(e,n,t,r){let i=function f4(e){if(aw(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,a=1,c=1]=e.split("-").map(h=>+h);return Ad(i,a-1,c)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(t4))return function h4(e){const n=new Date(0);let t=0,r=0;const i=e[8]?n.setUTCFullYear:n.setFullYear,a=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const c=Number(e[4]||0)-t,h=Number(e[5]||0)-r,g=Number(e[6]||0),m=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return a.call(n,c,h,g,m),n}(r)}const n=new Date(e);if(!aw(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=Yi(t,n)||n;let h,c=[];for(;n;){if(h=n4.exec(n),!h){c.push(n);break}{c=c.concat(h.slice(1));const w=c.pop();if(!w)break;n=w}}let g=i.getTimezoneOffset();r&&(g=sw(r,g),i=function d4(e,n,t){const r=t?-1:1,i=e.getTimezoneOffset();return function u4(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,r*(sw(n,i)-i))}(i,r,!0));let m="";return c.forEach(w=>{const x=function c4(e){if(dg[e])return dg[e];let n;switch(e){case"G":case"GG":case"GGG":n=Ot(dt.Eras,Mt.Abbreviated);break;case"GGGG":n=Ot(dt.Eras,Mt.Wide);break;case"GGGGG":n=Ot(dt.Eras,Mt.Narrow);break;case"y":n=ln(ut.FullYear,1,0,!1,!0);break;case"yy":n=ln(ut.FullYear,2,0,!0,!0);break;case"yyy":n=ln(ut.FullYear,3,0,!1,!0);break;case"yyyy":n=ln(ut.FullYear,4,0,!1,!0);break;case"Y":n=Sd(1);break;case"YY":n=Sd(2,!0);break;case"YYY":n=Sd(3);break;case"YYYY":n=Sd(4);break;case"M":case"L":n=ln(ut.Month,1,1);break;case"MM":case"LL":n=ln(ut.Month,2,1);break;case"MMM":n=Ot(dt.Months,Mt.Abbreviated);break;case"MMMM":n=Ot(dt.Months,Mt.Wide);break;case"MMMMM":n=Ot(dt.Months,Mt.Narrow);break;case"LLL":n=Ot(dt.Months,Mt.Abbreviated,Wn.Standalone);break;case"LLLL":n=Ot(dt.Months,Mt.Wide,Wn.Standalone);break;case"LLLLL":n=Ot(dt.Months,Mt.Narrow,Wn.Standalone);break;case"w":n=ug(1);break;case"ww":n=ug(2);break;case"W":n=ug(1,!0);break;case"d":n=ln(ut.Date,1);break;case"dd":n=ln(ut.Date,2);break;case"c":case"cc":n=ln(ut.Day,1);break;case"ccc":n=Ot(dt.Days,Mt.Abbreviated,Wn.Standalone);break;case"cccc":n=Ot(dt.Days,Mt.Wide,Wn.Standalone);break;case"ccccc":n=Ot(dt.Days,Mt.Narrow,Wn.Standalone);break;case"cccccc":n=Ot(dt.Days,Mt.Short,Wn.Standalone);break;case"E":case"EE":case"EEE":n=Ot(dt.Days,Mt.Abbreviated);break;case"EEEE":n=Ot(dt.Days,Mt.Wide);break;case"EEEEE":n=Ot(dt.Days,Mt.Narrow);break;case"EEEEEE":n=Ot(dt.Days,Mt.Short);break;case"a":case"aa":case"aaa":n=Ot(dt.DayPeriods,Mt.Abbreviated);break;case"aaaa":n=Ot(dt.DayPeriods,Mt.Wide);break;case"aaaaa":n=Ot(dt.DayPeriods,Mt.Narrow);break;case"b":case"bb":case"bbb":n=Ot(dt.DayPeriods,Mt.Abbreviated,Wn.Standalone,!0);break;case"bbbb":n=Ot(dt.DayPeriods,Mt.Wide,Wn.Standalone,!0);break;case"bbbbb":n=Ot(dt.DayPeriods,Mt.Narrow,Wn.Standalone,!0);break;case"B":case"BB":case"BBB":n=Ot(dt.DayPeriods,Mt.Abbreviated,Wn.Format,!0);break;case"BBBB":n=Ot(dt.DayPeriods,Mt.Wide,Wn.Format,!0);break;case"BBBBB":n=Ot(dt.DayPeriods,Mt.Narrow,Wn.Format,!0);break;case"h":n=ln(ut.Hours,1,-12);break;case"hh":n=ln(ut.Hours,2,-12);break;case"H":n=ln(ut.Hours,1);break;case"HH":n=ln(ut.Hours,2);break;case"m":n=ln(ut.Minutes,1);break;case"mm":n=ln(ut.Minutes,2);break;case"s":n=ln(ut.Seconds,1);break;case"ss":n=ln(ut.Seconds,2);break;case"S":n=ln(ut.FractionalSeconds,1);break;case"SS":n=ln(ut.FractionalSeconds,2);break;case"SSS":n=ln(ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Dd(qi.Short);break;case"ZZZZZ":n=Dd(qi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Dd(qi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Dd(qi.Long);break;default:return null}return dg[e]=n,n}(w);m+=x?x(i,t,g):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function Ad(e,n,t){const r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Yi(e,n){const t=function zN(e){return zn(e)[Rt.LocaleId]}(e);if(Ql[t]=Ql[t]||{},Ql[t][n])return Ql[t][n];let r="";switch(n){case"shortDate":r=Ed(e,xr.Short);break;case"mediumDate":r=Ed(e,xr.Medium);break;case"longDate":r=Ed(e,xr.Long);break;case"fullDate":r=Ed(e,xr.Full);break;case"shortTime":r=xd(e,xr.Short);break;case"mediumTime":r=xd(e,xr.Medium);break;case"longTime":r=xd(e,xr.Long);break;case"fullTime":r=xd(e,xr.Full);break;case"short":const i=Yi(e,"shortTime"),a=Yi(e,"shortDate");r=bd(_d(e,xr.Short),[i,a]);break;case"medium":const c=Yi(e,"mediumTime"),h=Yi(e,"mediumDate");r=bd(_d(e,xr.Medium),[c,h]);break;case"long":const g=Yi(e,"longTime"),m=Yi(e,"longDate");r=bd(_d(e,xr.Long),[g,m]);break;case"full":const w=Yi(e,"fullTime"),x=Yi(e,"fullDate");r=bd(_d(e,xr.Full),[w,x])}return r&&(Ql[t][n]=r),r}function bd(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return null!=n&&r in n?n[r]:t})),e}function Kr(e,n,t="-",r,i){let a="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,a=t));let c=String(e);for(;c.length<n;)c="0"+c;return r&&(c=c.slice(c.length-n)),a+c}function ln(e,n,t=0,r=!1,i=!1){return function(a,c){let h=function o4(e,n){switch(e){case ut.FullYear:return n.getFullYear();case ut.Month:return n.getMonth();case ut.Date:return n.getDate();case ut.Hours:return n.getHours();case ut.Minutes:return n.getMinutes();case ut.Seconds:return n.getSeconds();case ut.FractionalSeconds:return n.getMilliseconds();case ut.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,a);if((t>0||h>-t)&&(h+=t),e===ut.Hours)0===h&&-12===t&&(h=12);else if(e===ut.FractionalSeconds)return function i4(e,n){return Kr(e,3).substring(0,n)}(h,n);const g=Mr(c,en.MinusSign);return Kr(h,n,g,r,i)}}function Ot(e,n,t=Wn.Format,r=!1){return function(i,a){return function s4(e,n,t,r,i,a){switch(t){case dt.Months:return function $N(e,n,t){const r=zn(e),a=Nr([r[Rt.MonthsFormat],r[Rt.MonthsStandalone]],n);return Nr(a,t)}(n,i,r)[e.getMonth()];case dt.Days:return function WN(e,n,t){const r=zn(e),a=Nr([r[Rt.DaysFormat],r[Rt.DaysStandalone]],n);return Nr(a,t)}(n,i,r)[e.getDay()];case dt.DayPeriods:const c=e.getHours(),h=e.getMinutes();if(a){const m=function ZN(e){const n=zn(e);return iw(n),(n[Rt.ExtraData][2]||[]).map(r=>"string"==typeof r?cg(r):[cg(r[0]),cg(r[1])])}(n),w=function QN(e,n,t){const r=zn(e);iw(r);const a=Nr([r[Rt.ExtraData][0],r[Rt.ExtraData][1]],n)||[];return Nr(a,t)||[]}(n,i,r),x=m.findIndex(b=>{if(Array.isArray(b)){const[M,L]=b,P=c>=M.hours&&h>=M.minutes,B=c<L.hours||c===L.hours&&h<L.minutes;if(M.hours<L.hours){if(P&&B)return!0}else if(P||B)return!0}else if(b.hours===c&&b.minutes===h)return!0;return!1});if(-1!==x)return w[x]}return function GN(e,n,t){const r=zn(e),a=Nr([r[Rt.DayPeriodsFormat],r[Rt.DayPeriodsStandalone]],n);return Nr(a,t)}(n,i,r)[c<12?0:1];case dt.Eras:return function qN(e,n){return Nr(zn(e)[Rt.Eras],n)}(n,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,e,n,t,r)}}function Dd(e){return function(n,t,r){const i=-1*r,a=Mr(t,en.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case qi.Short:return(i>=0?"+":"")+Kr(c,2,a)+Kr(Math.abs(i%60),2,a);case qi.ShortGMT:return"GMT"+(i>=0?"+":"")+Kr(c,1,a);case qi.Long:return"GMT"+(i>=0?"+":"")+Kr(c,2,a)+":"+Kr(Math.abs(i%60),2,a);case qi.Extended:return 0===r?"Z":(i>=0?"+":"")+Kr(c,2,a)+":"+Kr(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${e}"`)}}}const a4=0,Id=4;function ow(e){return Ad(e.getFullYear(),e.getMonth(),e.getDate()+(Id-e.getDay()))}function ug(e,n=!1){return function(t,r){let i;if(n){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=ow(t),c=function l4(e){const n=Ad(e,a4,1).getDay();return Ad(e,0,1+(n<=Id?Id:Id+7)-n)}(a.getFullYear()),h=a.getTime()-c.getTime();i=1+Math.round(h/6048e5)}return Kr(i,e,Mr(r,en.MinusSign))}}function Sd(e,n=!1){return function(t,r){return Kr(ow(t).getFullYear(),e,Mr(r,en.MinusSign),n)}}const dg={};function sw(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function aw(e){return e instanceof Date&&!isNaN(e.valueOf())}function dw(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(a)}return null}const yg=/\s+/,fw=[];let Md=(()=>{class e{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=fw,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(yg):fw}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(yg):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(yg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(t){return new(t||e)($(Cd),$(Zl),$(yr),$(Hi))},e.\u0275dir=ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class D4{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ca=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new D4(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const h=r.get(a);r.move(h,c),pw(h,i)}});for(let i=0,a=r.length;i<a;i++){const h=r.get(i).context;h.index=i,h.count=a,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{pw(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)($(Zr),$(Gi),$(Cd))},e.\u0275dir=ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function pw(e,n){e.context.$implicit=n.item}let Xi=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new I4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gw("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gw("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)($(Zr),$(Gi))},e.\u0275dir=ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class I4{constructor(){this.$implicit=null,this.ngIf=null}}function gw(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${qe(n)}'.`)}function Jr(e,n){return new Z(2100,!1)}const F4=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let yw=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw Jr();return t.replace(F4,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=bt({name:"titlecase",type:e,pure:!0,standalone:!0}),e})();const V4=new de("DATE_PIPE_DEFAULT_TIMEZONE"),U4=new de("DATE_PIPE_DEFAULT_OPTIONS");let Cw=(()=>{class e{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,a){if(null==t||""===t||t!=t)return null;try{return r4(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw Jr()}}}return e.\u0275fac=function(t){return new(t||e)($(Wi,16),$(V4,24),$(U4,24))},e.\u0275pipe=bt({name:"date",type:e,pure:!0,standalone:!0}),e})(),Z4=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=Qn({}),e})();function Ew(e){return"server"===e}let eR=(()=>{class e{}return e.\u0275prov=se({token:e,providedIn:"root",factory:()=>new tR(te(Er),window)}),e})();class tR{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function nR(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(n)||a.querySelector(`[name="${n}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=xw(this.window.history)||xw(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xw(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class _w{}class bR extends LN{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ag extends bR{static makeCurrent(){!function PN(e){ig||(ig=e)}(new Ag)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function DR(){return ec=ec||document.querySelector("base"),ec?ec.getAttribute("href"):null}();return null==t?null:function IR(e){Od=Od||document.createElement("a"),Od.setAttribute("href",e);const n=Od.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return dw(document.cookie,n)}}let Od,ec=null,TR=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const bg=new de("EventManagerPlugins");let Sw=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(a=>a.supports(t)),!r)throw new Z(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return e.\u0275fac=function(t){return new(t||e)(te(bg),te(Wt))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();class Tw{constructor(n){this._doc=n}}const Dg="ng-app-id";let Mw=(()=>{class e{constructor(t,r,i,a={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ew(a),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Dg}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const a=i.get(t);return a.usage+=r,a.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,a=i?.get(r);if(a?.parentNode===t)return i.delete(r),a.removeAttribute(Dg),a;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(Dg,this.appId),c}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const a=this.styleRef,c=a.get(r)?.elements;c?c.push(i):a.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(te(Er),te(Bu),te(Bm,8),te(Xo))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const Ig={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Sg=/%COMP%/g,OR=new de("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Rw(e,n){return n.map(t=>t.replace(Sg,e))}let Ow=(()=>{class e{constructor(t,r,i,a,c,h,g,m=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=a,this.doc=c,this.platformId=h,this.ngZone=g,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Ew(h),this.defaultRenderer=new Tg(t,c,g,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jn.ShadowDom&&(r={...r,encapsulation:Jn.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Lw?i.applyToHost(t):i instanceof Mg&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const c=this.doc,h=this.ngZone,g=this.eventManager,m=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(r.encapsulation){case Jn.Emulated:a=new Lw(g,m,r,this.appId,w,c,h,x);break;case Jn.ShadowDom:return new kR(g,m,t,r,c,h,this.nonce,x);default:a=new Mg(g,m,r,w,c,h,x)}i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(t){return new(t||e)(te(Sw),te(Mw),te(Bu),te(OR),te(Er),te(Xo),te(Wt),te(Bm))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();class Tg{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Ig[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Pw(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Pw(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new Z(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const a=Ig[i];a?n.setAttributeNS(a,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=Ig[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(go.DashCase|go.Important)?n.style.setProperty(t,r,i&go.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&go.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=vo().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function Pw(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class kR extends Tg{constructor(n,t,r,i,a,c,h,g){super(n,a,c,g),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=Rw(i.id,i.styles);for(const w of m){const x=document.createElement("style");h&&x.setAttribute("nonce",h),x.textContent=w,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Mg extends Tg{constructor(n,t,r,i,a,c,h,g){super(n,a,c,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=g?Rw(g,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Lw extends Mg{constructor(n,t,r,i,a,c,h,g){const m=i+"-"+r.id;super(n,t,r,a,c,h,g,m),this.contentAttr=function PR(e){return"_ngcontent-%COMP%".replace(Sg,e)}(m),this.hostAttr=function LR(e){return"_nghost-%COMP%".replace(Sg,e)}(m)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let BR=(()=>{class e extends Tw{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(te(Er))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const Fw=["alt","control","meta","shift"],VR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let HR=(()=>{class e extends Tw{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const a=e.parseEventName(r),c=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vo().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=e._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),Fw.forEach(m=>{const w=r.indexOf(m);w>-1&&(r.splice(w,1),c+=m+".")}),c+=a,0!=r.length||0===a.length)return null;const g={};return g.domEventName=i,g.fullKey=c,g}static matchEventFullKeyCode(t,r){let i=VR[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Fw.forEach(c=>{c!==i&&(0,UR[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{e.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(te(Er))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const Bw=[{provide:Xo,useValue:"browser"},{provide:km,useValue:function jR(){Ag.makeCurrent()},multi:!0},{provide:Er,useFactory:function GR(){return function Jb(e){wh=e}(document),document},deps:[]}],WR=Tv(xN,"browser",Bw),$R=new de(""),Vw=[{provide:hd,useClass:class SR{addToWindow(n){ct.getAngularTestability=(r,i=!0)=>{const a=n.findTestabilityInTree(r,i);if(null==a)throw new Z(5103,!1);return a},ct.getAllAngularTestabilities=()=>n.getAllTestabilities(),ct.getAllAngularRootElements=()=>n.getAllRootElements(),ct.frameworkStabilizers||(ct.frameworkStabilizers=[]),ct.frameworkStabilizers.push(r=>{const i=ct.getAllAngularTestabilities();let a=i.length,c=!1;const h=function(g){c=c||g,a--,0==a&&r(c)};i.forEach(g=>{g.whenStable(h)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?vo().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:Av,useClass:$p,deps:[Wt,qp,hd]},{provide:$p,useClass:$p,deps:[Wt,qp,hd]}],Uw=[{provide:Mh,useValue:"root"},{provide:Zo,useFactory:function zR(){return new Zo},deps:[]},{provide:bg,useClass:BR,multi:!0,deps:[Er,Wt,Xo]},{provide:bg,useClass:HR,multi:!0,deps:[Er]},Ow,Mw,Sw,{provide:$m,useExisting:Ow},{provide:_w,useClass:TR,deps:[]},[]];let qR=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Bu,useValue:t.appId}]}}}return e.\u0275fac=function(t){return new(t||e)(te($R,12))},e.\u0275mod=Ht({type:e}),e.\u0275inj=Qn({providers:[...Uw,...Vw],imports:[Z4,_N]}),e})(),Hw=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(te(Er))},e.\u0275prov=se({token:e,factory:function(t){let r=null;return r=t?new t:function XR(){return new Hw(te(Er))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:t8}=Array,{getPrototypeOf:n8,prototype:r8,keys:i8}=Object;function Ww(e){if(1===e.length){const n=e[0];if(t8(n))return{args:n,keys:null};if(function o8(e){return e&&"object"==typeof e&&n8(e)===r8}(n)){const t=i8(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:s8}=Array;function $w(e){return Ie(n=>function a8(e,n){return s8(n)?e(...n):e(n)}(e,n))}function qw(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Rg(...e){const n=At(e),t=jc(e),{args:r,keys:i}=Ww(e);if(0===r.length)return Xt([],n);const a=new ht(function l8(e,n,t=Dt){return r=>{Yw(n,()=>{const{length:i}=e,a=new Array(i);let c=i,h=i;for(let g=0;g<i;g++)Yw(n,()=>{const m=Xt(e[g],n);let w=!1;m.subscribe(Pt(r,x=>{a[g]=x,w||(w=!0,h--),h||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,n,i?c=>qw(i,c):Dt));return t?a.pipe($w(t)):a}function Yw(e,n,t){e?Hr(t,e,n):n()}const Pd=Va(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Og(...e){return function c8(){return ro(1)}()(Xt(e,At(e)))}function Xw(e){return new ht(n=>{ie(e()).subscribe(n)})}function Rr(e,n){const t=Ze(e)?e:()=>e,r=i=>i.error(t());return new ht(n?i=>n.schedule(r,0,i):r)}function Pg(){return We((e,n)=>{let t=null;e._refCount++;const r=Pt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class Zw extends ht{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Wa(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Yn;const t=this.getSubject();n.add(this.source.subscribe(Pt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Yn.EMPTY)}return n}refCount(){return Pg()(this)}}function ns(e){return e<=0?()=>dn:We((n,t)=>{let r=0;n.subscribe(Pt(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Ai(e,n){return We((t,r)=>{let i=0;t.subscribe(Pt(r,a=>e.call(n,a,i++)&&r.next(a)))})}function Ld(e){return We((n,t)=>{let r=!1;n.subscribe(Pt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Qw(e=d8){return We((n,t)=>{let r=!1;n.subscribe(Pt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function d8(){return new Pd}function rs(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ai((i,a)=>e(i,a,r)):Dt,ns(1),t?Ld(n):Qw(()=>new Pd))}function va(e,n){return Ze(n)?un(e,n,1):un(e,1)}function Sn(e,n,t){const r=Ze(e)||n||t?{next:e,error:n,complete:t}:e;return r?We((i,a)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let h=!0;i.subscribe(Pt(a,g=>{var m;null===(m=r.next)||void 0===m||m.call(r,g),a.next(g)},()=>{var g;h=!1,null===(g=r.complete)||void 0===g||g.call(r),a.complete()},g=>{var m;h=!1,null===(m=r.error)||void 0===m||m.call(r,g),a.error(g)},()=>{var g,m;h&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(m=r.finalize)||void 0===m||m.call(r)}))}):Dt}function Or(e){return We((n,t)=>{let a,r=null,i=!1;r=n.subscribe(Pt(t,void 0,void 0,c=>{a=ie(e(c,Or(e)(n))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Lg(e){return e<=0?()=>dn:We((n,t)=>{let r=[];n.subscribe(Pt(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function tc(e){return We((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const Ve="primary",nc=Symbol("RouteTitle");class m8{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wa(e){return new m8(e)}function y8(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],h=e[a];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function bi(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Kw(e[i],n[i]))return!1;return!0}function Kw(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,a)=>r[a]===i)}return e===n}function Jw(e){return e.length>0?e[e.length-1]:null}function Eo(e){return function e8(e){return!!e&&(e instanceof ht||Ze(e.lift)&&Ze(e.subscribe))}(e)?e:Ul(e)?Xt(Promise.resolve(e)):Ee(e)}const v8={exact:function nE(e,n,t){if(!is(e.segments,n.segments)||!Fd(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!nE(e.children[r],n.children[r],t))return!1;return!0},subset:rE},eE={exact:function w8(e,n){return bi(e,n)},subset:function E8(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Kw(e[t],n[t]))},ignored:()=>!0};function tE(e,n,t){return v8[t.paths](e.root,n.root,t.matrixParams)&&eE[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function rE(e,n,t){return iE(e,n,n.segments,t)}function iE(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!is(i,t)||n.hasChildren()||!Fd(i,t,r))}if(e.segments.length===t.length){if(!is(e.segments,t)||!Fd(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!rE(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),a=t.slice(e.segments.length);return!!(is(e.segments,i)&&Fd(e.segments,i,r)&&e.children[Ve])&&iE(e.children[Ve],n,a,r)}}function Fd(e,n,t){return n.every((r,i)=>eE[t](e[i].parameters,r.parameters))}class Ea{constructor(n=new Et([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wa(this.queryParams)),this._queryParamMap}toString(){return A8.serialize(this)}}class Et{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kd(this)}}class rc{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wa(this.parameters)),this._parameterMap}toString(){return aE(this)}}function is(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let ic=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:function(){return new Fg},providedIn:"root"}),e})();class Fg{parse(n){const t=new L8(n);return new Ea(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${oc(n.root,!0)}`,r=function I8(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Bd(t)}=${Bd(i)}`).join("&"):`${Bd(t)}=${Bd(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function b8(e){return encodeURI(e)}(n.fragment)}`:""}`}}const A8=new Fg;function kd(e){return e.segments.map(n=>aE(n)).join("/")}function oc(e,n){if(!e.hasChildren())return kd(e);if(n){const t=e.children[Ve]?oc(e.children[Ve],!1):"",r=[];return Object.entries(e.children).forEach(([i,a])=>{i!==Ve&&r.push(`${i}:${oc(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function _8(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===Ve&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Ve&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===Ve?[oc(e.children[Ve],!1)]:[`${i}:${oc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ve]?`${kd(e)}/${t[0]}`:`${kd(e)}/(${t.join("//")})`}}function oE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bd(e){return oE(e).replace(/%3B/gi,";")}function kg(e){return oE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vd(e){return decodeURIComponent(e)}function sE(e){return Vd(e.replace(/\+/g,"%20"))}function aE(e){return`${kg(e.path)}${function D8(e){return Object.keys(e).map(n=>`;${kg(n)}=${kg(e[n])}`).join("")}(e.parameters)}`}const S8=/^[^\/()?;#]+/;function Bg(e){const n=e.match(S8);return n?n[0]:""}const T8=/^[^\/()?;=#]+/,N8=/^[^=?&#]+/,O8=/^[^&#]+/;class L8{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[Ve]=new Et(n,t)),r}parseSegment(){const n=Bg(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(n),new rc(Vd(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function M8(e){const n=e.match(T8);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Bg(this.remaining);i&&(r=i,this.capture(r))}n[Vd(t)]=Vd(r)}parseQueryParam(n){const t=function R8(e){const n=e.match(N8);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function P8(e){const n=e.match(O8);return n?n[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=sE(t),a=sE(r);if(n.hasOwnProperty(i)){let c=n[i];Array.isArray(c)||(c=[c],n[i]=c),c.push(a)}else n[i]=a}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Z(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):n&&(a=Ve);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Ve]:new Et([],c),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Z(4011,!1)}}function lE(e){return e.segments.length>0?new Et([],{[Ve]:e}):e}function cE(e){const n={};for(const r of Object.keys(e.children)){const a=cE(e.children[r]);if(r===Ve&&0===a.segments.length&&a.hasChildren())for(const[c,h]of Object.entries(a.children))n[c]=h;else(a.segments.length>0||a.hasChildren())&&(n[r]=a)}return function F8(e){if(1===e.numberOfChildren&&e.children[Ve]){const n=e.children[Ve];return new Et(e.segments.concat(n.segments),n.children)}return e}(new Et(e.segments,n))}function os(e){return e instanceof Ea}function uE(e){let n;const i=lE(function t(a){const c={};for(const g of a.children){const m=t(g);c[g.outlet]=m}const h=new Et(a.url,c);return a===e&&(n=h),h}(e.root));return n??i}function dE(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return Vg(i,i,i,t,r);const a=function B8(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new hE(!0,0,e);let n=0,t=!1;const r=e.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return Object.entries(a.outlets).forEach(([g,m])=>{h[g]="string"==typeof m?m.split("/"):m}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?n++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new hE(t,n,r)}(n);if(a.toRoot())return Vg(i,i,new Et([],{}),t,r);const c=function V8(e,n,t){if(e.isAbsolute)return new Hd(n,!0,0);if(!t)return new Hd(n,!1,NaN);if(null===t.parent)return new Hd(t,!0,0);const r=Ud(e.commands[0])?0:1;return function U8(e,n,t){let r=e,i=n,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Z(4005,!1);i=r.segments.length}return new Hd(r,!1,i-a)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(a,i,e),h=c.processChildren?ac(c.segmentGroup,c.index,a.commands):pE(c.segmentGroup,c.index,a.commands);return Vg(i,c.segmentGroup,h,t,r)}function Ud(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function sc(e){return"object"==typeof e&&null!=e&&e.outlets}function Vg(e,n,t,r,i){let c,a={};r&&Object.entries(r).forEach(([g,m])=>{a[g]=Array.isArray(m)?m.map(w=>`${w}`):`${m}`}),c=e===n?t:fE(e,n,t);const h=lE(cE(c));return new Ea(h,a,i)}function fE(e,n,t){const r={};return Object.entries(e.children).forEach(([i,a])=>{r[i]=a===n?t:fE(a,n,t)}),new Et(e.segments,r)}class hE{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Ud(r[0]))throw new Z(4003,!1);const i=r.find(sc);if(i&&i!==Jw(r))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hd{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function pE(e,n,t){if(e||(e=new Et([],{})),0===e.segments.length&&e.hasChildren())return ac(e,n,t);const r=function j8(e,n,t){let r=0,i=n;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return a;const c=e.segments[i],h=t[r];if(sc(h))break;const g=`${h}`,m=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&m&&"object"==typeof m&&void 0===m.outlets){if(!mE(g,m,c))return a;r+=2}else{if(!mE(g,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const a=new Et(e.segments.slice(0,r.pathIndex),{});return a.children[Ve]=new Et(e.segments.slice(r.pathIndex),e.children),ac(a,0,i)}return r.match&&0===i.length?new Et(e.segments,{}):r.match&&!e.hasChildren()?Ug(e,n,t):r.match?ac(e,0,i):Ug(e,n,t)}function ac(e,n,t){if(0===t.length)return new Et(e.segments,{});{const r=function H8(e){return sc(e[0])?e[0].outlets:{[Ve]:e}}(t),i={};if(!r[Ve]&&e.children[Ve]&&1===e.numberOfChildren&&0===e.children[Ve].segments.length){const a=ac(e.children[Ve],n,t);return new Et(e.segments,a.children)}return Object.entries(r).forEach(([a,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[a]=pE(e.children[a],n,c))}),Object.entries(e.children).forEach(([a,c])=>{void 0===r[a]&&(i[a]=c)}),new Et(e.segments,i)}}function Ug(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const a=t[i];if(sc(a)){const g=z8(a.outlets);return new Et(r,g)}if(0===i&&Ud(t[0])){r.push(new rc(e.segments[n].path,gE(t[0]))),i++;continue}const c=sc(a)?a.outlets[Ve]:`${a}`,h=i<t.length-1?t[i+1]:null;c&&h&&Ud(h)?(r.push(new rc(c,gE(h))),i+=2):(r.push(new rc(c,{})),i++)}return new Et(r,{})}function z8(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=Ug(new Et([],{}),0,r))}),n}function gE(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function mE(e,n,t){return e==t.path&&bi(n,t.parameters)}const lc="imperative";class Di{constructor(n,t){this.id=n,this.url=t}}class Hg extends Di{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xo extends Di{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jd extends Di{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cc extends Di{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class jg extends Di{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class G8 extends Di{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W8 extends Di{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $8 extends Di{constructor(n,t,r,i,a){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class q8 extends Di{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y8 extends Di{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X8{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Z8{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Q8{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K8{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J8{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eO{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yE{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class tO{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uc,this.attachRef=null}}let uc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new tO,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class CE{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=zg(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=zg(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Gg(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Gg(n,this._root).map(t=>t.value)}}function zg(e,n){if(e===n.value)return n;for(const t of n.children){const r=zg(e,t);if(r)return r}return null}function Gg(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Gg(e,t);if(r.length)return r.unshift(n),r}return[]}class Zi{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function xa(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class vE extends CE{constructor(n,t){super(n),this.snapshot=t,Wg(this,n)}toString(){return this.snapshot.toString()}}function wE(e,n){const t=function nO(e,n){const c=new zd([],{},{},"",{},Ve,n,null,{});return new xE("",new Zi(c,[]))}(0,n),r=new ue([new rc("",{})]),i=new ue({}),a=new ue({}),c=new ue({}),h=new ue(""),g=new ss(r,i,c,h,a,Ve,n,t.root);return g.snapshot=t.root,new vE(new Zi(g,[]),t)}class ss{constructor(n,t,r,i,a,c,h,g){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=a,this.outlet=c,this.component=h,this._futureSnapshot=g,this.title=this.dataSubject?.pipe(Ie(m=>m[nc]))??Ee(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(n=>wa(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(n=>wa(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EE(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function rO(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class zd{get title(){return this.data?.[nc]}constructor(n,t,r,i,a,c,h,g,m){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=h,this.routeConfig=g,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xE extends CE{constructor(n,t){super(t),this.url=n,Wg(this,t)}toString(){return _E(this._root)}}function Wg(e,n){n.value._routerState=e,n.children.forEach(t=>Wg(e,t))}function _E(e){const n=e.children.length>0?` { ${e.children.map(_E).join(", ")} } `:"";return`${e.value}${n}`}function $g(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,bi(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),bi(n.params,t.params)||e.paramsSubject.next(t.params),function C8(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!bi(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),bi(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function qg(e,n){const t=bi(e.params,n.params)&&function x8(e,n){return is(e,n)&&e.every((t,r)=>bi(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||qg(e.parent,n.parent))}let Gd=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ve,this.activateEvents=new qt,this.deactivateEvents=new qt,this.attachEvents=new qt,this.detachEvents=new qt,this.parentContexts=ae(uc),this.location=ae(Zr),this.changeDetector=ae(gd),this.environmentInjector=ae(yi),this.inputBinder=ae(Wd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new iO(t,h,i.injector);this.activated=i.createComponent(c,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dr]}),e})();class iO{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===ss?this.route:n===uc?this.childContexts:this.parent.get(n,t)}}const Wd=new de("");let AE=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Rg([r.queryParams,r.params,r.data]).pipe(ke(([a,c,h],g)=>(h={...a,...c,...h},0===g?Ee(h):Promise.resolve(h)))).subscribe(a=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const c=function ON(e){const n=Ge(e);if(!n)return null;const t=new Ll(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(c)for(const{templateName:h}of c.inputs)t.activatedComponentRef.setInput(h,a[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();function dc(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function sO(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return dc(e,r,i);return dc(e,r)})}(e,n,t);return new Zi(r,i)}{if(e.shouldAttach(n.value)){const a=e.retrieve(n.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=n.value,c.children=n.children.map(h=>dc(e,h)),c}}const r=function aO(e){return new ss(new ue(e.url),new ue(e.params),new ue(e.queryParams),new ue(e.fragment),new ue(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(a=>dc(e,a));return new Zi(r,i)}}const Yg="ngNavigationCancelingError";function bE(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=os(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=DE(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function DE(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[Yg]=!0,r.cancellationCode=n,t&&(r.url=t),r}function IE(e){return SE(e)&&os(e.url)}function SE(e){return e&&e[Yg]}let TE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=j({type:e,selectors:[["ng-component"]],standalone:!0,features:[_2],decls:1,vars:0,template:function(t,r){1&t&&Ae(0,"router-outlet")},dependencies:[Gd],encapsulation:2}),e})();function Xg(e){const n=e.children&&e.children.map(Xg),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Ve&&(t.component=TE),t}function ei(e){return e.outlet||Ve}function fc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class pO{constructor(n,t,r,i,a){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=a}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),$g(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=xa(t);n.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(n,t,r){const i=n.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(n,t,c.children)}else this.deactivateChildRoutes(n,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,a=xa(n);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:h})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,a=xa(n);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=xa(t);n.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new eO(a.value.snapshot))}),n.children.length&&this.forwardEvent(new K8(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,a=t?t.value:null;if($g(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,c.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),$g(h.route.value),this.activateChildRoutes(n,null,c.children)}else{const h=fc(i.snapshot);c.attachRef=null,c.route=i,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(n,null,c.children)}}else this.activateChildRoutes(n,null,r)}}class ME{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class $d{constructor(n,t){this.component=n,this.route=t}}function gO(e,n,t){const r=e._root;return hc(r,n?n._root:null,t,[r.value])}function _a(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function Yc(e){return null!==at(e)}(e)?n.get(e):e:r}function hc(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=xa(n);return e.children.forEach(c=>{(function yO(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,c=n?n.value:null,h=t?t.getContext(e.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const g=function CO(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!is(e.url,n.url);case"pathParamsOrQueryParamsChange":return!is(e.url,n.url)||!bi(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qg(e,n)||!bi(e.queryParams,n.queryParams);default:return!qg(e,n)}}(c,a,a.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new ME(r)):(a.data=c.data,a._resolvedData=c._resolvedData),hc(e,n,a.component?h?h.children:null:t,r,i),g&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new $d(h.outlet.component,c))}else c&&pc(n,h,i),i.canActivateChecks.push(new ME(r)),hc(e,null,a.component?h?h.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Object.entries(a).forEach(([c,h])=>pc(h,t.getContext(c),i)),i}function pc(e,n,t){const r=xa(e),i=e.value;Object.entries(r).forEach(([a,c])=>{pc(c,i.component?n?n.children.getContext(a):null:n,t)}),t.canDeactivateChecks.push(new $d(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function gc(e){return"function"==typeof e}function NE(e){return e instanceof Pd||"EmptyError"===e?.name}const qd=Symbol("INITIAL_VALUE");function Aa(){return ke(e=>Rg(e.map(n=>n.pipe(ns(1),function u8(...e){const n=At(e);return We((t,r)=>{(n?Og(e,t,n):Og(e,t)).subscribe(r)})}(qd)))).pipe(Ie(n=>{for(const t of n)if(!0!==t){if(t===qd)return qd;if(!1===t||t instanceof Ea)return t}return!0}),Ai(n=>n!==qd),ns(1)))}function RE(e){return function Fe(...e){return to(e)}(Sn(n=>{if(os(n))throw bE(0,n)}),Ie(n=>!0===n))}class Yd{constructor(n){this.segmentGroup=n||null}}class OE{constructor(n){this.urlTree=n}}function ba(e){return Rr(new Yd(e))}function PE(e){return Rr(new OE(e))}class BO{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new Z(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ee(r);if(i.numberOfChildren>1||!i.children[Ve])return Rr(new Z(4e3,!1));i=i.children[Ve]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const a=this.createSegmentGroup(n,t.root,r,i);return new Ea(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const h=a.substring(1);r[i]=t[h]}else r[i]=a}),r}createSegmentGroup(n,t,r,i){const a=this.createSegments(n,t.segments,r,i);let c={};return Object.entries(t.children).forEach(([h,g])=>{c[h]=this.createSegmentGroup(n,g,r,i)}),new Et(a,c)}createSegments(n,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(n,a,i):this.findOrReturn(a,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new Z(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const Zg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VO(e,n,t,r,i){const a=Qg(e,n,t);return a.matched?(r=function lO(e,n){return e.providers&&!e._injector&&(e._injector=bp(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function LO(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?Ee(i.map(c=>{const h=_a(c,e);return Eo(function AO(e){return e&&gc(e.canMatch)}(h)?h.canMatch(n,t):e.runInContext(()=>h(n,t)))})).pipe(Aa(),RE()):Ee(!0)}(r,n,t).pipe(Ie(c=>!0===c?a:{...Zg}))):Ee(a)}function Qg(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...Zg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||y8)(t,e,n);if(!i)return{...Zg};const a={};Object.entries(i.posParams??{}).forEach(([h,g])=>{a[h]=g.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function LE(e,n,t,r){return t.length>0&&function jO(e,n,t){return t.some(r=>Xd(e,n,r)&&ei(r)!==Ve)}(e,t,r)?{segmentGroup:new Et(n,HO(r,new Et(t,e.children))),slicedSegments:[]}:0===t.length&&function zO(e,n,t){return t.some(r=>Xd(e,n,r))}(e,t,r)?{segmentGroup:new Et(e.segments,UO(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new Et(e.segments,e.children),slicedSegments:t}}function UO(e,n,t,r,i){const a={};for(const c of r)if(Xd(e,t,c)&&!i[ei(c)]){const h=new Et([],{});a[ei(c)]=h}return{...i,...a}}function HO(e,n){const t={};t[Ve]=n;for(const r of e)if(""===r.path&&ei(r)!==Ve){const i=new Et([],{});t[ei(r)]=i}return t}function Xd(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class qO{constructor(n,t,r,i,a,c,h){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=c,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new BO(this.urlSerializer,this.urlTree)}noMatchError(n){return new Z(4002,!1)}recognize(){const n=LE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Ve).pipe(Or(t=>{if(t instanceof OE)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Yd?this.noMatchError(t):t}),Ie(t=>{const r=new zd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ve,this.rootComponentType,null,{}),i=new Zi(r,t),a=new xE("",i),c=function k8(e,n,t=null,r=null){return dE(uE(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(a._root),{state:a,tree:c}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Ve).pipe(Or(r=>{throw r instanceof Yd?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=EE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return Xt(i).pipe(va(a=>{const c=r.children[a],h=function fO(e,n){const t=e.filter(r=>ei(r)===n);return t.push(...e.filter(r=>ei(r)!==n)),t}(t,a);return this.processSegmentGroup(n,h,c,a)}),function h8(e,n){return We(function f8(e,n,t,r,i){return(a,c)=>{let h=t,g=n,m=0;a.subscribe(Pt(c,w=>{const x=m++;g=h?e(g,w,x):(h=!0,w),r&&c.next(g)},i&&(()=>{h&&c.next(g),c.complete()})))}}(e,n,arguments.length>=2,!0))}((a,c)=>(a.push(...c),a)),Ld(null),function p8(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ai((i,a)=>e(i,a,r)):Dt,Lg(1),t?Ld(n):Qw(()=>new Pd))}(),un(a=>{if(null===a)return ba(r);const c=FE(a);return function YO(e){e.sort((n,t)=>n.value.outlet===Ve?-1:t.value.outlet===Ve?1:n.value.outlet.localeCompare(t.value.outlet))}(c),Ee(c)}))}processSegment(n,t,r,i,a,c){return Xt(t).pipe(va(h=>this.processSegmentAgainstRoute(h._injector??n,t,h,r,i,a,c).pipe(Or(g=>{if(g instanceof Yd)return Ee(null);throw g}))),rs(h=>!!h),Or(h=>{if(NE(h))return function WO(e,n,t){return 0===n.length&&!e.children[t]}(r,i,a)?Ee([]):ba(r);throw h}))}processSegmentAgainstRoute(n,t,r,i,a,c,h){return function GO(e,n,t,r){return!!(ei(e)===r||r!==Ve&&Xd(n,t,e))&&("**"===e.path||Qg(n,e,t).matched)}(r,i,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,a,c,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,a,c):ba(i):ba(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const a=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?PE(a):this.applyRedirects.lineralizeSegments(r,a).pipe(un(c=>{const h=new Et(c,{});return this.processSegment(n,t,h,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,a,c){const{matched:h,consumedSegments:g,remainingSegments:m,positionalParamSegments:w}=Qg(t,i,a);if(!h)return ba(t);const x=this.applyRedirects.applyRedirectCommands(g,i.redirectTo,w);return i.redirectTo.startsWith("/")?PE(x):this.applyRedirects.lineralizeSegments(i,x).pipe(un(b=>this.processSegment(n,r,t,b.concat(m),c,!1)))}matchSegmentAgainstRoute(n,t,r,i,a,c){let h;if("**"===r.path){const g=i.length>0?Jw(i).parameters:{};h=Ee({snapshot:new zd(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kE(r),ei(r),r.component??r._loadedComponent??null,r,BE(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else h=VO(t,r,i,n).pipe(Ie(({matched:g,consumedSegments:m,remainingSegments:w,parameters:x})=>g?{snapshot:new zd(m,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kE(r),ei(r),r.component??r._loadedComponent??null,r,BE(r)),consumedSegments:m,remainingSegments:w}:null));return h.pipe(ke(g=>null===g?ba(t):this.getChildConfig(n=r._injector??n,r,i).pipe(ke(({routes:m})=>{const w=r._loadedInjector??n,{snapshot:x,consumedSegments:b,remainingSegments:M}=g,{segmentGroup:L,slicedSegments:P}=LE(t,b,M,m);if(0===P.length&&L.hasChildren())return this.processChildren(w,m,L).pipe(Ie(G=>null===G?null:[new Zi(x,G)]));if(0===m.length&&0===P.length)return Ee([new Zi(x,[])]);const B=ei(r)===a;return this.processSegment(w,m,L,P,B?Ve:a,!0).pipe(Ie(G=>[new Zi(x,G)]))}))))}getChildConfig(n,t,r){return t.children?Ee({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Ee({routes:t._loadedRoutes,injector:t._loadedInjector}):function PO(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?Ee(!0):Ee(i.map(c=>{const h=_a(c,e);return Eo(function wO(e){return e&&gc(e.canLoad)}(h)?h.canLoad(n,t):e.runInContext(()=>h(n,t)))})).pipe(Aa(),RE())}(n,t,r).pipe(un(i=>i?this.configLoader.loadChildren(n,t).pipe(Sn(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function kO(e){return Rr(DE(!1,3))}())):Ee({routes:[],injector:n})}}function XO(e){const n=e.value.routeConfig;return n&&""===n.path}function FE(e){const n=[],t=new Set;for(const r of e){if(!XO(r)){n.push(r);continue}const i=n.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=FE(r.children);n.push(new Zi(r.value,i))}return n.filter(r=>!t.has(r))}function kE(e){return e.data||{}}function BE(e){return e.resolve||{}}function VE(e){return"string"==typeof e.title||null===e.title}function Kg(e){return ke(n=>{const t=e(n);return t?Xt(t).pipe(Ie(()=>n)):Ee(n)})}const Da=new de("ROUTES");let Jg=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ae(mv)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Eo(t.loadComponent()).pipe(Ie(UE),Sn(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),tc(()=>{this.componentLoaders.delete(t)})),i=new Zw(r,()=>new Nt).pipe(Pg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ie(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,m;return Array.isArray(h)?m=h:(g=h.create(t).injector,m=g.get(Da,[],Be.Self|Be.Optional).flat()),{routes:m.map(Xg),injector:g}}),tc(()=>{this.childrenLoaders.delete(r)})),c=new Zw(a,()=>new Nt).pipe(Pg());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Eo(t()).pipe(Ie(UE),un(r=>r instanceof E2||Array.isArray(r)?Ee(r):Xt(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function UE(e){return function n6(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Zd=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Nt,this.configLoader=ae(Jg),this.environmentInjector=ae(yi),this.urlSerializer=ae(ic),this.rootContexts=ae(uc),this.inputBindingEnabled=null!==ae(Wd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Z8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new X8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ue({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ai(r=>0!==r.id),Ie(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ke(r=>{let i=!1,a=!1;return Ee(r).pipe(Sn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ke(c=>{const h=t.browserUrlTree.toString(),g=!t.navigated||c.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!g&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const w="";return this.events.next(new cc(c.id,t.serializeUrl(r.rawUrl),w,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),dn}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return HE(c.source)&&(t.browserUrlTree=c.extractedUrl),Ee(c).pipe(ke(w=>{const x=this.transitions?.getValue();return this.events.next(new Hg(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),x!==this.transitions?.getValue()?dn:Promise.resolve(w)}),function ZO(e,n,t,r,i,a){return un(c=>function $O(e,n,t,r,i,a,c="emptyOnly"){return new qO(e,n,t,r,i,c,a).recognize()}(e,n,t,r,c.extractedUrl,i,a).pipe(Ie(({state:h,tree:g})=>({...c,targetSnapshot:h,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Sn(w=>{if(r.targetSnapshot=w.targetSnapshot,r.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!w.extras.skipLocationChange){const b=t.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);t.setBrowserUrl(b,w)}t.browserUrlTree=w.urlAfterRedirects}const x=new G8(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}));if(g&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:w,extractedUrl:x,source:b,restoredState:M,extras:L}=c,P=new Hg(w,this.urlSerializer.serialize(x),b,M);this.events.next(P);const B=wE(0,this.rootComponentType).snapshot;return Ee(r={...c,targetSnapshot:B,urlAfterRedirects:x,extras:{...L,skipLocationChange:!1,replaceUrl:!1}})}{const w="";return this.events.next(new cc(c.id,t.serializeUrl(r.extractedUrl),w,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),dn}}),Sn(c=>{const h=new W8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Ie(c=>r={...c,guards:gO(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function DO(e,n){return un(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?Ee({...t,guardsResult:!0}):function IO(e,n,t,r){return Xt(e).pipe(un(i=>function OO(e,n,t,r,i){const a=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return a&&0!==a.length?Ee(a.map(h=>{const g=fc(n)??i,m=_a(h,g);return Eo(function _O(e){return e&&gc(e.canDeactivate)}(m)?m.canDeactivate(e,n,t,r):g.runInContext(()=>m(e,n,t,r))).pipe(rs())})).pipe(Aa()):Ee(!0)}(i.component,i.route,t,n,r)),rs(i=>!0!==i,!0))}(c,r,i,e).pipe(un(h=>h&&function vO(e){return"boolean"==typeof e}(h)?function SO(e,n,t,r){return Xt(n).pipe(va(i=>Og(function MO(e,n){return null!==e&&n&&n(new Q8(e)),Ee(!0)}(i.route.parent,r),function TO(e,n){return null!==e&&n&&n(new J8(e)),Ee(!0)}(i.route,r),function RO(e,n,t){const r=n[n.length-1],a=n.slice(0,n.length-1).reverse().map(c=>function mO(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(c)).filter(c=>null!==c).map(c=>Xw(()=>Ee(c.guards.map(g=>{const m=fc(c.node)??t,w=_a(g,m);return Eo(function xO(e){return e&&gc(e.canActivateChild)}(w)?w.canActivateChild(r,e):m.runInContext(()=>w(r,e))).pipe(rs())})).pipe(Aa())));return Ee(a).pipe(Aa())}(e,i.path,t),function NO(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Ee(!0);const i=r.map(a=>Xw(()=>{const c=fc(n)??t,h=_a(a,c);return Eo(function EO(e){return e&&gc(e.canActivate)}(h)?h.canActivate(n,e):c.runInContext(()=>h(n,e))).pipe(rs())}));return Ee(i).pipe(Aa())}(e,i.route,t))),rs(i=>!0!==i,!0))}(r,a,e,n):Ee(h)),Ie(h=>({...t,guardsResult:h})))})}(this.environmentInjector,c=>this.events.next(c)),Sn(c=>{if(r.guardsResult=c.guardsResult,os(c.guardsResult))throw bE(0,c.guardsResult);const h=new $8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),Ai(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Kg(c=>{if(c.guards.canActivateChecks.length)return Ee(c).pipe(Sn(h=>{const g=new q8(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),ke(h=>{let g=!1;return Ee(h).pipe(function QO(e,n){return un(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ee(t);let a=0;return Xt(i).pipe(va(c=>function KO(e,n,t,r){const i=e.routeConfig,a=e._resolve;return void 0!==i?.title&&!VE(i)&&(a[nc]=i.title),function JO(e,n,t,r){const i=function e6(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Ee({});const a={};return Xt(i).pipe(un(c=>function t6(e,n,t,r){const i=fc(n)??r,a=_a(e,i);return Eo(a.resolve?a.resolve(n,t):i.runInContext(()=>a(n,t)))}(e[c],n,t,r).pipe(rs(),Sn(h=>{a[c]=h}))),Lg(1),function g8(e){return Ie(()=>e)}(a),Or(c=>NE(c)?dn:Rr(c)))}(a,e,n,r).pipe(Ie(c=>(e._resolvedData=c,e.data=EE(e,t).resolve,i&&VE(i)&&(e.data[nc]=i.title),null)))}(c.route,r,e,n)),Sn(()=>a++),Lg(1),un(c=>a===i.length?Ee(t):dn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Sn({next:()=>g=!0,complete:()=>{g||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),Sn(h=>{const g=new Y8(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),Kg(c=>{const h=g=>{const m=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(g.routeConfig).pipe(Sn(w=>{g.component=w}),Ie(()=>{})));for(const w of g.children)m.push(...h(w));return m};return Rg(h(c.targetSnapshot.root)).pipe(Ld(),ns(1))}),Kg(()=>this.afterPreactivation()),Ie(c=>{const h=function oO(e,n,t){const r=dc(e,n._root,t?t._root:void 0);return new vE(r,n)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:h}}),Sn(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((e,n,t,r)=>Ie(i=>(new pO(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ns(1),Sn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new xo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),tc(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Or(c=>{if(a=!0,SE(c)){IE(c)||(t.navigated=!0,t.restoreHistory(r,!0));const h=new jd(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(h),IE(c)){const g=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),m={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||HE(r.source)};t.scheduleNavigation(g,lc,null,m,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const h=new jg(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(t.errorHandler(c))}catch(g){r.reject(g)}}return dn}))}))}cancelNavigationTransition(t,r,i){const a=new jd(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function HE(e){return e!==lc}let jE=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Ve);return r}getResolvedTitleForRoute(t){return t.data[nc]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:function(){return ae(r6)},providedIn:"root"}),e})(),r6=(()=>{class e extends jE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(te(Hw))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),i6=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:function(){return ae(s6)},providedIn:"root"}),e})();class o6{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let s6=(()=>{class e extends o6{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=In(e)))(r||e)}}(),e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Qd=new de("",{providedIn:"root",factory:()=>({})});let a6=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:function(){return ae(l6)},providedIn:"root"}),e})(),l6=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var mc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(mc||{});function zE(e,n){e.events.pipe(Ai(t=>t instanceof xo||t instanceof jd||t instanceof jg||t instanceof cc),Ie(t=>t instanceof xo||t instanceof cc?mc.COMPLETE:t instanceof jd&&(0===t.code||1===t.code)?mc.REDIRECTING:mc.FAILED),Ai(t=>t!==mc.REDIRECTING),ns(1)).subscribe(()=>{n()})}function c6(e){throw e}function u6(e,n,t){return n.parse("/")}const d6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},f6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ae(gv),this.isNgZoneEnabled=!1,this.options=ae(Qd,{optional:!0})||{},this.pendingTasks=ae(fd),this.errorHandler=this.options.errorHandler||c6,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||u6,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ae(a6),this.routeReuseStrategy=ae(i6),this.titleStrategy=ae(jE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ae(Da,{optional:!0})?.flat()??[],this.navigationTransitions=ae(Zd),this.urlSerializer=ae(ic),this.location=ae(ag),this.componentInputBindingEnabled=!!ae(Wd,{optional:!0}),this.isNgZoneEnabled=ae(Wt)instanceof Wt&&Wt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ea,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wE(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const g={...i};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Xg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:h,preserveFragment:g}=r,m=g?this.currentUrlTree.fragment:c;let x,w=null;switch(h){case"merge":w={...this.currentUrlTree.queryParams,...a};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=a||null}null!==w&&(w=this.removeEmptyProps(w));try{x=uE(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),x=this.currentUrlTree.root}return dE(x,t,w,m??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=os(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,lc,null,r)}navigate(t,r={skipLocationChange:!1}){return function h6(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new Z(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...d6}:!1===r?{...f6}:r,os(t))return tE(this.currentUrlTree,t,i);const a=this.parseUrl(t);return tE(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let h,g,m;c?(h=c.resolve,g=c.reject,m=c.promise):m=new Promise((x,b)=>{h=x,g=b});const w=this.pendingTasks.add();return zE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:h,reject:g,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),as=(()=>{class e{constructor(t,r,i,a,c,h){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new Nt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const g=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=t.events.subscribe(m=>{m instanceof xo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function Sm(e,n,t){return function ED(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Im:mr}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(t){return new(t||e)($(mn),$(ss),function yu(e){return function jA(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const a=t[i];if(v(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(a===n)return t[i+1];i+=2}}}return null}(Dn(),e)}("tabindex"),$(Hi),$(yr),$(ts))},e.\u0275dir=ge({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&ze("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&Ei("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ma],skipLocationChange:["skipLocationChange","skipLocationChange",ma],replaceUrl:["replaceUrl","replaceUrl",ma],routerLink:"routerLink"},standalone:!0,features:[Fy,Dr]}),e})();class GE{}let m6=(()=>{class e{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(t=>t instanceof xo),va(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=bp(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,h=a._loadedInjector??c;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(c,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return Xt(i).pipe(ro())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ee(null);const a=i.pipe(un(c=>null===c?Ee(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));return r.loadComponent&&!r._loadedComponent?Xt([a,this.loader.loadComponent(r)]).pipe(ro()):a})}}return e.\u0275fac=function(t){return new(t||e)(te(mn),te(mv),te(yi),te(GE),te(Jg))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const e0=new de("");let WE=(()=>{class e{constructor(t,r,i,a,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof cc&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function uy(){throw new Error("invalid")}()},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();function Qi(e,n){return{\u0275kind:e,\u0275providers:n}}function qE(){const e=ae(Ci);return n=>{const t=e.get(ga);if(n!==t.components[0])return;const r=e.get(mn),i=e.get(YE);1===e.get(t0)&&r.initialNavigation(),e.get(XE,null,Be.Optional)?.setUpPreloading(),e.get(e0,null,Be.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const YE=new de("",{factory:()=>new Nt}),t0=new de("",{providedIn:"root",factory:()=>1}),XE=new de("");function w6(e){return Qi(0,[{provide:XE,useExisting:m6},{provide:GE,useExisting:e}])}const ZE=new de("ROUTER_FORROOT_GUARD"),x6=[ag,{provide:ic,useClass:Fg},mn,uc,{provide:ss,useFactory:function $E(e){return e.routerState.root},deps:[mn]},Jg,[]];function _6(){return new Iv("Router",mn)}let QE=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[x6,[],{provide:Da,multi:!0,useValue:t},{provide:ZE,useFactory:I6,deps:[[mn,new wu,new Eu]]},{provide:Qd,useValue:r||{}},r?.useHash?{provide:ts,useClass:BN}:{provide:ts,useClass:tw},{provide:e0,useFactory:()=>{const e=ae(eR),n=ae(Wt),t=ae(Qd),r=ae(Zd),i=ae(ic);return t.scrollOffset&&e.setOffset(t.scrollOffset),new WE(i,r,e,n,t)}},r?.preloadingStrategy?w6(r.preloadingStrategy).\u0275providers:[],{provide:Iv,multi:!0,useFactory:_6},r?.initialNavigation?S6(r):[],r?.bindToComponentInputs?Qi(8,[AE,{provide:Wd,useExisting:AE}]).\u0275providers:[],[{provide:KE,useFactory:qE},{provide:Zp,multi:!0,useExisting:KE}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Da,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(te(ZE,8))},e.\u0275mod=Ht({type:e}),e.\u0275inj=Qn({}),e})();function I6(e){return"guarded"}function S6(e){return["disabled"===e.initialNavigation?Qi(3,[{provide:jp,multi:!0,useFactory:()=>{const n=ae(mn);return()=>{n.setUpLocationChangeListener()}}},{provide:t0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Qi(2,[{provide:t0,useValue:0},{provide:jp,multi:!0,deps:[Ci],useFactory:n=>{const t=n.get(FN,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(mn),a=n.get(YE);zE(i,()=>{r(!0)}),n.get(Zd).afterPreactivation=()=>(r(!0),a.closed?Ee(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const KE=new de("");function JE(e,n,t,r,i,a,c){try{var h=e[a](c),g=h.value}catch(m){return void t(m)}h.done?n(g):Promise.resolve(g).then(r,i)}var pe=function(e){return e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",e}(pe||{}),ex=new Map([[pe.QR_CODE,"QR_CODE"],[pe.AZTEC,"AZTEC"],[pe.CODABAR,"CODABAR"],[pe.CODE_39,"CODE_39"],[pe.CODE_93,"CODE_93"],[pe.CODE_128,"CODE_128"],[pe.DATA_MATRIX,"DATA_MATRIX"],[pe.MAXICODE,"MAXICODE"],[pe.ITF,"ITF"],[pe.EAN_13,"EAN_13"],[pe.EAN_8,"EAN_8"],[pe.PDF_417,"PDF_417"],[pe.RSS_14,"RSS_14"],[pe.RSS_EXPANDED,"RSS_EXPANDED"],[pe.UPC_A,"UPC_A"],[pe.UPC_E,"UPC_E"],[pe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function R6(e){return Object.values(pe).includes(e)}var ls=function(e){return e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",e}(ls||{}),ti=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ls.SCAN_TYPE_CAMERA,ls.SCAN_TYPE_FILE],e}(),tx=function(){function e(n,t){this.format=n,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!ex.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,ex.get(n))},e}(),nx=function(){function e(){}return e.createFromText=function(n){return{decodedText:n,result:{text:n}}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),rx=function(e){return e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",e}(rx||{}),ix=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:rx.UNKWOWN_ERROR}},e}(),ox=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,t){(this.verbose||!0===t)&&console.error(n)},e.prototype.logErrors=function(n){if(0===n.length)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Ii(e){return typeof e>"u"||null===e}var e,Ia=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),xt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),sx=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),ax=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,t){if("object"!=typeof n)return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(typeof n,"."),!0),!1;for(var a=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),h=0,g=Object.keys(n);h<g.length;h++){var m=g[h];if(a.has(m))return t.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),Bt=X(834),lx=function(){function e(n,t,r){if(this.formatMap=new Map([[pe.QR_CODE,Bt.BarcodeFormat.QR_CODE],[pe.AZTEC,Bt.BarcodeFormat.AZTEC],[pe.CODABAR,Bt.BarcodeFormat.CODABAR],[pe.CODE_39,Bt.BarcodeFormat.CODE_39],[pe.CODE_93,Bt.BarcodeFormat.CODE_93],[pe.CODE_128,Bt.BarcodeFormat.CODE_128],[pe.DATA_MATRIX,Bt.BarcodeFormat.DATA_MATRIX],[pe.MAXICODE,Bt.BarcodeFormat.MAXICODE],[pe.ITF,Bt.BarcodeFormat.ITF],[pe.EAN_13,Bt.BarcodeFormat.EAN_13],[pe.EAN_8,Bt.BarcodeFormat.EAN_8],[pe.PDF_417,Bt.BarcodeFormat.PDF_417],[pe.RSS_14,Bt.BarcodeFormat.RSS_14],[pe.RSS_EXPANDED,Bt.BarcodeFormat.RSS_EXPANDED],[pe.UPC_A,Bt.BarcodeFormat.UPC_A],[pe.UPC_E,Bt.BarcodeFormat.UPC_E],[pe.UPC_EAN_EXTENSION,Bt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Bt)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var i=this.createZXingFormats(n),a=new Map;a.set(Bt.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Bt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(n){var t=this;return new Promise(function(r,i){try{r(t.decode(n))}catch(a){i(a)}})},e.prototype.decode=function(n){var t=new Bt.MultiFormatReader(this.verbose,this.hints),r=new Bt.HTMLCanvasElementLuminanceSource(n),i=new Bt.BinaryBitmap(new Bt.HybridBinarizer(r)),a=t.decode(i);return{text:a.text,format:tx.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(t,r,i){n.set(t,r)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var t=[],r=0,i=n;r<i.length;r++){var a=i[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),cx=function(){function e(n,t,r){if(this.formatMap=new Map([[pe.QR_CODE,"qr_code"],[pe.AZTEC,"aztec"],[pe.CODABAR,"codabar"],[pe.CODE_39,"code_39"],[pe.CODE_93,"code_93"],[pe.CODE_128,"code_128"],[pe.DATA_MATRIX,"data_matrix"],[pe.ITF,"itf"],[pe.EAN_13,"ean_13"],[pe.EAN_8,"ean_8"],[pe.PDF_417,"pdf417"],[pe.UPC_A,"upc_a"],[pe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var i=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},e.prototype.decodeAsync=function(n){return function(e,n,t,r){return new(t||(t=Promise))(function(a,c){function h(w){try{m(r.next(w))}catch(x){c(x)}}function g(w){try{m(r.throw(w))}catch(x){c(x)}}function m(w){w.done?a(w.value):function i(a){return a instanceof t?a:new t(function(c){c(a)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function(){var t,r;return function(e,n){var r,i,a,c,t={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(a=(a=t.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){t.label=m[1];break}if(6===m[0]&&t.label<a[1]){t.label=a[1],a=m;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(m);break}a[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}}(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(n)];case 1:if(!(t=i.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(t)).rawValue,format:tx.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var t=null,r=0,i=0,a=n;i<a.length;i++){var c=a[i],h=c.boundingBox.width*c.boundingBox.height;h>r&&(r=h,t=c)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(n){for(var t=[],r=0,i=n;r<i.length;r++){var a=i[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(t,r,i){n.set(t,r)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),ux=function(e,n,t,r){return new(t||(t=Promise))(function(a,c){function h(w){try{m(r.next(w))}catch(x){c(x)}}function g(w){try{m(r.throw(w))}catch(x){c(x)}}function m(w){w.done?a(w.value):function i(a){return a instanceof t?a:new t(function(c){c(a)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})},dx=function(e,n){var r,i,a,c,t={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(a=(a=t.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){t.label=m[1];break}if(6===m[0]&&t.label<a[1]){t.label=a[1],a=m;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(m);break}a[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},F6=function(){function e(n,t,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&cx.isSupported()?(this.primaryDecoder=new cx(n,r,i),this.secondaryDecoder=new lx(n,r,i)):this.primaryDecoder=new lx(n,r,i)}return e.prototype.decodeAsync=function(n){return ux(this,void 0,void 0,function(){var t;return dx(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return ux(this,void 0,void 0,function(){var t,r;return dx(this,function(i){switch(i.label){case 0:t=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var t=performance.now()-n;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,t=0,r=this.executionResults;t<r.length;t++)n+=r[t];console.log("".concat(n/this.executionResults.length," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),n0=(e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Kd=function(e,n,t,r){return new(t||(t=Promise))(function(a,c){function h(w){try{m(r.next(w))}catch(x){c(x)}}function g(w){try{m(r.throw(w))}catch(x){c(x)}}function m(w){w.done?a(w.value):function i(a){return a instanceof t?a:new t(function(c){c(a)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})},Jd=function(e,n){var r,i,a,c,t={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(a=(a=t.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){t.label=m[1];break}if(6===m[0]&&t.label<a[1]){t.label=a[1],a=m;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(m);break}a[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},fx=function(){function e(n,t){this.name=n,this.track=t}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(n){var t={};return t[this.name]=n,this.track.applyConstraints({advanced:[t]})},e.prototype.value=function(){var n=this.track.getSettings();return this.name in n?n[this.name]:null},e}(),k6=function(e){function n(t,r){return e.call(this,t,r)||this}return n0(n,e),n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(t){var r={};return r[this.name]=t,this.track.applyConstraints({advanced:[r]})},n.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities()[this.name];return{min:r.min,max:r.max,step:r.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(fx),B6=function(e){function n(t){return e.call(this,"zoom",t)||this}return n0(n,e),n}(k6),V6=function(e){function n(t){return e.call(this,"torch",t)||this}return n0(n,e),n}(fx),U6=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new B6(this.track)},e.prototype.torchFeature=function(){return new V6(this.track)},e}(),H6=function(){function e(n,t,r){this.isClosed=!1,this.parentElement=n,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var t=document.createElement("video");return t.style.width="".concat(n,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){n.callbacks.onRenderSurfaceReady(n.surface.clientWidth,n.surface.clientHeight),n.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,t,r,i){return Kd(this,void 0,void 0,function(){var a,c;return Jd(this,function(h){switch(h.label){case 0:return a=new e(n,t,i),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var t=this,r=function(){setTimeout(n,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return Kd(this,void 0,void 0,function(){return Jd(this,function(t){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(t,r){var a=n.mediaStream.getVideoTracks().length,c=0;n.mediaStream.getVideoTracks().forEach(function(h){n.mediaStream.removeTrack(h),h.stop(),++c>=a&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),t())})})},e.prototype.getCapabilities=function(){return new U6(this.getFirstTrackOrFail())},e}(),j6=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,t,r){return Kd(this,void 0,void 0,function(){return Jd(this,function(i){return[2,H6.create(n,this.mediaStream,t,r)]})})},e.create=function(n){return Kd(this,void 0,void 0,function(){return Jd(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[4,navigator.mediaDevices.getUserMedia({audio:!1,video:n})];case 1:return[2,new e(i.sent())]}})})},e}(),hx=function(e,n,t,r){return new(t||(t=Promise))(function(a,c){function h(w){try{m(r.next(w))}catch(x){c(x)}}function g(w){try{m(r.throw(w))}catch(x){c(x)}}function m(w){w.done?a(w.value):function i(a){return a instanceof t?a:new t(function(c){c(a)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})},px=function(e,n){var r,i,a,c,t={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(a=(a=t.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){t.label=m[1];break}if(6===m[0]&&t.label<a[1]){t.label=a[1],a=m;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(m);break}a[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},z6=function(){function e(){}return e.failIfNotSupported=function(){return hx(this,void 0,void 0,function(){return px(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return hx(this,void 0,void 0,function(){return px(this,function(t){return[2,j6.create(n)]})})},e}(),$6=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Ia.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Ia.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var n=location.host.split(":")[0];return"127.0.0.1"===n||"localhost"===n},e.getCamerasFromMediaDevices=function(){return function(e,n,t,r){return new(t||(t=Promise))(function(a,c){function h(w){try{m(r.next(w))}catch(x){c(x)}}function g(w){try{m(r.throw(w))}catch(x){c(x)}}function m(w){w.done?a(w.value):function i(a){return a instanceof t?a:new t(function(c){c(a)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function(){var n,t,r,i,a,c,h;return function(e,n){var r,i,a,c,t={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(a=(a=t.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){t.label=m[1];break}if(6===m[0]&&t.label<a[1]){t.label=a[1],a=m;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(m);break}a[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}}(this,function(g){switch(g.label){case 0:return n=function(m){for(var x=0,b=m.getVideoTracks();x<b.length;x++){var M=b[x];M.enabled=!1,M.stop(),m.removeTrack(M)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),i=[],a=0,c=r;a<c.length;a++)"videoinput"===(h=c[a]).kind&&i.push({id:h.deviceId,label:h.label});return n(t),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,t){MediaStreamTrack.getSources(function(a){for(var c=[],h=0,g=a;h<g.length;h++){var m=g[h];"video"===m.kind&&c.push({id:m.id,label:m.label})}n(c)})})},e}(),nn=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED",e}(nn||{}),q6=function(){function e(){this.state=nn.NOT_STARTED,this.onGoingTransactionNewState=nn.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===nn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=nn.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===nn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=nn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==nn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case nn.UNKNOWN:throw"Transition from unknown is not allowed";case nn.NOT_STARTED:this.failIfNewStateIs(n,[nn.PAUSED])}},e.prototype.failIfNewStateIs=function(n,t){for(var r=0,i=t;r<i.length;r++)if(n===i[r])throw"Cannot transition from ".concat(this.state," to ").concat(n)},e}(),Y6=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===nn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==nn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===nn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===nn.PAUSED},e}(),X6=function(){function e(){}return e.create=function(){return new Y6(new q6)},e}(),Z6=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])})(n,t)};return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),_r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Z6(n,e),n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(ti),Q6=function(){function e(n,t){this.logger=t,this.fps=_r.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=!0===n.disableFlip,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=_r.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ax.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ii(this.qrbox)},e.create=function(n,t){return new e(n,t)},e}(),Sa=function(){function e(n,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");var i;this.elementId=n,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(this.verbose=!0===(i=t).verbose),this.logger=new ox(this.verbose),this.qrcode=new F6(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.shouldScan=!0,this.stateManagerProxy=X6.create()}return e.prototype.start=function(n,t,r,i){var c,a=this;if(!n)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";c=i||(this.verbose?this.logger.log:function(){});var h=Q6.create(t,this.logger);this.clearElement();var g=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=g,w=document.getElementById(this.elementId);w.style.position="relative",this.shouldScan=!0,this.element=w;var b=this,M=this.stateManagerProxy.startTransition(nn.SCANNING);return new Promise(function(L,P){var B=m?h.videoConstraints:b.createVideoConstraints(n);if(!B)return M.cancel(),void P("videoConstraints should be defined");var G={};(!m||h.aspectRatio)&&(G.aspectRatio=h.aspectRatio);var V={onRenderSurfaceReady:function(J,fe){b.setupUi(J,fe,h),b.isScanning=!0,b.foreverScan(h,r,c)}};z6.failIfNotSupported().then(function(J){J.create(B).then(function(fe){return fe.render(a.element,G,V).then(function(he){b.renderedCamera=he,M.execute(),L(null)}).catch(function(he){M.cancel(),P(he)})}).catch(function(fe){M.cancel(),P(Ia.errorGettingUserMedia(fe))})}).catch(function(J){M.cancel(),P(Ia.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(nn.PAUSED),this.showPausedState(),(Ii(n)||!0!==n)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,t=function(){n.stateManagerProxy.directTransition(nn.SCANNING),n.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){t()}):t()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(nn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),function(){if(n.element){var a=document.getElementById(_r.SHADED_REGION_ELEMENT_ID);a&&n.element.removeChild(a)}}(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),t.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,t){return this.scanFileV2(n,t).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(n,t){var r=this;if(!(n&&n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ii(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(n);var c=new Image;c.onload=function(){var h=c.width,g=c.height,m=document.getElementById(r.elementId),w=m.clientWidth?m.clientWidth:_r.DEFAULT_WIDTH,x=Math.max(m.clientHeight?m.clientHeight:g,_r.FILE_SCAN_MIN_HEIGHT),b=r.computeCanvasDrawConfig(h,g,w,x);if(t){var M=r.createCanvasElement(w,x,"qr-canvas-visible");M.style.display="inline-block",m.appendChild(M);var L=M.getContext("2d");if(!L)throw"Unable to get 2d context from canvas";L.canvas.width=w,L.canvas.height=x,L.drawImage(c,0,0,h,g,b.x,b.y,b.width,b.height)}var P=_r.FILE_SCAN_HIDDEN_CANVAS_PADDING,B=Math.max(c.width,b.width),G=Math.max(c.height,b.height),V=B+2*P,J=G+2*P,fe=r.createCanvasElement(V,J);m.appendChild(fe);var he=fe.getContext("2d");if(!he)throw"Unable to get 2d context from canvas";he.canvas.width=V,he.canvas.height=J,he.drawImage(c,0,0,h,g,P,P,B,G);try{r.qrcode.decodeRobustlyAsync(fe).then(function(ft){i(nx.createFromQrcodeResult(ft))}).catch(a)}catch(ft){a("QR code parse error, error = ".concat(ft))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return $6.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(!n)throw"videoConstaints is required argument.";if(!ax.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){if(!n||"boolean"==typeof n||!n.formatsToSupport)return[pe.QR_CODE,pe.AZTEC,pe.CODABAR,pe.CODE_39,pe.CODE_93,pe.CODE_128,pe.DATA_MATRIX,pe.MAXICODE,pe.ITF,pe.EAN_13,pe.EAN_8,pe.PDF_417,pe.RSS_14,pe.RSS_EXPANDED,pe.UPC_A,pe.UPC_E,pe.UPC_EAN_EXTENSION];if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===n.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=n.formatsToSupport;i<a.length;i++){var c=a[i];R6(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Ii(n))return!0;if(!Ii(n.useBarCodeDetectorIfSupported))return!1!==n.useBarCodeDetectorIfSupported;if(Ii(n.experimentalFeatures))return!0;var t=n.experimentalFeatures;return!!Ii(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(n,t,r){var a=r.qrbox;this.validateQrboxConfig(a);var m,c=this.toQrdimensions(n,t,a),h=function(m){if(m<_r.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(_r.MIN_QR_BOX_SIZE,"px.")};h(c.width),h(c.height),c.width=((m=c.width)>n&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=n),m)},e.prototype.validateQrboxConfig=function(n){if("number"!=typeof n&&"function"!=typeof n&&(void 0===n.width||void 0===n.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,t,r){if("number"==typeof r)return{width:r,height:r};if("function"==typeof r)try{return r(n,t)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(n,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(n,t,r);var i=Ii(r.qrbox)?{width:n,height:t}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(n,t,i);a.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&a.height<=t,h={x:0,y:0,width:n,height:t},g=c?this.getShadedRegionBounds(n,t,a):h,m=this.createCanvasElement(g.width,g.height),x=m.getContext("2d",{willReadFrequently:!0});x.canvas.width=g.width,x.canvas.height=g.height,this.element.append(m),c&&this.possiblyInsertShadingElement(this.element,n,t,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=x,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(n){var t=document.createElement("div");t.innerText=Ia.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",n.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(n,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return n(i.text,nx.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=Ia.codeParseError(i);return t(a,ix.createFrom(a)),!1})},e.prototype.foreverScan=function(n,t,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(a,this.qrRegion.x*c,this.qrRegion.y*h,this.qrRegion.width*c,this.qrRegion.height*h,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(n,t,r)},i.getTimeoutFps(n.fps))};this.scanContext(t,r).then(function(M){M||!0===n.disableFlip?b():(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(t,r).finally(function(){b()}))}).catch(function(M){i.logger.logError("Error happend while scanning context",M),b()})}},e.prototype.createVideoConstraints=function(n){if("string"==typeof n)return{deviceId:{exact:n}};if("object"==typeof n){var t="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",c=function(L){if(L in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(L,"'")},h=Object.keys(n);if(1!==h.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var g=Object.keys(n)[0];if(g!==t&&g!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g!==t){var x=n.deviceId;if("string"==typeof x)return{deviceId:x};if("object"==typeof x){if(a in x)return{deviceId:{exact:x["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof x)}var m=n.facingMode;if("string"==typeof m){if(c(m))return{facingMode:m}}else{if("object"!=typeof m)throw"Invalid type of 'facingMode' = ".concat(typeof m);if(!(a in m))throw"'facingMode' should be string or object with"+" ".concat(a," as key.");if(c(m["".concat(a)]))return{facingMode:{exact:m["".concat(a)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof n)},e.prototype.computeCanvasDrawConfig=function(n,t,r,i){if(n<=r&&t<=i)return{x:(r-n)/2,y:(i-t)/2,width:n,height:t};var h=n,g=t;return n>r&&(t*=r/n,n=r),t>i&&(n*=i/t,t=i),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(g)+" to ".concat(n,"X").concat(t,".")),this.computeCanvasDrawConfig(n,t,r,i)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=n?_r.BORDER_SHADER_MATCH_COLOR:_r.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,t,r){var i=n,a=t,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=Ii(r)?"qr-canvas":r,c},e.prototype.getShadedRegionBounds=function(n,t,r){if(r.width>n||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(n,t,r,i){if(!(t-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(t-i.width)/2,h=(r-i.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(_r.SHADED_REGION_ELEMENT_ID),t-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{this.insertShaderBorders(a,40,5,-5,null,0,!0),this.insertShaderBorders(a,40,5,-5,null,0,!1),this.insertShaderBorders(a,40,5,null,-5,0,!0),this.insertShaderBorders(a,40,5,null,-5,0,!1),this.insertShaderBorders(a,5,45,-5,null,-5,!0),this.insertShaderBorders(a,5,45,null,-5,-5,!0),this.insertShaderBorders(a,5,45,-5,null,-5,!1),this.insertShaderBorders(a,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}n.append(a)}},e.prototype.insertShaderBorders=function(n,t,r,i,a,c,h){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=_r.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(t,"px"),g.style.height="".concat(r,"px"),null!==i&&(g.style.top="".concat(i,"px")),null!==a&&(g.style.bottom="".concat(a,"px")),h?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),n.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),r0="data:image/svg+xml;base64,",K6=r0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",J6=r0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",gx=r0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",mx=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),tP=function(){function e(){this.data=mx.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=mx.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),nP=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=sx.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=sx.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),rP=function(){function e(n,t){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=t,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=gx,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return t.onHoverIn()},this.infoIcon.onmouseout=function(r){return t.onHoverOut()},this.infoIcon.onclick=function(r){return t.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=gx,this.infoIcon.style.opacity="0.6")},e}(),iP=function(){function e(){var n=this;this.infoDiv=new nP,this.infoIcon=new rP(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),yx=function(){function e(){}return e.hasPermissions=function(){return function(e,n,t,r){return new(t||(t=Promise))(function(a,c){function h(w){try{m(r.next(w))}catch(x){c(x)}}function g(w){try{m(r.throw(w))}catch(x){c(x)}}function m(w){w.done?a(w.value):function i(a){return a instanceof t?a:new t(function(c){c(a)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function(){var n,t,r,i;return function(e,n){var r,i,a,c,t={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(a=(a=t.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){t.label=m[1];break}if(6===m[0]&&t.label<a[1]){t.label=a[1],a=m;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(m);break}a[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}}(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=a.sent(),t=0,r=n;t<r.length;t++)if("videoinput"===(i=r[t]).kind&&i.label)return[2,!0];return[2,!1]}})})},e}(),_o=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,t=this.supportedScanTypes;n<t.length;n++)if(e.isCameraScanType(t[n]))return!0;return!1},e.isCameraScanType=function(n){return n===ls.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===ls.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||0===n.length)return ti.DEFAULT_SUPPORTED_SCAN_TYPE;var t=ti.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var r=0,i=n;r<i.length;r++){var a=i[r];if(!ti.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return n},e}(),Ar=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Ki=function(){function e(){}return e.createElement=function(n,t){var r=document.createElement(n);return r.id=t,r.classList.add(Ar.ALL_ELEMENT_CLASS),"button"===n&&r.setAttribute("type","button"),r},e}(),Cx=function(e,n,t,r){return new(t||(t=Promise))(function(a,c){function h(w){try{m(r.next(w))}catch(x){c(x)}}function g(w){try{m(r.throw(w))}catch(x){c(x)}}function m(w){w.done?a(w.value):function i(a){return a instanceof t?a:new t(function(c){c(a)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})},vx=function(e,n){var r,i,a,c,t={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(a=2&m[0]?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(a=(a=t.trys).length>0&&a[a.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!a||m[1]>a[0]&&m[1]<a[3])){t.label=m[1];break}if(6===m[0]&&t.label<a[1]){t.label=a[1],a=m;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(m);break}a[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},wx=function(){function e(n,t,r){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=t,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Cx(this,void 0,void 0,function(){var n,t;return vx(this,function(r){switch(r.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return t=r.sent(),this.propagateFailure(n,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,t){n===t?(this.buttonController.setText(t?xt.torchOffButton():xt.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},e.prototype.propagateFailure=function(n,t){var r=n?xt.torchOnFailedMessage():xt.torchOffFailedMessage();t&&(r+="; Error = "+t),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),aP=function(){function e(n,t){this.onTorchActionFailureCallback=t,this.torchButton=Ki.createElement("button",Ar.TORCH_BUTTON_ID),this.torchController=new wx(n,this,t)}return e.prototype.render=function(n,t){var r=this;this.torchButton.innerText=xt.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return Cx(r,void 0,void 0,function(){return vx(this,function(c){switch(c.label){case 0:return[4,i.torchController.flipState()];case 1:return c.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Ar.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Ar.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Ar.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Ar.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new wx(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=xt.torchOnButton(),this.torchController.reset()},e.create=function(n,t,r,i){var a=new e(t,i);return a.render(n,r),a},e}(),lP=function(){function e(n,t,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",n.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Ki.createElement("button",Ar.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(h){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Ki.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(h){if(null!=h&&null!=h.target){var g=h.target;if(!g.files||0!==g.files.length){var w=g.files[0];a.setImageNameToButton(w.name),r(w)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(h){h.stopPropagation(),h.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var g=h.dataTransfer;if(g){var m=g.files;if(!m||0===m.length)return;for(var w=!1,x=0;x<m.length;++x){var b=m.item(x);if(b&&b.type.match(/image.*/)){w=!0,a.setImageNameToButton(b.name),r(b),c.innerText=xt.dragAndDropMessage();break}}w||(c.innerText=xt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=xt.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){if(n.length>20){var r=n.substring(0,8),i=n.length,a=n.substring(i-8,i);n="".concat(r,"....").concat(a)}var c=xt.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var n=xt.fileSelectionChooseImage()+" - "+xt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,t,r){return new e(n,t,r)},e}(),cP=function(){function e(n){this.selectElement=Ki.createElement("select",Ar.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var t=document.createElement("span");t.style.marginRight="10px";var r=this.cameras.length;if(0===r)throw new Error("No cameras found");if(1===r)t.style.display="none";else{var i=xt.selectCamera();t.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,c=0,h=this.cameras;c<h.length;c++){var g=h[c],m=g.id,w=null==g.label?m:g.label;(!w||""===w)&&(w=[xt.anonymousCameraPrefix(),a++].join(" "));var x=document.createElement("option");x.value=m,x.innerText=w,this.options.push(x),this.selectElement.appendChild(x)}t.appendChild(this.selectElement),n.appendChild(t)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var t=0,r=this.options;t<r.length;t++)if(r[t].value===n)return!0;return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,t){var r=new e(t);return r.render(n),r},e}(),uP=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ki.createElement("input",Ar.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=xt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=xt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,t,r,i){this.rangeInput.min=n.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,t){var r=new e;return r.render(n,t),r},e}(),Pr=function(e){return e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",e}(Pr||{});!function(){function e(n,t,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(t),this.verbose=!0===r,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new _o(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ox(this.verbose),this.persistedDataManager=new tP,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}e.prototype.render=function(n,t){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,c){if(n)n(a,c);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(xt.lastMatch(a),Pr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,c){t&&t(a,c)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new Sa(this.getScanRegionId(),function fP(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}(this.config,this.verbose))},e.prototype.pause=function(n){(Ii(n)||!0!==n)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,t=function(){var r=document.getElementById(n.elementId);r&&(r.innerHTML="",n.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){n.html5Qrcode?n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(a){n.html5Qrcode?(n.html5Qrcode.clear(),t(),r()):r()}).catch(function(a){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(n.html5Qrcode.clear(),t(),r()):r()}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=ti.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!ti.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=ti.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=ti.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:ti.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ti.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ti.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var t=document.createElement("div"),r=this.getScanRegionId();t.id=r,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",n.appendChild(t),_o.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",n.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",n.appendChild(t),(new iP).renderInto(t);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",t.appendChild(i)},e.prototype.createSection=function(n){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",n.appendChild(t)},e.prototype.createCameraListUi=function(n,t,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(xt.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(n,t)};Sa.getCameras().then(function(c){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),c&&c.length>0?(n.removeChild(t),i.renderCameraSelection(c)):(i.setHeaderMessage(xt.noCameraFound(),Pr.STATUS_WARNING),a())}).catch(function(c){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(c,Pr.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,t){var r=this,i=Ki.createElement("button",this.getCameraPermissionButtonId());i.innerText=xt.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(n,t,i)}),t.appendChild(i)},e.prototype.createPermissionsUi=function(n,t){var r=this;_o.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?yx.hasPermissions().then(function(i){i?r.createCameraListUi(n,t):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(n,t))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(n,t)}):this.createPermissionButton(n,t)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");n.appendChild(t);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=_o.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(t)},e.prototype.renderFileScanUi=function(n){var t=_o.isFileScanType(this.currentScanType),r=this;this.fileSelectionUi=lP.create(n,t,function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";_o.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(xt.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,Pr.STATUS_WARNING),r.qrCodeErrorCallback(c,ix.createFrom(c))}))})},e.prototype.renderCameraSelection=function(n){var t=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=uP.create(i,!1),h=cP.create(i,n),g=document.createElement("span"),m=Ki.createElement("button",Ar.CAMERA_START_BUTTON_ID);m.innerText=xt.scanButtonStartScanningText(),g.appendChild(m);var x,w=Ki.createElement("button",Ar.CAMERA_STOP_BUTTON_ID);w.innerText=xt.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,g.appendChild(w),i.appendChild(g);var M=function(P){P||(m.style.display="none"),m.innerText=xt.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,P&&(m.style.display="inline-block")};if(m.addEventListener("click",function(P){m.innerText=xt.scanButtonScanningStarting(),h.disable(),m.disabled=!0,m.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var B=h.getValue();r.persistedDataManager.setLastUsedCameraId(B),r.html5Qrcode.start(B,function dP(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(G){w.disabled=!1,w.style.display="inline-block",M(!1);var V=r.html5Qrcode.getRunningTrackCameraCapabilities();!0===t.config.showTorchButtonIfSupported&&function(P){P.torchFeature().isSupported()?(x?x.updateTorchCapability(P.torchFeature()):x=aP.create(g,P.torchFeature(),{display:"none",marginLeft:"5px"},function(B){r.setHeaderMessage(B,Pr.STATUS_WARNING)}),x.show()):x&&x.hide()}(V),!0===t.config.showZoomSliderIfSupported&&function(P){var B=P.zoomFeature();if(B.isSupported()){a.setOnCameraZoomValueChangeCallback(function(V){B.apply(V)});var G=1;t.config.defaultZoomValueIfSupported&&(G=t.config.defaultZoomValueIfSupported),G=function O6(e,n,t){return e>t?t:e<n?n:e}(G,B.min(),B.max()),a.setValues(B.min(),B.max(),G,B.step()),a.show()}}(V)}).catch(function(G){r.showHideScanTypeSwapLink(!0),h.enable(),M(!0),r.setHeaderMessage(G,Pr.STATUS_WARNING)})}),h.hasSingleItem()&&m.click(),w.addEventListener("click",function(P){if(!r.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,r.html5Qrcode.stop().then(function(B){t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),h.enable(),m.disabled=!1,w.style.display="none",m.style.display="inline-block",x&&(x.reset(),x.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(B){w.disabled=!1,r.setHeaderMessage(B,Pr.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var L=r.persistedDataManager.getLastUsedCameraId();h.hasValue(L)?(h.setValue(L),m.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,t=xt.textIfCameraScanSelected(),r=xt.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var c=Ki.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=_o.isCameraScanType(this.currentScanType)?t:r,c.addEventListener("click",function(){n.sectionSwapAllowed?(n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,_o.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),c.innerText=r,n.currentScanType=ls.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),c.innerText=t,n.currentScanType=ls.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0):n.verbose&&n.logger.logError("Section swap called when not allowed")}),a.appendChild(c),i.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,t=this;this.persistedDataManager.hasCameraPermissions()&&yx.hasPermissions().then(function(r){if(r){var i=document.getElementById(t.getCameraPermissionButtonId());if(!i)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(r){t.persistedDataManager.setHasPermission(!1)})},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(n,t){t||(t=Pr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=n,r.style.display="block",t){case Pr.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Pr.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==n&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=K6,this.cameraScanImage.alt=xt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=J6,this.fileScanImage.alt=xt.fileScanAltText()},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Ar.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Ar.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();class ef{}class tf{}class En{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof En?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new En;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof En?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=n.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===a.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(a=>a.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class hP{encodeKey(n){return Ex(n)}encodeValue(n){return Ex(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const gP=/%(\d[a-f0-9])/gi,mP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ex(e){return encodeURIComponent(e).replace(gP,(n,t)=>mP[t]??n)}function nf(e){return`${e}`}class Ao{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new hP,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pP(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[c,h]=-1==a?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,a)),n.decodeValue(i.slice(a+1))],g=t.get(c)||[];g.push(h),t.set(c,g)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(nf):[nf(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Ao({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(nf(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(nf(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class yP{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function xx(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function _x(e){return typeof Blob<"u"&&e instanceof Blob}function Ax(e){return typeof FormData<"u"&&e instanceof FormData}class yc{constructor(n,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function CP(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new En),this.context||(this.context=new yP),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Ao,this.urlWithParams=t}serializeBody(){return null===this.body?null:xx(this.body)||_x(this.body)||Ax(this.body)||function vP(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ao?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ax(this.body)?null:_x(this.body)?this.body.type||null:xx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ao?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,c=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,h=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let g=n.headers||this.headers,m=n.params||this.params;const w=n.context??this.context;return void 0!==n.setHeaders&&(g=Object.keys(n.setHeaders).reduce((x,b)=>x.set(b,n.setHeaders[b]),g)),n.setParams&&(m=Object.keys(n.setParams).reduce((x,b)=>x.set(b,n.setParams[b]),m)),new yc(t,r,a,{params:m,headers:g,context:w,reportProgress:h,responseType:i,withCredentials:c})}}var Ta=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ta||{});class o0{constructor(n,t=200,r="OK"){this.headers=n.headers||new En,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class s0 extends o0{constructor(n={}){super(n),this.type=Ta.ResponseHeader}clone(n={}){return new s0({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Ma extends o0{constructor(n={}){super(n),this.type=Ta.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Ma({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Na extends o0{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function a0(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let $n=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof yc)a=t;else{let g,m;g=i.headers instanceof En?i.headers:new En(i.headers),i.params&&(m=i.params instanceof Ao?i.params:new Ao({fromObject:i.params})),a=new yc(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:m,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=Ee(a).pipe(va(g=>this.handler.handle(g)));if(t instanceof yc||"events"===i.observe)return c;const h=c.pipe(Ai(g=>g instanceof Ma));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe(Ie(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe(Ie(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe(Ie(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe(Ie(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ao).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,a0(i,r))}post(t,r,i={}){return this.request("POST",t,a0(i,r))}put(t,r,i={}){return this.request("PUT",t,a0(i,r))}}return e.\u0275fac=function(t){return new(t||e)(te(ef))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();function Ix(e,n){return n(e)}function EP(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const Sx=new de(""),Cc=new de(""),Tx=new de("");function _P(){let e=null;return(n,t)=>{null===e&&(e=(ae(Sx,{optional:!0})??[]).reduceRight(EP,Ix));const r=ae(fd),i=r.add();return e(n,t).pipe(tc(()=>r.remove(i)))}}let Mx=(()=>{class e extends ef{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=ae(fd)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Cc),...this.injector.get(Tx,[])]));this.chain=i.reduceRight((a,c)=>function xP(e,n,t){return(r,i)=>t.runInContext(()=>n(r,a=>e(a,i)))}(a,c,this.injector),Ix)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(tc(()=>this.pendingTasks.remove(r)))}}return e.\u0275fac=function(t){return new(t||e)(te(tf),te(yi))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const IP=/^\)\]\}',?\n/;let Rx=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Z(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Xt(r.\u0275loadImpl()):Ee(null)).pipe(ke(()=>new ht(a=>{const c=r.build();if(c.open(t.method,t.urlWithParams),t.withCredentials&&(c.withCredentials=!0),t.headers.forEach((P,B)=>c.setRequestHeader(P,B.join(","))),t.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const P=t.detectContentTypeHeader();null!==P&&c.setRequestHeader("Content-Type",P)}if(t.responseType){const P=t.responseType.toLowerCase();c.responseType="json"!==P?P:"text"}const h=t.serializeBody();let g=null;const m=()=>{if(null!==g)return g;const P=c.statusText||"OK",B=new En(c.getAllResponseHeaders()),G=function SP(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(c)||t.url;return g=new s0({headers:B,status:c.status,statusText:P,url:G}),g},w=()=>{let{headers:P,status:B,statusText:G,url:V}=m(),J=null;204!==B&&(J=typeof c.response>"u"?c.responseText:c.response),0===B&&(B=J?200:0);let fe=B>=200&&B<300;if("json"===t.responseType&&"string"==typeof J){const he=J;J=J.replace(IP,"");try{J=""!==J?JSON.parse(J):null}catch(ft){J=he,fe&&(fe=!1,J={error:ft,text:J})}}fe?(a.next(new Ma({body:J,headers:P,status:B,statusText:G,url:V||void 0})),a.complete()):a.error(new Na({error:J,headers:P,status:B,statusText:G,url:V||void 0}))},x=P=>{const{url:B}=m(),G=new Na({error:P,status:c.status||0,statusText:c.statusText||"Unknown Error",url:B||void 0});a.error(G)};let b=!1;const M=P=>{b||(a.next(m()),b=!0);let B={type:Ta.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(B.total=P.total),"text"===t.responseType&&c.responseText&&(B.partialText=c.responseText),a.next(B)},L=P=>{let B={type:Ta.UploadProgress,loaded:P.loaded};P.lengthComputable&&(B.total=P.total),a.next(B)};return c.addEventListener("load",w),c.addEventListener("error",x),c.addEventListener("timeout",x),c.addEventListener("abort",x),t.reportProgress&&(c.addEventListener("progress",M),null!==h&&c.upload&&c.upload.addEventListener("progress",L)),c.send(h),a.next({type:Ta.Sent}),()=>{c.removeEventListener("error",x),c.removeEventListener("abort",x),c.removeEventListener("load",w),c.removeEventListener("timeout",x),t.reportProgress&&(c.removeEventListener("progress",M),null!==h&&c.upload&&c.upload.removeEventListener("progress",L)),c.readyState!==c.DONE&&c.abort()}})))}}return e.\u0275fac=function(t){return new(t||e)(te(_w))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();const l0=new de("XSRF_ENABLED"),Ox=new de("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Px=new de("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Lx{}let NP=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=dw(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(te(Er),te(Xo),te(Ox))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})();function RP(e,n){const t=e.url.toLowerCase();if(!ae(l0)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=ae(Lx).getToken(),i=ae(Px);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var bo=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(bo||{});function cs(e,n){return{\u0275kind:e,\u0275providers:n}}function OP(...e){const n=[$n,Rx,Mx,{provide:ef,useExisting:Mx},{provide:tf,useExisting:Rx},{provide:Cc,useValue:RP,multi:!0},{provide:l0,useValue:!0},{provide:Lx,useClass:NP}];for(const t of e)n.push(...t.\u0275providers);return function Dh(e){return{\u0275providers:e}}(n)}const Fx=new de("LEGACY_INTERCEPTOR_FN");let LP=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=Qn({providers:[OP(cs(bo.LegacyInterceptors,[{provide:Fx,useFactory:_P},{provide:Cc,useExisting:Fx,multi:!0}]))]}),e})();class HP{}class Ji{constructor(){this.baseUrl="http://192.168.0.125:8000",this.verifyUrl=this.baseUrl+"/accounts/token/verify/",this.refreshUrl=this.baseUrl+"/accounts/token/refresh/",this.logoutUrl=this.baseUrl+"/accounts/logout/",this.searchUrl=this.baseUrl+"/turistic-points/?search=",this.historyUrl=this.baseUrl+"/history/",this.locationUrl=this.baseUrl+"/locais/",this.prizeUrl=this.baseUrl+"/premios/",this.redeemUrl=this.baseUrl+"/resgatar/",this.userUrl=this.baseUrl+"/accounts/user/",this.postUrl=this.baseUrl+"/accounts/user/",this.registerUrl=this.baseUrl+"/accounts/registration/",this.verifyEmailUrl=this.baseUrl+"/accounts/registration/verify-email/",this.loginUrl=this.baseUrl+"/accounts/login/",this.resendUrl=this.baseUrl+"/accounts/registration/resend-email/"}}let c0=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ra=(()=>{class e{constructor(t,r){this.http=t,this.api=r,this.urls=new Ji,this.userHistorySubject=new ue(null),this.userHistory$=this.userHistorySubject.asObservable(),this.getPointSuccess=!1,this.manyGetPoints=!1,this.postRequest=!1,this.isLoading=!1,this.isSaving=!1,this.isGettingPoints=!1}verifyQRCode(t,r){if(this.isLoading)return;this.postRequest=!0,this.isLoading=!0;const i=this.generateHeaders();this.http.get(this.urls.searchUrl+t,{headers:i}).subscribe({next:c=>{if(0!==c.length){const h=c[0].points,g=c[0].name;this.center={latitude:c[0].coordinates_lat,longitude:c[0].coordinates_long},this.user={latitude:r.latitude,longitude:r.longitude},this.isWithinRadius(this.user,this.center,1e3)&&(this.locationName=c[0].name,this.locationDescription=c[0].description,this.locationPhoto=c[0].photo,this.savePoints(h,0,"add",g))}else console.error("C\xf3digo inv\xe1lido");this.postRequest=!1,this.isLoading=!1},error:c=>{this.isLoading=!1,401===c.status||console.error("N\xe3o foi poss\xedvel acessar o link")},complete:()=>{this.center=null,this.user=null}})}isWithinRadius(t,r,i=100){function h(g){return g*Math.PI/180}return function c(g,m){const w=h(m.latitude-g.latitude),x=h(m.longitude-g.longitude),b=Math.sin(w/2)*Math.sin(w/2)+Math.cos(h(g.latitude))*Math.cos(h(m.latitude))*Math.sin(x/2)*Math.sin(x/2);return 2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b))*6371e3}(t,r)<=i}savePoints(t,r,i,a){if(this.isSaving)return;this.isSaving=!0;const c=this.generateHeaders();"add"===i?r=t+r:"reduce"===i&&(r<t&&(this.isSaving=!1,Rr(()=>console.error("Usu\xe1rio n\xe3o posui pontos suficientes para a opera\xe7\xe3o."))),r-=t);const h=new HP;h.points=t,h.description="Ponto Tur\xedstico -> "+a,this.http.post(this.urls.historyUrl,h,{headers:c}).subscribe({next:g=>{this.locationPoints=g.points,this.getPointSuccess=!0,this.isSaving=!1},error:g=>{this.isSaving=!1,429===g.status&&(this.manyGetPoints=!0)}})}getUserHistory(){const t=this.generateHeaders();return this.http.get(this.urls.historyUrl,{headers:t})}generateHeaders(){const t=localStorage.getItem("token");return new En({Authorization:"Bearer "+t})}}return e.\u0275fac=function(t){return new(t||e)(te($n),te(c0))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const kx={now:()=>(kx.delegate||Date).now(),delegate:void 0};class Bx extends Nt{constructor(n=1/0,t=1/0,r=kx){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(n),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!n.closed;c+=r?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*n;if(n<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let h=0;for(let g=1;g<r.length&&r[g]<=c;g+=2)h=g;h&&r.splice(0,h+1)}}}let Oa=(()=>{class e{constructor(t,r){this.http=t,this.router=r,this.logoutInProgress=!1,this.verificationInProgress=!1,this.refreshTokenInProgress=!1,this.refreshFailed=!1,this.refreshTokenSubject=new Bx(1),this.userAuthenticated=new Bx(1),this.currentToken=new ue(localStorage.getItem("token")),this.httpHeaders=new En({"Content-Type":"application/json"}),this.urls=new Ji}verifyToken(t){return this.http.post(this.urls.verifyUrl,{token:t},{headers:this.httpHeaders})}refreshToken(){if(this.refreshTokenInProgress)return this.refreshTokenSubject.asObservable();{this.refreshTokenInProgress=!0;const r={refresh:localStorage.getItem("refresh")};return console.log("Tentou dar refresh"),this.http.post(this.urls.refreshUrl,r,{headers:this.httpHeaders}).pipe(Sn(i=>{this.storeTokens(i),this.refreshTokenSubject.next(i),this.refreshTokenInProgress=!1,this.refreshFailed=!1}),Or(i=>(this.refreshTokenInProgress=!1,console.log("Caiu aqui"),this.localLogout(),Rr(()=>i))))}}storeTokens(t){localStorage.setItem("token",t.access),this.currentToken.next(t.access)}get isAuthenticated(){return this.currentToken.pipe(ke(t=>t?this.verifyToken(t):Ee(!1)),Or(()=>Ee(!1)))}logout(){this.logoutInProgress||(this.logoutInProgress=!0,this.http.post(this.urls.logoutUrl,"",{headers:this.httpHeaders}).subscribe({next:()=>{localStorage.clear(),this.currentToken.next(null),this.logoutInProgress=!1,this.userAuthenticated.next(!1),this.router.navigate([""])},error:t=>{console.log("erro no logout")}}))}localLogout(){localStorage.clear(),this.currentToken.next(null),this.logoutInProgress=!1,this.userAuthenticated.next(!1),this.router.navigate([""])}}return e.\u0275fac=function(t){return new(t||e)(te($n),te(mn))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function jP(e,n){if(1&e){const t=Jt();T(0,"button",11),ze("click",function(){return St(t),Tt(He(3).startReading())}),gi(),T(1,"svg",12),Ae(2,"defs",13)(3,"path",14)(4,"path",15),T(5,"g",16),Ae(6,"path",17),S()()()}if(2&e){const t=He(3);Q("hidden",t.cameraReady)("disabled",t.cameraButtonDisable)}}function zP(e,n){if(1&e){const t=Jt();T(0,"button",18),ze("click",function(){return St(t),Tt(He(3).stopReading())}),gi(),T(1,"svg",19),Ae(2,"defs",13)(3,"path",14)(4,"path",15),T(5,"g",16),Ae(6,"path",17),S()()()}}function GP(e,n){if(1&e&&(T(0,"div",6)(1,"div",7),Ae(2,"div",8),S(),T(3,"div",7),ye(4,jP,7,2,"button",9),ye(5,zP,7,0,"button",10),S()()),2&e){const t=He(2);z(2),Q("hidden",!t.reading),z(2),Q("ngIf",!t.reading),z(1),Q("ngIf",t.reading)}}function WP(e,n){if(1&e){const t=Jt();T(0,"div",20)(1,"div",21)(2,"div",22),R(3,"Precisamos do seu OK! \u{1f4f8}"),S(),T(4,"div",23)(5,"h5",24),R(6,"Oi! Bem-vindo ao Duck Go!"),S(),T(7,"p",25),R(8," Para tornar sua experi\xeancia em Pato Branco ainda mais divertida e interativa, adorar\xedamos acessar sua c\xe2mera. Isso permitir\xe1 que voc\xea jogue e interaja em tempo real conosco! Mas n\xe3o se preocupe, respeitamos sua privacidade. "),S()(),T(9,"div",26)(10,"div",27)(11,"div",28)(12,"button",29),ze("click",function(){return St(t),Tt(He(2).getCamera())}),R(13," Autorizar "),S()(),T(14,"div",28)(15,"button",30),ze("click",function(){return St(t),Tt(He(2).dontGetCamera())}),R(16," N\xe3o Autorizar "),S()()()()()()}if(2&e){const t=He(2);z(12),Q("disabled",t.buttonDisabler),z(3),Q("disabled",t.buttonDisabler)}}function $P(e,n){if(1&e){const t=Jt();T(0,"div",20)(1,"div",21)(2,"div",22),R(3,"Permiss\xe3o de Localiza\xe7\xe3o"),S(),T(4,"div",23)(5,"h5",24),R(6,"Quase l\xe1, aventureiro Duck Go!"),S(),T(7,"p",25),R(8," Parece que voc\xea escaneou um QRCode para ganhar pontos. Legal! Para adicion\xe1-los \xe0 sua conta, precisamos confirmar sua localiza\xe7\xe3o. Isso garante que tudo seja justo e leg\xedtimo em nossa jornada juntos em Pato Branco. \u{1f30d} "),S()(),T(9,"div",26)(10,"div",27)(11,"div",28)(12,"button",29),ze("click",function(){return St(t),Tt(He(2).getGeolocationPermission())}),R(13," Autorizar "),S()(),T(14,"div",28)(15,"button",30),ze("click",function(){return St(t),Tt(He(2).deniedGeolocation())}),R(16," N\xe3o Autorizar "),S()()()()()()}if(2&e){const t=He(2);z(12),Q("disabled",t.buttonDisabler),z(3),Q("disabled",t.buttonDisabler)}}function qP(e,n){if(1&e){const t=Jt();T(0,"div",31)(1,"div",22),R(2,"Cadastro Necess\xe1rio"),S(),T(3,"div",23)(4,"h5",24),R(5,"Ei, aventureiro Duck Go!"),S(),T(6,"p",25),R(7," Notamos que voc\xea est\xe1 ansioso para come\xe7ar sua aventura e usar a c\xe2mera. Que empolga\xe7\xe3o! No entanto, para garantir uma experi\xeancia completa e personalizada em Pato Branco, precisamos que voc\xea esteja devidamente cadastrado em nosso site. Assim, suas descobertas e pontos estar\xe3o sempre salvos. \u{1f986} "),S()(),T(8,"div",26)(9,"div",27)(10,"div",32)(11,"button",33),ze("click",function(){return St(t),Tt(He(2).redirectToRegister())}),R(12," Cadastrar "),S()()()()()}if(2&e){const t=He(2);z(11),Q("disabled",t.buttonDisabler)}}function YP(e,n){1&e&&(T(0,"div",34)(1,"div",35)(2,"div",36)(3,"h4",37),R(4,"Ops! Parece que algo n\xe3o deu certo..."),S()(),T(5,"div",23)(6,"p",38),R(7," Entendemos sua preocupa\xe7\xe3o com a privacidade e respeitamos sua decis\xe3o. No entanto, sem o acesso \xe0 c\xe2mera ou \xe0 localiza\xe7\xe3o, voc\xea n\xe3o poder\xe1 desfrutar de todas as incr\xedveis funcionalidades do Duck Go. "),S(),T(8,"p"),R(9," Nossa promessa \xe9 que utilizamos estas permiss\xf5es exclusivamente para proporcionar uma aventura completa em nossa plataforma web e garantir que voc\xea tenha a melhor experi\xeancia conosco em Pato Branco. "),S(),T(10,"h5",39),R(11,"Como habilitar as permiss\xf5es:"),S(),T(12,"div",40)(13,"h6")(14,"strong"),R(15,"Desktop ou Laptop:"),S()(),T(16,"ol")(17,"li"),R(18," Clique no \xedcone de cadeado \u{1f512} \xe0 esquerda da barra de endere\xe7os do seu navegador. "),S(),T(19,"li"),R(20," Ajuste as permiss\xf5es para o Duck Go, permitindo acesso \xe0 c\xe2mera e \xe0 localiza\xe7\xe3o. "),S(),T(21,"li"),R(22,"Atualize a p\xe1gina e tente ler o c\xf3digo QR mais uma vez."),S()()(),T(23,"div",40)(24,"h6")(25,"strong"),R(26,"Android:"),S()(),T(27,"ol")(28,"li"),R(29,'Abra as "Configura\xe7\xf5es" do seu dispositivo.'),S(),T(30,"li"),R(31,' V\xe1 at\xe9 "Aplicativos" e encontre o navegador que voc\xea est\xe1 usando. '),S(),T(32,"li"),R(33,'Toque em "Permiss\xf5es" e habilite a c\xe2mera e a localiza\xe7\xe3o.'),S(),T(34,"li"),R(35,"Volte ao Duck Go e tente ler o c\xf3digo QR novamente."),S()()(),T(36,"div",40)(37,"h6")(38,"strong"),R(39,"iOS (iPhone ou iPad):"),S()(),T(40,"ol")(41,"li"),R(42,' Acesse as "Configura\xe7\xf5es" e des\xe7a at\xe9 encontrar o nome do navegador que voc\xea est\xe1 usando (por exemplo, Safari). '),S(),T(43,"li"),R(44,' Toque nele e depois em "Permiss\xf5es" ou "Configura\xe7\xf5es de sites". '),S(),T(45,"li"),R(46,"Habilite as permiss\xf5es para c\xe2mera e localiza\xe7\xe3o."),S(),T(47,"li"),R(48,"Retorne ao Duck Go e tente ler o c\xf3digo QR mais uma vez."),S()()()(),T(49,"div",41),R(50," Esperamos que voc\xea reconsidere e embarque conosco nessa jornada! \u{1f986}\u{1f30d} "),S()()())}function XP(e,n){if(1&e&&(T(0,"div"),ye(1,GP,6,3,"div",1),T(2,"div",2),ye(3,WP,17,2,"div",3),ye(4,$P,17,2,"div",3),ye(5,qP,13,1,"div",4),S(),ye(6,YP,51,0,"div",5),S()),2&e){const t=He();z(1),Q("ngIf",!t.permissionDenied&&!t.promptRegister),z(2),Q("ngIf",t.cameraReady),z(1),Q("ngIf",t.geoReady),z(1),Q("ngIf",t.promptRegister),z(1),Q("ngIf",t.permissionDenied)}}function ZP(e,n){if(1&e&&(T(0,"div",50),R(1," Parab\xe9ns! Voc\xea ganhou "),T(2,"strong"),R(3),S(),R(4," por visitar este local. "),S()),2&e){const t=He(2);z(3),rr("",t.apiPoints.locationPoints," pontos")}}function QP(e,n){1&e&&(T(0,"div",51),R(1," Limite de pontos di\xe1rios atingidos. "),S())}function KP(e,n){if(1&e){const t=Jt();T(0,"div")(1,"button",42),ze("click",function(){return St(t),Tt(He().goBack())}),R(2,"Voltar"),S(),T(3,"div",43)(4,"div",44)(5,"div",7),Ae(6,"img",45),S(),T(7,"div",46)(8,"div",23)(9,"h2",24),R(10),S(),T(11,"p",25),R(12),S(),ye(13,ZP,5,1,"div",47),ye(14,QP,2,0,"div",48),T(15,"p",49),R(16," N\xe3o pare por aqui! Continue explorando e jogando para acumular ainda mais pontos. Cada nova aventura traz novas recompensas. Vamos nessa! "),S()()()()()()}if(2&e){const t=He();z(6),vr("src",t.apiPoints.locationPhoto,mr),z(4),wr(t.apiPoints.locationName),z(2),wr(t.apiPoints.locationDescription),z(1),Q("ngIf",0!==t.apiPoints.locationPoints),z(1),Q("ngIf",0===t.apiPoints.locationPoints)}}function JP(e,n){if(1&e){const t=Jt();T(0,"div")(1,"div",52)(2,"button",53),ze("click",function(){return St(t),Tt(He().goBack())}),R(3,"Voltar"),S(),T(4,"div",44)(5,"div",21)(6,"div",54),R(7," Quack! Um pequeno pato-alerta! \u{1f986} "),S(),T(8,"div",23)(9,"h5",24),R(10,"Calma, aventureiro!"),S(),T(11,"p",25),R(12," Parece que voc\xea est\xe1 super animado e tentou escanear outro QR Code rapidinho, n\xe9? No Duck GO!, temos uma regrinha: um QR Code a cada 5 minutos. "),S(),T(13,"p",25),R(14," Enquanto aguarda, que tal explorar um pouco mais e descobrir novos lugares incr\xedveis em Pato Branco? H\xe1 muita coisa para ver e pontos para ganhar! "),S()(),T(15,"div",55),R(16," O pr\xf3ximo QR Code est\xe1 logo ali, aguardando por voc\xea. Boas aventuras e quack-quack! "),S()()()()()}}let e5=(()=>{class e{constructor(t,r,i){this.apiPoints=t,this.api=r,this.router=i,this.title="duck-go",this.reading=!1,this.cameraReady=!1,this.geoReady=!1,this.buttonDisabler=!1,this.cameraButtonDisable=!1,this.cameraPermissionName="camera",this.geolocationPermissionName="geolocation",this.permissionDenied=!1,this.isVerified=!1,this.promptRegister=!1}ngOnInit(){this.api.userAuthenticated.subscribe({next:t=>{this.isVerified=!!t}}),this.checkPermission(this.cameraPermissionName).then(t=>{this.cameraPermission=t,"denied"===this.cameraPermission&&(this.permissionDenied=!0)}),this.checkPermission(this.geolocationPermissionName).then(t=>{this.geolocationPermission=t,"denied"===this.geolocationPermission&&(this.permissionDenied=!0)})}checkPermission(t){return function M6(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var a=e.apply(n,t);function c(g){JE(a,r,i,c,h,"next",g)}function h(g){JE(a,r,i,c,h,"throw",g)}c(void 0)})}}(function*(){return(yield navigator.permissions.query({name:t})).state})()}askCamera(){this.cameraReady=!0}dontGetCamera(){this.permissionDenied=!0,this.cameraReady=!1}getGeolocation(){this.geoReady=!0}deniedGeolocation(){this.geoReady=!1,this.permissionDenied=!0}getGeolocationPermission(){this.buttonDisabler=!0,navigator.geolocation.getCurrentPosition(i=>{this.checkPermission(this.geolocationPermissionName).then(a=>{this.geoReady=!1,"granted"===a?(this.buttonDisabler=!1,this.locationRead=i.coords,this.apiPoints.verifyQRCode(this.cameraCodeRead,this.locationRead)):this.buttonDisabler=!1})},i=>{console.log(i),this.buttonDisabler=!1,this.permissionDenied=!0,this.geoReady=!1},{enableHighAccuracy:!0})}getCamera(){this.buttonDisabler=!0,Sa.getCameras().then(t=>{t&&t.length&&(this.html5QrCode=new Sa("reader")),this.checkPermission(this.cameraPermissionName).then(r=>{this.cameraPermission=r,"granted"===this.cameraPermission&&(this.cameraReady=!1,this.buttonDisabler=!1),"denied"===this.cameraPermission?this.permissionDenied=!0:(console.error("O acesso a permiss\xe3o da camera apresentou um erro"),this.buttonDisabler=!1)})}).catch(t=>{this.permissionDenied=!0,this.cameraReady=!1,this.buttonDisabler=!1})}startReading(){this.isVerified?(this.cameraButtonDisable=!0,this.checkPermission(this.cameraPermissionName).then(t=>{if(this.cameraPermission=t,"granted"!=this.cameraPermission)return this.askCamera(),void(this.cameraButtonDisable=!1);Sa.getCameras().then(r=>{r&&r.length&&(this.html5QrCode=new Sa("reader"),this.html5QrCode.start({facingMode:"environment"},{fps:10,qrbox:250},(i,a)=>{this.cameraCodeRead=+i,"number"==typeof this.cameraCodeRead&&this.stopReading()},i=>{}).catch(i=>{}),this.reading=!0)}).catch(r=>{})})):this.promptRegister=!0}stopReading(){2===this.html5QrCode.getState()&&(this.reading=!1,this.html5QrCode.stop().then(t=>{this.cameraButtonDisable=!1,this.cameraCodeRead&&("granted"===this.geolocationPermission?this.getGeolocationPermission():this.getGeolocation())}).catch(t=>{}))}redirectToRegister(){this.router.navigate(["register"])}goBack(){this.apiPoints.getPointSuccess=!1,this.apiPoints.manyGetPoints=!1}}return e.\u0275fac=function(t){return new(t||e)($(Ra),$(Oa),$(mn))},e.\u0275cmp=j({type:e,selectors:[["app-home"]],decls:3,vars:3,consts:[[4,"ngIf"],["class","container d-flex flex-column justify-content-center",4,"ngIf"],[1,"row","d-flex","justify-content-center","px-2","px-md-0","position-absolute","top-50","start-50","translate-middle"],["class","col col-md-6",4,"ngIf"],["class","card text-center","style","width: 25rem;",4,"ngIf"],["class","container px-3 my-5",4,"ngIf"],[1,"container","d-flex","flex-column","justify-content-center"],[1,"container","d-flex","justify-content-center"],["id","reader",1,"border","border-5","rounded","w-100","w-md-25","h-md-25",3,"hidden"],["id","bStart","type","button","title","start","class","btn btn-success",3,"hidden","disabled","click",4,"ngIf"],["type","button","title","start","class","btn btn-danger",3,"click",4,"ngIf"],["id","bStart","type","button","title","start",1,"btn","btn-success",3,"hidden","disabled","click"],["width","200","height","200","fill","currentColor","viewBox","0 0 16 13","version","1.1","id","svg6",0,"sodipodi","docname","camera.svg",0,"inkscape","version","1.2.1 (9c6d41e410, 2022-07-14)",0,"xmlns","inkscape","http://www.inkscape.org/namespaces/inkscape",0,"xmlns","sodipodi","http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg",1,"bi","bi-camera"],["id","defs10"],["d","m 15,12 a 1,1 0 0 1 -1,1 H 2 A 1,1 0 0 1 1,12 V 6 A 1,1 0 0 1 2,5 H 3.172 A 3,3 0 0 0 5.292,4.121 L 6.122,3.293 A 1,1 0 0 1 6.827,3 h 2.344 a 1,1 0 0 1 0.707,0.293 l 0.828,0.828 A 3,3 0 0 0 12.828,5 H 14 a 1,1 0 0 1 1,1 z M 2,4 A 2,2 0 0 0 0,6 v 6 a 2,2 0 0 0 2,2 h 12 a 2,2 0 0 0 2,-2 V 6 A 2,2 0 0 0 14,4 H 12.828 A 2,2 0 0 1 11.414,3.414 L 10.586,2.586 A 2,2 0 0 0 9.172,2 H 6.828 A 2,2 0 0 0 5.414,2.586 L 4.586,3.414 A 2,2 0 0 1 3.172,4 Z","id","path2","transform","translate(0,-2)"],["d","m 8,11 a 2.5,2.5 0 1 1 0,-5 2.5,2.5 0 0 1 0,5 z m 0,1 A 3.5,3.5 0 1 0 8,5 3.5,3.5 0 0 0 8,12 Z M 3,6.5 a 0.5,0.5 0 1 1 -1,0 0.5,0.5 0 0 1 1,0 z","id","path4","transform","translate(0,-2)"],["id","g250","transform","matrix(0.02112598,0,0,0.02108592,5.9292593,4.2693085)"],["d","M 105.572,101.811 C 115.461,95.443 132.989,85.347 133.678,59.645 134.214,39.367 123.707,10.139 84.523,8.767 53.041,7.659 39.9,28.251 36.071,46.739 l -0.928,-0.126 c -1.932,0 -3.438,1.28 -5.34,2.889 -2.084,1.784 -4.683,3.979 -7.792,4.308 C 18.438,54.171 13.9,52.604 10.313,51.361 6.12,49.93 3.689,49.314 2.048,50.602 0.545,51.765 -0.13,53.864 0.02,56.828 c 0.331,6.326 4.971,18.917 16.016,25.778 7.67,4.765 16.248,5.482 20.681,5.482 0.006,0 0.006,0 0.006,0 2.37,0 4.945,-0.239 7.388,-0.726 2.741,4.218 5.228,7.476 6.037,9.752 2.054,5.851 -27.848,25.087 -27.848,55.01 0,29.916 22.013,48.475 56.727,48.475 h 55.004 c 30.593,0 70.814,-29.908 75.291,-92.48 -28.541,24.072 -42.294,-9.969 -103.75,-6.308 z M 18.941,77.945 C 8.775,71.617 4.992,58.922 5.294,55.525 c 0.897,0.24 2.194,0.689 3.228,1.042 4.105,1.415 9.416,3.228 14.068,2.707 4.799,-0.499 8.253,-3.437 10.778,-5.574 0.607,-0.509 1.393,-1.176 1.872,-1.491 0.87,0.315 0.962,0.693 1.176,3.14 0.196,2.26 0.473,5.37 2.362,9.006 1.437,2.761 3.581,5.705 5.646,8.542 1.701,2.336 4.278,5.871 4.535,6.404 -0.445,1.184 -4.907,3.282 -12.229,3.282 -6.553,0.008 -13.04,-1.679 -17.789,-4.638 z M 56.86,49.368 c 0,-4.938 4.001,-8.943 8.931,-8.943 4.941,0 8.942,4.005 8.942,8.943 0,4.931 -4.001,8.942 -8.942,8.942 -4.937,10e-4 -8.931,-4.011 -8.931,-8.942 z m 92.299,106.03 -20.63,11.169 13.408,9.293 c 0,0 -49.854,15.813 -72.198,-6.885 -11.006,-11.16 -13.06,-28.533 4.124,-38.84 17.184,-10.312 84.609,3.943 84.609,3.943 L 134.295,147.8 Z","id","path248"],["type","button","title","start",1,"btn","btn-danger",3,"click"],["width","40","height","40","fill","currentColor","viewBox","0 0 16 12","version","1.1","id","svg6",0,"sodipodi","docname","camera.svg",0,"inkscape","version","1.2.1 (9c6d41e410, 2022-07-14)",0,"xmlns","inkscape","http://www.inkscape.org/namespaces/inkscape",0,"xmlns","sodipodi","http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg",1,"bi","bi-camera"],[1,"col","col-md-6"],[1,"card","text-center"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer","text-body-secondary"],[1,"row"],[1,"col-6"],[1,"btn","btn-success","w-100","h-100","accessButton",3,"disabled","click"],[1,"btn","btn-danger","w-100","h-100","text-wrap","accessButton",3,"disabled","click"],[1,"card","text-center",2,"width","25rem"],[1,"col"],[1,"btn","btn-primary","w-100","h-100","accessButton",3,"disabled","click"],[1,"container","px-3","my-5"],[1,"card"],[1,"card-header","text-center","bg-warning"],[1,"text-white"],[1,"text-center"],[1,"mt-4"],[1,"mt-3"],[1,"card-footer","text-center"],[1,"btn","btn-primary","mt-3","mx-3",3,"click"],[1,"container"],[1,"container","p-2"],["alt","Foto do local",1,"card-img-top",2,"width","150px","height","150px",3,"src"],[1,"card","mt-2"],["class","alert alert-success mt-2",4,"ngIf"],["class","alert alert-warning mt-2",4,"ngIf"],[1,"mt-1"],[1,"alert","alert-success","mt-2"],[1,"alert","alert-warning","mt-2"],[1,"container","d-flex","justify-content-between","flex-column"],[1,"btn","btn-primary","mt-3","mx-2",3,"click"],[1,"card-header","bg-warning"],[1,"card-footer","text-muted"]],template:function(t,r){1&t&&(ye(0,XP,7,5,"div",0),ye(1,KP,17,5,"div",0),ye(2,JP,17,0,"div",0)),2&t&&(Q("ngIf",!r.apiPoints.getPointSuccess&&!r.apiPoints.manyGetPoints),z(1),Q("ngIf",r.apiPoints.getPointSuccess),z(1),Q("ngIf",r.apiPoints.manyGetPoints))},dependencies:[Xi],styles:["#bStart[_ngcontent-%COMP%]{width:250px;height:250px;border-radius:50%!important}.accessButton[_ngcontent-%COMP%]{font-size:15px}"]}),e})(),Vx=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)($(Hi),$(yr))},e.\u0275dir=ge({type:e}),e})(),us=(()=>{class e extends Vx{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=In(e)))(r||e)}}(),e.\u0275dir=ge({type:e,features:[wt]}),e})();const Si=new de("NgValueAccessor"),n5={provide:Si,useExisting:pt(()=>u0),multi:!0};let u0=(()=>{class e extends us{writeValue(t){this.setProperty("checked",t)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=In(e)))(r||e)}}(),e.\u0275dir=ge({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&ze("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},features:[kt([n5]),wt]}),e})();const r5={provide:Si,useExisting:pt(()=>Pa),multi:!0},o5=new de("CompositionEventMode");let Pa=(()=>{class e extends Vx{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function i5(){const e=vo()?vo().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)($(Hi),$(yr),$(o5,8))},e.\u0275dir=ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ze("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[kt([r5]),wt]}),e})();function Do(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function Ux(e){return null!=e&&"number"==typeof e.length}const Bn=new de("NgValidators"),Io=new de("NgAsyncValidators"),s5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mt{static min(n){return function Hx(e){return n=>{if(Do(n.value)||Do(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function jx(e){return n=>{if(Do(n.value)||Do(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return function zx(e){return Do(e.value)?{required:!0}:null}(n)}static requiredTrue(n){return function Gx(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function Wx(e){return Do(e.value)||s5.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function $x(e){return n=>Do(n.value)||!Ux(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function qx(e){return n=>Ux(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function Yx(e){if(!e)return sf;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Do(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return e_(n)}static composeAsync(n){return t_(n)}}function sf(e){return null}function Xx(e){return null!=e}function Zx(e){return Ul(e)?Xt(e):e}function Qx(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function Kx(e,n){return n.map(t=>t(e))}function Jx(e){return e.map(n=>function a5(e){return!e.validate}(n)?n:t=>n.validate(t))}function e_(e){if(!e)return null;const n=e.filter(Xx);return 0==n.length?null:function(t){return Qx(Kx(t,n))}}function d0(e){return null!=e?e_(Jx(e)):null}function t_(e){if(!e)return null;const n=e.filter(Xx);return 0==n.length?null:function(t){return function t5(...e){const n=jc(e),{args:t,keys:r}=Ww(e),i=new ht(a=>{const{length:c}=t;if(!c)return void a.complete();const h=new Array(c);let g=c,m=c;for(let w=0;w<c;w++){let x=!1;ie(t[w]).subscribe(Pt(a,b=>{x||(x=!0,m--),h[w]=b},()=>g--,void 0,()=>{(!g||!x)&&(m||a.next(r?qw(r,h):h),a.complete())}))}});return n?i.pipe($w(n)):i}(Kx(t,n).map(Zx)).pipe(Ie(Qx))}}function f0(e){return null!=e?t_(Jx(e)):null}function n_(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function r_(e){return e._rawValidators}function i_(e){return e._rawAsyncValidators}function h0(e){return e?Array.isArray(e)?e:[e]:[]}function af(e,n){return Array.isArray(e)?e.includes(n):e===n}function o_(e,n){const t=h0(n);return h0(e).forEach(i=>{af(t,i)||t.push(i)}),t}function s_(e,n){return h0(n).filter(t=>!af(e,t))}class a_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=d0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=f0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class qn extends a_{get formDirective(){return null}get path(){return null}}class So extends a_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class l_{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lf=(()=>{class e extends l_{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)($(So,2))},e.\u0275dir=ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&id("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[wt]}),e})(),cf=(()=>{class e extends l_{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)($(qn,10))},e.\u0275dir=ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&id("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[wt]}),e})();const vc="VALID",df="INVALID",La="PENDING",wc="DISABLED";function m0(e){return(ff(e)?e.validators:e)||null}function y0(e,n){return(ff(n)?n.asyncValidators:e)||null}function ff(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function u_(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new Z(1e3,"");if(!r[t])throw new Z(1001,"")}function d_(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new Z(1002,"")})}class hf{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===vc}get invalid(){return this.status===df}get pending(){return this.status==La}get disabled(){return this.status===wc}get enabled(){return this.status!==wc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(o_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(o_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(s_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(s_(n,this._rawAsyncValidators))}hasValidator(n){return af(this._rawValidators,n)}hasAsyncValidator(n){return af(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=La,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=wc,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=vc,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vc||this.status===La)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wc:vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=La,this._hasOwnPendingAsyncValidator=!0;const t=Zx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new qt,this.statusChanges=new qt}_calculateStatus(){return this._allControlsDisabled()?wc:this.errors?df:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(La)?La:this._anyControlsHaveStatus(df)?df:vc}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){ff(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function d5(e){return Array.isArray(e)?d0(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function f5(e){return Array.isArray(e)?f0(e):e||null}(this._rawAsyncValidators)}}class Ec extends hf{constructor(n,t,r){super(m0(t),y0(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){d_(this,0,n),Object.keys(n).forEach(r=>{u_(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class f_ extends Ec{}const Fa=new de("CallSetDisabledState",{providedIn:"root",factory:()=>pf}),pf="always";function xc(e,n,t=pf){C0(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function p5(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&h_(e,n)})}(e,n),function m5(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function g5(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&h_(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function h5(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function mf(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Cf(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function yf(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function C0(e,n){const t=r_(e);null!==n.validator?e.setValidators(n_(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=i_(e);null!==n.asyncValidator?e.setAsyncValidators(n_(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();yf(n._rawValidators,i),yf(n._rawAsyncValidators,i)}function Cf(e,n){let t=!1;if(null!==e){if(null!==n.validator){const i=r_(e);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==n.validator);a.length!==i.length&&(t=!0,e.setValidators(a))}}if(null!==n.asyncValidator){const i=i_(e);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==n.asyncValidator);a.length!==i.length&&(t=!0,e.setAsyncValidators(a))}}}const r=()=>{};return yf(n._rawValidators,r),yf(n._rawAsyncValidators,r),t}function h_(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function m_(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function y_(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Ac=class extends hf{constructor(n=null,t,r){super(m0(t),y0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ff(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=y_(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){m_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){m_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){y_(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let vf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),__=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=Qn({}),e})();const _0=new de("NgModelWithFormControlWarning"),M5={provide:qn,useExisting:pt(()=>ka)};let ka=(()=>{class e extends qn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return xc(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){mf(t.control||null,t,!1),function w5(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function g_(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(mf(r||null,t),(e=>e instanceof Ac)(i)&&(xc(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function p_(e,n){C0(e,n)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function y5(e,n){return Cf(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){C0(this.form,this),this._oldForm&&Cf(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)($(Bn,10),$(Io,10),$(Fa,8))},e.\u0275dir=ge({type:e,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ze("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kt([M5]),wt,Dr]}),e})();const O5={provide:So,useExisting:pt(()=>bc)};let bc=(()=>{class e extends So{set isDisabled(t){}constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new qt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function E0(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(a=>{a.constructor===Pa?t=a:function v5(e){return Object.getPrototypeOf(e.constructor)===us}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){this._added||this._setUpControl(),function w0(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function gf(e,n){return[...n.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)($(qn,13),$(Bn,10),$(Io,10),$(Si,10),$(_0,8))},e.\u0275dir=ge({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[kt([O5]),wt,Dr]}),e})();const P5={provide:Si,useExisting:pt(()=>wf),multi:!0};function S_(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let wf=(()=>{class e extends us{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=S_(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function L5(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=In(e)))(r||e)}}(),e.\u0275dir=ge({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&ze("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[kt([P5]),wt]}),e})(),T_=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(S_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)($(yr),$(Hi),$(wf,9))},e.\u0275dir=ge({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const F5={provide:Si,useExisting:pt(()=>D0),multi:!0};function M_(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let D0=(()=>{class e extends us{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,c)=>{a._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const c=a;for(let h=0;h<c.length;h++){const m=this._getOptionValue(c[h].value);i.push(m)}}else{const c=r.options;for(let h=0;h<c.length;h++){const g=c[h];if(g.selected){const m=this._getOptionValue(g.value);i.push(m)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function k5(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=In(e)))(r||e)}}(),e.\u0275dir=ge({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&ze("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[kt([F5]),wt]}),e})(),N_=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(M_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(M_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)($(yr),$(Hi),$(D0,9))},e.\u0275dir=ge({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),$5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=Qn({imports:[__]}),e})();class H_ extends hf{constructor(n,t,r){super(m0(t),y0(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){d_(this,0,n),n.forEach((r,i)=>{u_(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function j_(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let S0=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return j_(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new Ec(i,a)}record(t,r=null){const i=this._reduceControls(t);return new f_(i,r)}control(t,r,i){let a={};return this.useNonNullable?(j_(r)?a=r:(a.validators=r,a.asyncValidators=i),new Ac(t,{...a,nonNullable:!0})):new Ac(t,r,i)}array(t,r,i){const a=t.map(c=>this._createControl(c));return new H_(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Ac||t instanceof hf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),q5=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:_0,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fa,useValue:t.callSetDisabledState??pf}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=Qn({imports:[$5]}),e})();class z_{static cpf(n){if(!n.value)return null;var t=n.value.replace(/\./g,"").replace(/\-/g,"");const r=t.length;if(!Number(t)||11!=r)return{cpf:!0};const i=t.split(""),a=i.slice(0,9);var w,c=0,h=0,g=11;for(let x in a)c+=Number(a[x])*(g-1),h+=Number(a[x])*g,g-=1;return w=(h+=2*Number(i[9]))%11<2?0:11-h%11,(c%11<2?0:11-c%11)!=Number(i[9])||w!=Number(i[10])?{cpf:!0}:void 0}}class G_{static cep(n){return 8!=n.value.replace(/\./g,"").replace(/\-/g,"").length?{cep:!0}:null}}class Y5{static username(n){var t=n.value;return t.indexOf(" ")>0||/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(t)?{username:!0}:null}}class X5{static password(n){var t=n.value;return t.indexOf(" ")>0||!/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(t)||t.length<8?{username:!0}:null}}let Z5=(()=>{class e{constructor(t){this.http=t,this.urls=new Ji,this.httpHeaders=new En({"Content-Type":"application/json"}),this.estados=[{sigla:"",nome:""},{sigla:"AC",nome:"Acre"},{sigla:"AL",nome:"Alagoas"},{sigla:"AM",nome:"Amazonas"},{sigla:"AP",nome:"Amap\xe1"},{sigla:"BA",nome:"Bahia"},{sigla:"CE",nome:"Cear\xe1"},{sigla:"DF",nome:"Distrito Federal"},{sigla:"ES",nome:"Esp\xedrito Santo"},{sigla:"GO",nome:"Goi\xe1s"},{sigla:"MA",nome:"Maranh\xe3o"},{sigla:"MG",nome:"Minas Gerais"},{sigla:"MS",nome:"Mato Grosso do Sul"},{sigla:"MT",nome:"Mato Grosso"},{sigla:"PA",nome:"Par\xe1"},{sigla:"PB",nome:"Para\xedba"},{sigla:"PE",nome:"Pernambuco"},{sigla:"PI",nome:"Piau\xed"},{sigla:"PR",nome:"Paran\xe1"},{sigla:"RJ",nome:"Rio de Janeiro"},{sigla:"RN",nome:"Rio Grande do Norte"},{sigla:"RO",nome:"Rond\xf4nia"},{sigla:"RR",nome:"Roraima"},{sigla:"RS",nome:"Rio Grande do Sul"},{sigla:"SC",nome:"Santa Catarina"},{sigla:"SE",nome:"Sergipe"},{sigla:"SP",nome:"S\xe3o Paulo"},{sigla:"TO",nome:"Tocantins"}]}registerNewUser(t){return this.http.post(this.urls.registerUrl,{username:t.username,email:t.email,password1:t.senha,password2:t.confSenha,cep:t.cep,cpf:t.cpf,addres_rua:t.rua,address_UF:this.estados[t.uf].sigla,address_cidade:t.cidade,data_nascimento:t.data_nascimento,first_name:t.nome,last_name:t.sobrenome,accepted_terms:t.termos},{headers:this.httpHeaders})}}return e.\u0275fac=function(t){return new(t||e)(te($n))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Q5(e,n){1&e&&(T(0,"div",48),R(1," O nome de usu\xe1rio deve conter apenas letras e n\xfameros. "),S())}function K5(e,n){1&e&&(T(0,"div",48),R(1," O campo de nome n\xe3o pode estar vazio. "),S())}function J5(e,n){1&e&&(T(0,"div",48),R(1," O campo de sobrenome n\xe3o pode estar vazio. "),S())}function eL(e,n){1&e&&(T(0,"div",48),R(1," A senha deve conter: "),T(2,"ul")(3,"li"),R(4,"A senha deve conter letras e n\xfameros"),S(),T(5,"li"),R(6,"Pelo menos um Caractere Especial (@,!. etc)"),S(),T(7,"li"),R(8,"No m\xednimo 8 d\xedgitos"),S(),T(9,"li"),R(10,"No m\xe1ximo 20 d\xedgitos"),S()()())}function tL(e,n){1&e&&(T(0,"div",48),R(1," As senhas digitadas n\xe3o coincidem. "),S())}function nL(e,n){1&e&&(T(0,"div",48),R(1," Por favor, digite um e-mail v\xe1lido. "),S())}function rL(e,n){1&e&&(T(0,"div",48),R(1," Por favor, digite um CPF v\xe1lido. "),S())}function iL(e,n){1&e&&(T(0,"div",48),R(1," Digite um CEP v\xe1lido. "),S())}function oL(e,n){1&e&&(T(0,"div",48),R(1," Selecione sua data de Nascimento. "),S())}function sL(e,n){1&e&&(T(0,"div",48),R(1," Digite uma Cidade. "),S())}function aL(e,n){1&e&&(T(0,"div",48),R(1," Digite um Logradouro. "),S())}function lL(e,n){if(1&e&&(T(0,"option",49),R(1),S()),2&e){const t=n.$implicit;vr("value",n.index),z(1),rr(" ",t.sigla," ")}}function cL(e,n){1&e&&(T(0,"div",48),R(1," Selecione um estado. "),S())}function uL(e,n){1&e&&(T(0,"div",50),R(1," Um e-mail de verifica\xe7\xe3o foi enviado! Verifique sua caixa de entrada. "),S())}function dL(e,n){1&e&&(T(0,"div",51),R(1," O e-mail fornecido j\xe1 foi registrado! Verifique sua caixa de entrada. "),S())}function fL(e,n){1&e&&(T(0,"div",51),R(1," O nome de usu\xe1rio j\xe1 est\xe1 cadastrado, por favor, escolha outro nome. "),S())}const br=function(e,n){return{"is-invalid":e,"is-valid":n}};function hL(e,n){if(1&e){const t=Jt();gi(),Wo(),T(0,"form",5),ze("ngSubmit",function(){return St(t),Tt(He().onSubmit())}),T(1,"div",6)(2,"div",7),R(3,"Cadastro de Usu\xe1rio"),S()(),T(4,"div",6)(5,"div",8)(6,"label",9),R(7,"Nome de Usu\xe1rio"),S(),Ae(8,"input",10),ye(9,Q5,2,0,"div",11),S(),T(10,"div",8)(11,"label",12),R(12,"Nome"),S(),Ae(13,"input",13),ye(14,K5,2,0,"div",11),S(),T(15,"div",8)(16,"label",14),R(17,"Sobrenome"),S(),Ae(18,"input",15),ye(19,J5,2,0,"div",11),S()(),T(20,"div",6)(21,"div",16)(22,"label",17),R(23,"Senha"),S(),Ae(24,"input",18),ye(25,eL,11,0,"div",11),S(),T(26,"div",16)(27,"label",19),R(28,"Confirma\xe7\xe3o de Senha"),S(),Ae(29,"input",20),ye(30,tL,2,0,"div",11),S(),T(31,"div",16)(32,"label",21),R(33,"E-mail"),S(),Ae(34,"input",22),ye(35,nL,2,0,"div",11),S(),T(36,"div",16)(37,"label",23),R(38,"CPF"),S(),Ae(39,"input",24),ye(40,rL,2,0,"div",11),S()(),T(41,"div",6)(42,"div",25)(43,"label",26),R(44,"CEP"),S(),Ae(45,"input",27),ye(46,iL,2,0,"div",11),S(),T(47,"div",25)(48,"label",28),R(49,"Data de Nascimento:"),S(),Ae(50,"input",29),ye(51,oL,2,0,"div",11),S(),T(52,"div",16)(53,"label",30),R(54,"Cidade"),S(),Ae(55,"input",31),ye(56,sL,2,0,"div",11),S(),T(57,"div",16)(58,"label",32),R(59,"Rua"),S(),Ae(60,"input",33),ye(61,aL,2,0,"div",11),S(),T(62,"div",25)(63,"label",34),R(64,"UF"),S(),T(65,"select",35),ye(66,lL,2,2,"option",36),S(),ye(67,cL,2,0,"div",11),S()(),T(68,"div",37)(69,"div",38)(70,"div",39),Ae(71,"input",40),T(72,"label",41),R(73," Concordo com os "),T(74,"a",42),ze("click",function(){return St(t),Tt(He().termsandconditions())}),R(75,"Termos e Condi\xe7\xf5es"),S(),R(76,". "),S()()()(),T(77,"div",43)(78,"div",44),ye(79,uL,2,0,"div",45),ye(80,dL,2,0,"div",46),ye(81,fL,2,0,"div",46),T(82,"button",47),ze("click",function(){return St(t),Tt(He().salvar())}),R(83," Cadastrar "),S()()()()}if(2&e){const t=He();let r,i,a,c,h,g,m,w,x,b,M,L,P,B,G,V,J,fe,he,ft,xn,eo,sr,Ba,Lr;Q("formGroup",t.form),z(8),Q("ngClass",or(31,br,(null==(r=t.form.get("username"))?null:r.invalid)&&((null==(r=t.form.get("username"))?null:r.touched)||(null==(r=t.form.get("username"))?null:r.dirty)),(null==(r=t.form.get("username"))?null:r.valid)&&((null==(r=t.form.get("username"))?null:r.touched)||(null==(r=t.form.get("username"))?null:r.dirty)))),z(1),Q("ngIf",(null==(i=t.form.get("username"))?null:i.invalid)&&((null==(i=t.form.get("username"))?null:i.touched)||(null==(i=t.form.get("username"))?null:i.dirty))),z(4),Q("ngClass",or(34,br,(null==(a=t.form.get("nome"))?null:a.invalid)&&((null==(a=t.form.get("nome"))?null:a.touched)||(null==(a=t.form.get("nome"))?null:a.dirty)),(null==(a=t.form.get("nome"))?null:a.valid)&&((null==(a=t.form.get("nome"))?null:a.touched)||(null==(a=t.form.get("nome"))?null:a.dirty)))),z(1),Q("ngIf",(null==(c=t.form.get("nome"))?null:c.invalid)&&((null==(c=t.form.get("nome"))?null:c.touched)||(null==(c=t.form.get("nome"))?null:c.dirty))),z(4),Q("ngClass",or(37,br,(null==(h=t.form.get("sobrenome"))?null:h.invalid)&&((null==(h=t.form.get("sobrenome"))?null:h.touched)||(null==(h=t.form.get("sobrenome"))?null:h.dirty)),(null==(h=t.form.get("sobrenome"))?null:h.valid)&&((null==(h=t.form.get("sobrenome"))?null:h.touched)||(null==(h=t.form.get("sobrenome"))?null:h.dirty)))),z(1),Q("ngIf",(null==(g=t.form.get("sobrenome"))?null:g.invalid)&&((null==(g=t.form.get("sobrenome"))?null:g.touched)||(null==(g=t.form.get("sobrenome"))?null:g.dirty))),z(5),Q("ngClass",or(40,br,(null==(m=t.form.get("senha"))?null:m.invalid)&&((null==(m=t.form.get("senha"))?null:m.touched)||(null==(m=t.form.get("senha"))?null:m.dirty)),(null==(m=t.form.get("senha"))?null:m.valid)&&((null==(m=t.form.get("senha"))?null:m.touched)||(null==(m=t.form.get("senha"))?null:m.dirty)))),z(1),Q("ngIf",(null==(w=t.form.get("senha"))?null:w.invalid)&&!(null!=(w=t.form.get("senha"))&&null!=w.errors&&w.errors.maxlength)&&!(null!=(w=t.form.get("senha"))&&null!=w.errors&&w.errors.minlength)),z(4),Q("ngClass",or(43,br,(null==(x=t.form.get("confSenha"))?null:x.invalid)&&((null==(x=t.form.get("confSenha"))?null:x.touched)||(null==(x=t.form.get("confSenha"))?null:x.dirty)),(null==(x=t.form.get("confSenha"))?null:x.valid)&&((null==(x=t.form.get("confSenha"))?null:x.touched)||(null==(x=t.form.get("confSenha"))?null:x.dirty)))),z(1),Q("ngIf",(null==(b=t.form.get("confSenha"))?null:b.invalid)&&!(null!=(b=t.form.get("confSenha"))&&null!=b.errors&&b.errors.maxlength)&&!(null!=(b=t.form.get("confSenha"))&&null!=b.errors&&b.errors.minlength)),z(4),Q("ngClass",or(46,br,(null==(M=t.form.get("email"))?null:M.invalid)&&((null==(M=t.form.get("email"))?null:M.touched)||(null==(M=t.form.get("email"))?null:M.dirty)),(null==(M=t.form.get("email"))?null:M.valid)&&((null==(M=t.form.get("email"))?null:M.touched)||(null==(M=t.form.get("email"))?null:M.dirty)))),z(1),Q("ngIf",(null==(L=t.form.get("email"))?null:L.invalid)&&((null==(L=t.form.get("email"))?null:L.touched)||(null==(L=t.form.get("email"))?null:L.dirty))),z(4),Q("ngClass",or(49,br,(null==(P=t.form.get("cpf"))?null:P.invalid)&&((null==(P=t.form.get("cpf"))?null:P.touched)||(null==(P=t.form.get("cpf"))?null:P.dirty)),(null==(P=t.form.get("cpf"))?null:P.valid)&&((null==(P=t.form.get("cpf"))?null:P.touched)||(null==(P=t.form.get("cpf"))?null:P.dirty)))),z(1),Q("ngIf",(null==(B=t.form.get("cpf"))?null:B.invalid)&&((null==(B=t.form.get("cpf"))?null:B.touched)||(null==(B=t.form.get("cpf"))?null:B.dirty))),z(5),Q("ngClass",or(52,br,(null==(G=t.form.get("cep"))?null:G.invalid)&&((null==(G=t.form.get("cep"))?null:G.touched)||(null==(G=t.form.get("cep"))?null:G.dirty)),(null==(G=t.form.get("cep"))?null:G.valid)&&((null==(G=t.form.get("cep"))?null:G.touched)||(null==(G=t.form.get("cep"))?null:G.dirty)))),z(1),Q("ngIf",(null==(V=t.form.get("cep"))?null:V.invalid)&&((null==(V=t.form.get("cep"))?null:V.touched)||(null==(V=t.form.get("cep"))?null:V.dirty))),z(4),Q("ngClass",or(55,br,(null==(J=t.form.get("data_nascimento"))?null:J.invalid)&&((null==(J=t.form.get("data_nascimento"))?null:J.touched)||(null==(J=t.form.get("data_nascimento"))?null:J.dirty)),(null==(J=t.form.get("data_nascimento"))?null:J.valid)&&((null==(J=t.form.get("data_nascimento"))?null:J.touched)||(null==(J=t.form.get("data_nascimento"))?null:J.dirty)))),z(1),Q("ngIf",(null==(fe=t.form.get("data_nascimento"))?null:fe.invalid)&&((null==(fe=t.form.get("data_nascimento"))?null:fe.touched)||(null==(fe=t.form.get("data_nascimento"))?null:fe.dirty))),z(4),Q("ngClass",or(58,br,(null==(he=t.form.get("cidade"))?null:he.invalid)&&((null==(he=t.form.get("cidade"))?null:he.touched)||(null==(he=t.form.get("cidade"))?null:he.dirty)),(null==(he=t.form.get("cidade"))?null:he.valid)&&((null==(he=t.form.get("cidade"))?null:he.touched)||(null==(he=t.form.get("cidade"))?null:he.dirty)))),z(1),Q("ngIf",(null==(ft=t.form.get("cidade"))?null:ft.invalid)&&((null==(ft=t.form.get("cidade"))?null:ft.touched)||(null==(ft=t.form.get("cidade"))?null:ft.dirty))),z(4),Q("ngClass",or(61,br,(null==(xn=t.form.get("rua"))?null:xn.invalid)&&((null==(xn=t.form.get("rua"))?null:xn.touched)||(null==(xn=t.form.get("rua"))?null:xn.dirty)),(null==(xn=t.form.get("rua"))?null:xn.valid)&&((null==(xn=t.form.get("rua"))?null:xn.touched)||(null==(xn=t.form.get("rua"))?null:xn.dirty)))),z(1),Q("ngIf",(null==(eo=t.form.get("rua"))?null:eo.invalid)&&((null==(eo=t.form.get("rua"))?null:eo.touched)||(null==(eo=t.form.get("rua"))?null:eo.dirty))),z(4),Q("ngClass",or(64,br,(null==(sr=t.form.get("uf"))?null:sr.invalid)&&((null==(sr=t.form.get("uf"))?null:sr.touched)||(null==(sr=t.form.get("uf"))?null:sr.dirty)),(null==(sr=t.form.get("uf"))?null:sr.valid)&&((null==(sr=t.form.get("uf"))?null:sr.touched)||(null==(sr=t.form.get("uf"))?null:sr.dirty)))),z(1),Q("ngForOf",t.estados),z(1),Q("ngIf",(null==(Ba=t.form.get("uf"))?null:Ba.invalid)&&((null==(Ba=t.form.get("uf"))?null:Ba.touched)||(null==(Ba=t.form.get("uf"))?null:Ba.dirty))),z(4),Q("ngClass",or(67,br,(null==(Lr=t.form.get("termos"))?null:Lr.invalid)&&((null==(Lr=t.form.get("termos"))?null:Lr.touched)||(null==(Lr=t.form.get("termos"))?null:Lr.dirty)),(null==(Lr=t.form.get("termos"))?null:Lr.valid)&&((null==(Lr=t.form.get("termos"))?null:Lr.touched)||(null==(Lr=t.form.get("termos"))?null:Lr.dirty)))),z(8),Q("ngIf",t.verifyEmailSent),z(1),Q("ngIf",t.emailAlreadyRegistered),z(1),Q("ngIf",t.usernameAlreadyRegistered),z(1),Q("disabled",t.buttonDisable)}}function pL(e,n){if(1&e){const t=Jt();gi(),Wo(),T(0,"div",52)(1,"h1",53),R(2,"Termos e Condi\xe7\xf5es do Jogo Duck GO!"),S(),T(3,"p"),R(4," Ao se cadastrar no Duck GO! e utilizar nossos servi\xe7os, voc\xea concorda com os seguintes termos e condi\xe7\xf5es: "),S(),T(5,"h2",54),R(6,"Cadastro"),S(),T(7,"ul",55)(8,"li",56),R(9," O usu\xe1rio deve fornecer informa\xe7\xf5es verdadeiras e atualizadas ao se registrar. "),S(),T(10,"li",56),R(11," \xc9 proibida a cria\xe7\xe3o de contas com informa\xe7\xf5es falsas ou de terceiros. "),S(),T(12,"li",56),R(13," A senha criada no cadastro \xe9 de responsabilidade exclusiva do usu\xe1rio. O Duck GO! n\xe3o se responsabiliza por acessos indevidos resultantes de compartilhamento, perda ou roubo de senhas. "),S(),T(14,"li",56),R(15," O endere\xe7o de e-mail fornecido ser\xe1 usado para comunica\xe7\xf5es oficiais do Duck GO! "),S()(),T(16,"h2",54),R(17,"Explora\xe7\xe3o dos Locais de Ca\xe7a"),S(),T(18,"p"),R(19," Os pontos tur\xedsticos listados s\xe3o apenas sugest\xf5es de locais para a ca\xe7a de QR Codes. O Duck GO! n\xe3o se responsabiliza por qualquer incidente ou problema que possa ocorrer nesses locais. "),S(),T(20,"h2",54),R(21,"Ca\xe7a aos QR Codes e Pontua\xe7\xf5es"),S(),T(22,"ul",55)(23,"li",56),R(24," O usu\xe1rio deve estar ciente de seu ambiente ao procurar e escanear os QR Codes para garantir sua seguran\xe7a e a dos demais. "),S(),T(25,"li",56),R(26," QR Codes danificados, alterados ou reproduzidos de fontes n\xe3o oficiais do jogo n\xe3o ser\xe3o v\xe1lidos. "),S(),T(27,"li",56),R(28," A pontua\xe7\xe3o ser\xe1 atribu\xedda apenas quando o usu\xe1rio estiver conectado \xe0 sua conta. "),S()(),T(29,"h2",54),R(30,"Resgate de Pontos"),S(),T(31,"ul",55)(32,"li",56),R(33,"Os pontos s\xe3o pessoais e intransfer\xedveis."),S(),T(34,"li",56),R(35," Os pontos acumulados t\xeam validade de 1 ano a partir da data em que foram adquiridos. "),S(),T(36,"li",56),R(37," O Duck GO! reserva-se o direito de alterar ou encerrar programas de recompensa a qualquer momento, com aviso pr\xe9vio de 30 dias. "),S()(),T(38,"h2",54),R(39,"Restri\xe7\xf5es e Limita\xe7\xf5es"),S(),T(40,"ul",55)(41,"li",56),R(42," Os usu\xe1rios s\xf3 podem escanear um novo QR Code a cada 5 minutos. "),S(),T(43,"li",56),R(44," Existe um limite m\xe1ximo de 30 pontos que podem ser ganhos por semana. "),S(),T(45,"li",56),R(46," O Duck GO! pode implementar medidas de preven\xe7\xe3o contra atividades fraudulentas e pode suspender ou banir usu\xe1rios que violem essas regras. "),S()(),T(47,"h2",54),R(48,"Responsabilidades e Indeniza\xe7\xf5es"),S(),T(49,"ul",55)(50,"li",56),R(51," O Duck GO! n\xe3o se responsabiliza por qualquer dano, les\xe3o ou preju\xedzo que os usu\xe1rios possam sofrer ao jogar. "),S(),T(52,"li",56),R(53," Os usu\xe1rios concordam em indenizar e isentar o Duck GO! de quaisquer reivindica\xe7\xf5es ou demandas resultantes de neglig\xeancia, atos ou omiss\xf5es do usu\xe1rio, ou viola\xe7\xf5es destes termos. "),S()(),T(54,"h2",54),R(55,"Mudan\xe7as nos Termos e Condi\xe7\xf5es"),S(),T(56,"p"),R(57," O Duck GO! reserva-se o direito de alterar estes termos e condi\xe7\xf5es a qualquer momento, com aviso pr\xe9vio de 30 dias. "),S(),T(58,"div",57),R(59,' Ao clicar em "Cadastrar", voc\xea confirma que leu, entendeu e aceita os termos e condi\xe7\xf5es acima. '),S(),T(60,"div",6)(61,"div",58)(62,"a",59),ze("click",function(){return St(t),Tt(He().accept())}),R(63,"Aceitar"),S()(),T(64,"div",58)(65,"a",60),ze("click",function(){return St(t),Tt(He().recuse())}),R(66,"Recusar"),S()()()()}}let gL=(()=>{class e{constructor(t,r,i,a){this.formBuilder=t,this.http=r,this.router=i,this.api=a,this.isDisabled=!0,this.verifyEmailSent=!1,this.emailAlreadyRegistered=!1,this.usernameAlreadyRegistered=!1,this.buttonDisable=!1,this.showTerms=!1,this.estados=[{sigla:"",nome:""},{sigla:"AC",nome:"Acre"},{sigla:"AL",nome:"Alagoas"},{sigla:"AM",nome:"Amazonas"},{sigla:"AP",nome:"Amap\xe1"},{sigla:"BA",nome:"Bahia"},{sigla:"CE",nome:"Cear\xe1"},{sigla:"DF",nome:"Distrito Federal"},{sigla:"ES",nome:"Esp\xedrito Santo"},{sigla:"GO",nome:"Goi\xe1s"},{sigla:"MA",nome:"Maranh\xe3o"},{sigla:"MG",nome:"Minas Gerais"},{sigla:"MS",nome:"Mato Grosso do Sul"},{sigla:"MT",nome:"Mato Grosso"},{sigla:"PA",nome:"Par\xe1"},{sigla:"PB",nome:"Para\xedba"},{sigla:"PE",nome:"Pernambuco"},{sigla:"PI",nome:"Piau\xed"},{sigla:"PR",nome:"Paran\xe1"},{sigla:"RJ",nome:"Rio de Janeiro"},{sigla:"RN",nome:"Rio Grande do Norte"},{sigla:"RO",nome:"Rond\xf4nia"},{sigla:"RR",nome:"Roraima"},{sigla:"RS",nome:"Rio Grande do Sul"},{sigla:"SC",nome:"Santa Catarina"},{sigla:"SE",nome:"Sergipe"},{sigla:"SP",nome:"S\xe3o Paulo"},{sigla:"TO",nome:"Tocantins"}]}ngOnInit(){this.form=this.formBuilder.group({email:["",[mt.required,mt.email]],username:["",[mt.required,Y5.username]],nome:["",[mt.required]],sobrenome:["",[mt.required]],senha:["",[mt.required,mt.minLength(8),mt.maxLength(20),X5.password]],confSenha:["",mt.required],cpf:["",[mt.required,z_.cpf]],cep:["",[mt.required,G_.cep]],rua:["",[mt.required]],cidade:["",[mt.required]],uf:["",[mt.required]],data_nascimento:["",[mt.required]],termos:["",mt.requiredTrue]}),this.subscribeForms(),this.form.controls.cidade.disable(),this.form.controls.rua.disable(),this.form.controls.uf.disable()}subscribeForms(){this.form.get("cep")?.valueChanges.subscribe(t=>{this.form.get("cep")?.valid&&this.http.get("https://viacep.com.br/ws/"+t+"/json/").subscribe(r=>{if(r.erro)return this.form.get("cep")?.setErrors({incorrect:!0}),this.form.get("rua").setValue("",{emitEvent:!1}),this.form.get("cidade").setValue("",{emitEvent:!1}),this.form.get("uf").setValue("",{emitEvent:!1}),this.form.controls.cidade.disable(),this.form.controls.rua.disable(),void this.form.controls.uf.disable();if(this.form.controls.cidade.enable(),this.form.controls.rua.enable(),this.form.controls.uf.enable(),r?.localidade&&(this.form.get("cidade").setValue(r?.localidade,{emitEvent:!1}),this.form.controls.cidade.disable(),this.form.get("cidade")?.updateValueAndValidity({emitEvent:!1})),r?.logradouro&&(this.form.get("rua").setValue(r?.logradouro,{emitEvent:!1}),this.form.controls.rua.disable(),this.form.get("rua")?.updateValueAndValidity({emitEvent:!1})),r?.uf){let i=this.estados.find(a=>a.sigla===r?.uf);this.form.get("uf").setValue(this.estados.indexOf(i),{emitEvent:!1}),this.form.controls.uf.disable()}})}),this.form.get("confSenha")?.valueChanges.subscribe(t=>{t==this.form.get("senha").value||this.form.get("confSenha")?.setErrors({incorrect:!0})})}salvar(){this.form.invalid&&this.form.markAllAsTouched()}onSubmit(){this.form?.valid&&(this.buttonDisable=!0,this.api.registerNewUser(this.form.getRawValue()).subscribe({error:t=>{this.buttonDisable=!1,this.emailAlreadyRegistered=!1,this.usernameAlreadyRegistered=!1,t.error.email&&(this.emailAlreadyRegistered=!0,this.form.get("email")?.setErrors({incorrect:!0})),t.error.username&&(this.usernameAlreadyRegistered=!0,this.form.get("username")?.setErrors({incorrect:!0}))},complete:()=>{this.verifyEmailSent=!0,this.emailAlreadyRegistered=!1,this.usernameAlreadyRegistered=!1,this.form.disable(),this.buttonDisable=!0,setTimeout(()=>{this.router.navigate(["login"])},3e3)}}))}termsandconditions(){this.showTerms=!0}accept(){this.showTerms=!1,this.form.get("termos").setValue(!0,{emitEvent:!1})}recuse(){this.showTerms=!1,this.form.get("termos").setValue(!1,{emitEvent:!1})}}return e.\u0275fac=function(t){return new(t||e)($(S0),$($n),$(mn),$(Z5))},e.\u0275cmp=j({type:e,selectors:[["app-register"]],decls:5,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg",1,"d-none"],["id","check-circle-fill","viewBox","0 0 16 16"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"],["action","","class","container mt-1 px-5 px-5 py-3",3,"formGroup","ngSubmit",4,"ngIf"],["class","container mt-5",4,"ngIf"],["action","",1,"container","mt-1","px-5","px-5","py-3",3,"formGroup","ngSubmit"],[1,"row"],[1,"col","h2","text-center","pb-5"],[1,"col-md-4"],["for","username",1,"form-label"],["id","username","name","username","type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","nome",1,"form-label"],["id","nome","name","nome","type","text","formControlName","nome",1,"form-control",3,"ngClass"],["for","sobrenome",1,"form-label"],["id","sobrenome","name","sobrenome","type","text","formControlName","sobrenome",1,"form-control",3,"ngClass"],[1,"col-md-3"],["for","senha",1,"form-label"],["id","senha","type","password","formControlName","senha",1,"form-control",3,"ngClass"],["for","confSenha",1,"form-label"],["id","confSenha","type","password","formControlName","confSenha",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["id","email","name","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","cpf",1,"form-label"],["id","cpf","name","cpf","type","cpf","formControlName","cpf",1,"form-control",3,"ngClass"],[1,"col-md-2"],["for","cep",1,"form-label"],["type","text","name","cep","id","cep","formControlName","cep",1,"form-control",3,"ngClass"],["for","data_nascimento",1,"form-label"],["type","date","name","data_nascimento","id","data_nascimento","formControlName","data_nascimento",1,"form-control",3,"ngClass"],["for","cidade",1,"form-label"],["type","text","name","cidade","id","cidade","formControlName","cidade",1,"form-control",3,"ngClass"],["for","rua",1,"form-label"],["type","text","name","rua","id","rua","formControlName","rua",1,"form-control",3,"ngClass"],["for","uf",1,"form-label"],["title","UF","name","uf","id","uf","formControlName","uf",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"col"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault","formControlName","termos",1,"form-check-input",3,"ngClass"],["for","flexCheckDefault",1,"form-check-label"],["id","terms-link",1,"link-underline-primary",3,"click"],[1,"row","my-3"],[1,"col-md","d-flex","justify-content-center","flex-column"],["class","alert alert-success h-25 d-flex align-items-center","role","alert",4,"ngIf"],["class","alert alert-danger h-25 d-flex align-items-center","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-success","w-md-50","w-100","h-md-50","mt-2","mt-md-0",3,"disabled","click"],[1,"invalid-feedback"],[3,"value"],["role","alert",1,"alert","alert-success","h-25","d-flex","align-items-center"],["role","alert",1,"alert","alert-danger","h-25","d-flex","align-items-center"],[1,"container","mt-5"],[1,"mb-4"],[1,"mt-4"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["role","alert",1,"alert","alert-info","mt-4"],[1,"col","d-flex","justify-content-center"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(gi(),T(0,"svg",0)(1,"symbol",1),Ae(2,"path",2),S()(),ye(3,hL,84,70,"form",3),ye(4,pL,67,0,"div",4)),2&t&&(z(3),Q("ngIf",!r.showTerms),z(1),Q("ngIf",r.showTerms))},dependencies:[Md,Ca,Xi,vf,T_,N_,Pa,u0,wf,lf,cf,ka,bc],styles:["#terms-link[_ngcontent-%COMP%]{cursor:pointer}"]}),e})(),mL=(()=>{class e{constructor(t){this.http=t,this.urls=new Ji,this.httpHeaders=new En({"Content-Type":"application/json"})}Login(t){return this.http.post(this.urls.loginUrl,{username:"",email:t.email,password:t.senha},{headers:this.httpHeaders})}resendEmail(t){return this.http.post(this.urls.resendUrl,{email:t.email},{headers:this.httpHeaders})}}return e.\u0275fac=function(t){return new(t||e)(te($n))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function yL(e,n){1&e&&(T(0,"div",17),R(1," E-mail n\xe3o cadastrado. "),S())}function CL(e,n){1&e&&(T(0,"div",17),R(1," Senha inv\xe1lida. "),S())}function vL(e,n){if(1&e){const t=Jt();T(0,"div",18)(1,"span"),R(2,"E-mail n\xe3o verificado. "),T(3,"a",19),ze("click",function(){return St(t),Tt(He(2).redirect())}),R(4,"Gostaria de reenviar o e-mail de verific\xe3o?"),S()()()}}function wL(e,n){1&e&&(T(0,"div",18),R(1," Usu\xe1rio ou senha incorretos "),S())}function EL(e,n){1&e&&(T(0,"div",20),R(1," Login feito com sucesso! "),S())}const T0=function(e){return{"is-invalid":e}};function xL(e,n){if(1&e){const t=Jt();T(0,"div",1)(1,"div",2),Ae(2,"div",3),T(3,"div",4)(4,"div",5)(5,"h5",6),R(6,"Login"),S(),T(7,"div",7)(8,"form",8),ze("ngSubmit",function(){return St(t),Tt(He().onSubmit())}),T(9,"label",9),R(10,"E-mail"),S(),Ae(11,"input",10),ye(12,yL,2,0,"div",11),T(13,"label",12),R(14,"Senha"),S(),Ae(15,"input",13),ye(16,CL,2,0,"div",11),ye(17,vL,5,0,"div",14),ye(18,wL,2,0,"div",14),ye(19,EL,2,0,"div",15),T(20,"button",16),R(21," Entrar "),S()()()()()()()}if(2&e){const t=He();let r,i,a,c;z(8),Q("formGroup",t.login),z(3),Q("ngClass",Tr(9,T0,(null==(r=t.login.get("email"))?null:r.invalid)&&((null==(r=t.login.get("email"))?null:r.touched)||(null==(r=t.login.get("email"))?null:r.dirty)))),z(1),Q("ngIf",(null==(i=t.login.get("email"))?null:i.invalid)&&((null==(i=t.login.get("email"))?null:i.touched)||(null==(i=t.login.get("email"))?null:i.dirty))),z(3),Q("ngClass",Tr(11,T0,(null==(a=t.login.get("senha"))?null:a.invalid)&&((null==(a=t.login.get("senha"))?null:a.touched)||(null==(a=t.login.get("senha"))?null:a.dirty)))),z(1),Q("ngIf",null==(c=t.login.get("senha"))?null:c.invalid),z(1),Q("ngIf",t.verifyEmail),z(1),Q("ngIf",t.incorrect),z(1),Q("ngIf",t.success),z(1),Q("disabled",t.buttonDisable)}}function _L(e,n){1&e&&(T(0,"div",17),R(1," Insira seu e-mail. "),S())}function AL(e,n){1&e&&(T(0,"div",20),R(1," Se o e-mail constar em nosso banco de dados, voc\xea recebera em breve o novo e-mail de confirma\xe7\xe3o. "),S())}function bL(e,n){if(1&e){const t=Jt();T(0,"div",1)(1,"div",2),Ae(2,"div",3),T(3,"div",4)(4,"div",5)(5,"h5",6),R(6,"Reenviar E-mail de Verifica\xe7\xe3o:"),S(),T(7,"div",7)(8,"form",21)(9,"label",9),R(10,"Digite o e-mail cadastrado:"),S(),Ae(11,"input",22),ye(12,_L,2,0,"div",11),ye(13,AL,2,0,"div",15),T(14,"div",2)(15,"div",23)(16,"button",24),ze("click",function(){return St(t),Tt(He().send())}),R(17," Enviar "),S()(),T(18,"div",23)(19,"button",25),ze("click",function(){return St(t),Tt(He().redirect())}),R(20," Voltar "),S()()()()()()()()()}if(2&e){const t=He();let r,i;z(8),Q("formGroup",t.resend),z(3),Q("ngClass",Tr(6,T0,(null==(r=t.resend.get("email"))?null:r.invalid)&&((null==(r=t.resend.get("email"))?null:r.touched)||(null==(r=t.resend.get("email"))?null:r.dirty)))),z(1),Q("ngIf",(null==(i=t.resend.get("email"))?null:i.invalid)&&((null==(i=t.resend.get("email"))?null:i.touched)||(null==(i=t.resend.get("email"))?null:i.dirty))),z(1),Q("ngIf",t.resendSuccess),z(3),Q("disabled",t.buttonSend),z(3),Q("disabled",t.buttonBack)}}let DL=(()=>{class e{constructor(t,r,i,a){this.formBuilder=t,this.apiLogin=r,this.api=i,this.router=a,this.buttonDisable=!1,this.verifyEmail=!1,this.incorrect=!1,this.success=!1,this.sendEmail=!1,this.resendIncorrect=!1,this.resendSuccess=!1,this.buttonSend=!1,this.buttonBack=!1}ngOnInit(){this.login=this.formBuilder.group({email:["",[mt.required,mt.email]],senha:["",[mt.required]]}),this.resend=this.formBuilder.group({email:["",[mt.required,mt.email]]})}onSubmit(){this.login?.valid?(this.buttonDisable=!0,this.apiLogin.Login(this.login.value).subscribe({next:t=>{this.handleLoginSuccess(t)},error:t=>{this.buttonDisable=!1,console.log(t),this.verifyEmail=!1,this.incorrect=!1,t.error.email&&(this.login.get("email")?.setErrors({incorrect:!0}),console.log(t)),"Unable to log in with provided credentials."==t.error.non_field_errors&&(this.login.get("password")?.setErrors({incorrect:!0}),this.incorrect=!0),"E-mail is not verified."==t.error.non_field_errors&&(this.verifyEmail=!0)},complete:()=>{this.handleLoginComplete()}})):this.login.markAllAsTouched()}handleLoginSuccess(t){localStorage.setItem("token",t.access),localStorage.setItem("refresh",t.refresh),localStorage.setItem("isVerified","true")}handleLoginComplete(){this.login.disable(),this.buttonDisable=!0,this.verifyEmail=!1,this.incorrect=!1,this.success=!0,this.api.currentToken.next(localStorage.getItem("token")),this.api.isAuthenticated.subscribe({next:t=>{t&&setTimeout(()=>{this.router.navigate([""])},2e3)}})}redirect(){this.sendEmail?(this.sendEmail=!1,this.verifyEmail=!1):this.sendEmail=!0}send(){this.resend?.valid?(this.buttonSend=!0,this.buttonBack=!0,this.apiLogin.resendEmail(this.resend.getRawValue()).subscribe({next:()=>{console.log("Email Enviado com sucesso"),this.resendSuccess=!0,this.buttonBack=!1},error:t=>{console.error("Erro -> "+t)}})):this.resend.markAllAsTouched()}}return e.\u0275fac=function(t){return new(t||e)($(S0),$(mL),$(Oa),$(mn))},e.\u0275cmp=j({type:e,selectors:[["app-login"]],decls:2,vars:2,consts:[["class","container p-4",4,"ngIf"],[1,"container","p-4"],[1,"row"],[1,"col-md-4"],[1,"col-md-4","col"],[1,"card"],[1,"card-header"],[1,"card-body"],["action","","action","",1,"",3,"formGroup","ngSubmit"],["for","email",1,"form-label"],["id","email","name","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","senha",1,"form-label"],["id","senha","type","password","formControlName","senha",1,"form-control",3,"ngClass"],["class","alert alert-danger d-flex align-items-center mt-3","role","alert",4,"ngIf"],["class","alert alert-success mt-3 d-flex align-items-center","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-primary","mt-2",3,"disabled"],[1,"invalid-feedback"],["role","alert",1,"alert","alert-danger","d-flex","align-items-center","mt-3"],[1,"text-danger-emphasis",3,"click"],["role","alert",1,"alert","alert-success","mt-3","d-flex","align-items-center"],[1,"",3,"formGroup"],["id","email","name","email","type","email","formControlName","email",1,"form-control","my-2",3,"ngClass"],[1,"col"],["type","submit",1,"btn","btn-success","mt-2",3,"disabled","click"],["type","submit",1,"btn","btn-primary","mt-2",3,"disabled","click"]],template:function(t,r){1&t&&(ye(0,xL,22,13,"div",0),ye(1,bL,21,8,"div",0)),2&t&&(Q("ngIf",!r.sendEmail),z(1),Q("ngIf",r.sendEmail))},dependencies:[Md,Xi,vf,Pa,lf,cf,ka,bc]}),e})(),IL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=j({type:e,selectors:[["app-howtoplay"]],decls:58,vars:0,consts:[[1,"container","p-4"],[1,"mb-4"],[1,"mt-4"],["routerLink",""],["routerLink","/register"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"h1",1),R(2,"Como Jogar o Duck GO! - Guia do Usu\xe1rio"),S(),T(3,"p"),R(4,"Bem-vindo ao emocionante mundo do Duck GO!, o jogo de ca\xe7a aos QR Codes baseado em locais tur\xedsticos da encantadora cidade de Pato Branco! Siga o guia abaixo para aprender como se divertir e ganhar pontos enquanto explora os pontos tur\xedsticos da cidade e desfruta de brindes e descontos exclusivos no com\xe9rcio local."),S(),T(5,"h2",2),R(6,"Passo 1: Cadastro"),S(),T(7,"ol")(8,"li"),R(9,"Acesse o site oficial do "),T(10,"a",3),R(11,"Duck GO!"),S(),R(12," em seu navegador."),S(),T(13,"li"),R(14,"Clique na op\xe7\xe3o "),T(15,"a",4),R(16,"Registrar"),S(),R(17," no topo da p\xe1gina."),S(),T(18,"li"),R(19,"Preencha os campos obrigat\xf3rios com suas informa\xe7\xf5es pessoais, como nome, endere\xe7o de e-mail e senha."),S(),T(20,"li"),R(21,'Ap\xf3s preencher os campos, clique em "Cadastrar" para criar sua conta.'),S()(),T(22,"h2",2),R(23,"Passo 2: Explorando os Locais de Ca\xe7a"),S(),T(24,"ol")(25,"li"),R(26,'Navegue at\xe9 a se\xe7\xe3o "Locais de Ca\xe7a".'),S(),T(27,"li"),R(28,"Explore os diversos pontos tur\xedsticos da bela cidade de Pato Branco listados nessa se\xe7\xe3o. Cada ponto tur\xedstico estar\xe1 acompanhado de uma breve descri\xe7\xe3o."),S(),T(29,"li"),R(30,"Escolha um dos locais para come\xe7ar sua aventura de ca\xe7a aos QR Codes."),S()(),T(31,"h2",2),R(32,"Passo 3: Ca\xe7ando QR Codes e Pontua\xe7\xf5es"),S(),T(33,"ol")(34,"li"),R(35,"Uma vez no local escolhido, mantenha os olhos abertos para localizar os QR Codes escondidos. Eles estar\xe3o estrategicamente colocados ao redor do ponto tur\xedstico."),S(),T(36,"li"),R(37,"Escaneie os QR Codes usando o bot\xe3o de c\xe2mera na p\xe1gina principal do jogo. Clique no bot\xe3o e aponte a c\xe2mera para o c\xf3digo."),S(),T(38,"li"),R(39,"Cada QR Code escondido ter\xe1 uma pontua\xe7\xe3o diferente, dependendo do ponto tur\xedstico onde voc\xea o encontrou. As pontua\xe7\xf5es ser\xe3o automaticamente adicionadas \xe0 sua conta."),S()(),T(40,"h2",2),R(41,"Passo 4: Ganhe e Resgate Pontos"),S(),T(42,"ol")(43,"li"),R(44,"Acompanhe sua pontua\xe7\xe3o total na sua p\xe1gina de perfil."),S(),T(45,"li"),R(46,"Acumule pontos suficientes explorando diferentes locais de ca\xe7a."),S(),T(47,"li"),R(48,"Os pontos conquistados podem ser resgatados por meio de brindes emocionantes e descontos exclusivos no com\xe9rcio local de Pato Branco."),S()(),T(49,"h2",2),R(50,"Restri\xe7\xf5es e Limita\xe7\xf5es"),S(),T(51,"ul")(52,"li"),R(53,"Voc\xea pode escanear um novo QR Code a cada 5 minutos."),S(),T(54,"li"),R(55,"Existe um limite m\xe1ximo de 30 pontos por semana."),S(),T(56,"li"),R(57,"Certifique-se de estar conectado \xe0 sua conta ao escanear os QR Codes para garantir que os pontos sejam creditados corretamente."),S()()())},dependencies:[as]}),e})(),M0=(()=>{class e{constructor(t,r){this.http=t,this.api=r,this.urls=new Ji,this.userDataSubject=new ue(null),this.userData$=this.userDataSubject.asObservable(),this.isLoadingSubject=new ue(!1),this.isLoading$=this.isLoadingSubject.asObservable(),this.user=null,this.isLoading=!1}getUser(){if(this.isLoadingSubject.value)return Rr(()=>console.error("Aquisi\xe7\xe3o de dados do usu\xe1rio em andamento"));const t=localStorage.getItem("token"),r=new En({"Content-Type":"application/json",Authorization:"Bearer "+t});return this.isLoadingSubject.next(!0),this.http.get(this.urls.userUrl,{headers:r}).pipe(Sn(i=>{this.userDataSubject.next(i),this.isLoadingSubject.next(!1),this.user=i}),Or(i=>(this.isLoadingSubject.next(!1),Rr(()=>i))))}destroy(){this.userVerifiedSubscription&&this.userVerifiedSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(te($n),te(c0))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),SL=(()=>{class e{constructor(t,r){this.profileApi=t,this.pointsApi=r}ngOnInit(){this.profileApi.getUser().subscribe({next:t=>{this.user=t},complete:()=>{this.profileApi.userData$.subscribe({next:t=>{t&&(this.user=t)}})}}),this.pointsApi.getUserHistory().subscribe({next:t=>{this.total_points=0===t.length?0:t[t.length-1].total_points},complete:()=>{}})}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)($(M0),$(Ra))},e.\u0275cmp=j({type:e,selectors:[["app-profile"]],decls:31,vars:5,consts:[[1,"container","p-4"],[1,"row","d-flex","justify-content-center"],[1,"col-6","col-md-2"],[1,""],[1,"img-thumbnail","rounded","float-start",3,"src"],[1,"col","col-md-5"],[1,"text-center","fw-bold","fs-5"],[1,"col-md-6"],[1,"border","border-primary","border-2"],[1,"row"],[1,"col"],["routerLink","dados",1,"btn","btn-primary","w-100"],["routerLink","historico",1,"btn","btn-success","w-100"],["routerLink","meus-cupons",1,"btn","btn-danger","w-100"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ae(4,"img",4),S()()(),T(5,"div",1)(6,"div",5)(7,"p",6),R(8),Ip(9,"titlecase"),S(),T(10,"p",6),R(11),S()()(),T(12,"div",1)(13,"div",7),Ae(14,"hr",8),S()(),T(15,"div",1)(16,"div",7)(17,"div",9)(18,"div",10)(19,"a",11),R(20,"Dados"),S()(),T(21,"div",10)(22,"a",12),R(23,"Hist\xf3rico"),S()(),T(24,"div",10)(25,"a",13),R(26,"Meus Cupons"),S()()()()(),T(27,"div",1)(28,"div",7),Ae(29,"hr",8),S()(),Ae(30,"router-outlet"),S()),2&t&&(z(4),vr("src",null==r.user?null:r.user.profile_photo,mr),z(4),wr(function L2(e,n,t){const r=e+Ye,i=Y(),a=Os(i,r);return Yl(i,r)?M2(i,Hn(),n,a.transform,t,a):a.transform(t)}(9,3,null==r.user?null:r.user.username)),z(3),rr("Pontua\xe7\xe3o Atual: ",r.total_points," Pontos"))},dependencies:[Gd,as,yw]}),e})(),TL=(()=>{class e{constructor(t,r,i){this.http=t,this.api=r,this.profileApi=i,this.urls=new Ji,this.verified=!1,this.isLoading=!1,this.postRequest=!1}updateUserData(t,r){if(this.isLoading)return;this.postRequest=!0,this.isLoading=!0;const i=localStorage.getItem("token"),a=new En({Authorization:"Bearer "+i}),c=new FormData;c.append("first_name",t.nome),c.append("last_name",t.sobrenome),c.append("email",t.email),c.append("username",this.profileApi.user.username),c.append("cep",t.cep),c.append("cpf",t.cpf),c.append("addres_rua",t.rua),c.append("address_UF",t.uf),c.append("address_cidade",t.cidade),c.append("data_nascimento",this.profileApi.user.data_nascimento),t.foto&&c.append("profile_photo",r,r.name),this.http.put(this.urls.postUrl,c,{headers:a}).subscribe({next:h=>{console.info("Dados do usu\xe1rio atualizados, chamando fun\xe7\xe3o para pegar os dados do servidor"),this.postRequest=!1,this.isLoading=!1,this.profileApi.userDataSubject.next(h)},error:h=>{this.isLoading=!1,400===h.status&&console.error("Dados enviados incorretos "),401===h.status||console.error("Token inv\xe1lido e Refresh Token inv\xe1lidos")},complete:()=>{}})}}return e.\u0275fac=function(t){return new(t||e)(te($n),te(c0),te(M0))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ML(e,n){1&e&&(T(0,"div",30),R(1," O campo n\xe3o pode estar vazio. "),S())}function NL(e,n){if(1&e){const t=Jt();T(0,"button",31),ze("click",function(){return St(t),Tt(He().edit())}),R(1," Editar "),S()}}function RL(e,n){if(1&e){const t=Jt();T(0,"button",32),ze("click",function(){return St(t),Tt(He().save())}),R(1," Salvar "),S()}}function OL(e,n){1&e&&(T(0,"button",33),R(1," Trocar Senha "),S())}function PL(e,n){if(1&e){const t=Jt();T(0,"button",34),ze("click",function(){return St(t),Tt(He().cancel())}),R(1," Cancelar "),S()}}const To=function(e){return{"is-invalid":e}};let LL=(()=>{class e{constructor(t,r,i,a){this.formBuilder=t,this.profileApi=r,this.http=i,this.apiPatchUser=a,this.userGet=!1,this.userEditing=!1,this.selectedFile=null,this.estados=[{sigla:"",nome:""},{sigla:"AC",nome:"Acre"},{sigla:"AL",nome:"Alagoas"},{sigla:"AM",nome:"Amazonas"},{sigla:"AP",nome:"Amap\xe1"},{sigla:"BA",nome:"Bahia"},{sigla:"CE",nome:"Cear\xe1"},{sigla:"DF",nome:"Distrito Federal"},{sigla:"ES",nome:"Esp\xedrito Santo"},{sigla:"GO",nome:"Goi\xe1s"},{sigla:"MA",nome:"Maranh\xe3o"},{sigla:"MG",nome:"Minas Gerais"},{sigla:"MS",nome:"Mato Grosso do Sul"},{sigla:"MT",nome:"Mato Grosso"},{sigla:"PA",nome:"Par\xe1"},{sigla:"PB",nome:"Para\xedba"},{sigla:"PE",nome:"Pernambuco"},{sigla:"PI",nome:"Piau\xed"},{sigla:"PR",nome:"Paran\xe1"},{sigla:"RJ",nome:"Rio de Janeiro"},{sigla:"RN",nome:"Rio Grande do Norte"},{sigla:"RO",nome:"Rond\xf4nia"},{sigla:"RR",nome:"Roraima"},{sigla:"RS",nome:"Rio Grande do Sul"},{sigla:"SC",nome:"Santa Catarina"},{sigla:"SE",nome:"Sergipe"},{sigla:"SP",nome:"S\xe3o Paulo"},{sigla:"TO",nome:"Tocantins"}],this.profile=this.formBuilder.group({email:["",[mt.required,mt.email]],nome:["",[mt.required]],sobrenome:["",[mt.required]],cpf:["",[mt.required,z_.cpf]],cep:["",[mt.required,G_.cep]],rua:["",mt.required],cidade:["",mt.required],uf:["",mt.required],foto:[""]}),this.profile.disable()}ngOnInit(){this.profileApi.userData$.subscribe({next:t=>{t&&this.patchForm(t)}})}subscribeForms(){this.cepSubscription=this.profile.get("cep")?.valueChanges.pipe(Ai(()=>this.profile.get("cep")?.valid),ke(t=>this.http.get(`https://viacep.com.br/ws/${t}/json/`))).subscribe(t=>{t.erro?this.handleCepError():this.updateProfileWithCepData(t)})}handleCepError(){this.profile.get("cep")?.setErrors({incorrect:!0}),this.setValueAndDisable("rua",""),this.setValueAndDisable("cidade",""),this.setValueAndDisable("uf","")}updateProfileWithCepData(t){t?.localidade?this.setValueAndDisable("cidade",t?.localidade):this.profile.get("cidade").enable(),t?.logradouro?this.setValueAndDisable("rua",t?.logradouro):this.profile.get("rua").enable(),t?.uf?this.setValueAndDisable("uf",t?.uf):this.profile.get("uf").enable()}setValueAndDisable(t,r){const i=this.profile.get(t);i?.setValue(r,{emitEvent:!1}),i?.disable(),i?.updateValueAndValidity({emitEvent:!1})}patchForm(t){this.profile.patchValue({email:t.email,nome:t.first_name,sobrenome:t.last_name,cpf:t.cpf,cep:t.cep,cidade:t.address_cidade,uf:t.address_UF,rua:t.addres_rua})}onFileChange(t){t.target.files.length>0&&(this.selectedFile=t.target.files[0])}edit(){this.userEditing=!0,this.profile.enable(),this.profile.get(["email"]).disable(),this.subscribeForms()}save(){this.profile.valid&&(this.apiPatchUser.updateUserData(this.profile.getRawValue(),this.selectedFile),this.userEditing=!1,this.profile.disable(),this.cepSubscription&&this.cepSubscription.unsubscribe())}cancel(){this.userEditing=!1,this.cepSubscription&&this.cepSubscription.unsubscribe(),this.profile.disable()}}return e.\u0275fac=function(t){return new(t||e)($(S0),$(M0),$($n),$(TL))},e.\u0275cmp=j({type:e,selectors:[["app-data"]],decls:61,vars:30,consts:[[1,"row","d-flex","justify-content-center"],["action","",3,"formGroup"],[1,"row","d-flex","justify-content-center","pt-1","pb-3"],[1,"col-md-6"],["for","rua",1,"form-label"],[1,"row"],["type","file","formControlName","foto",1,"form-control",3,"change"],[1,"col-md-6","fs-2","fw-bold","py-2"],["for","nome",1,"form-label"],["id","nome","name","nome","type","text","formControlName","nome",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","sobrenome",1,"form-label"],["id","sobrenome","name","sobrenome","type","text","formControlName","sobrenome",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["id","email","name","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","cpf",1,"form-label"],["id","cpf","name","cpf","type","cpf","formControlName","cpf",1,"form-control",3,"ngClass"],["for","cep",1,"form-label"],["type","text","name","cep","id","cep","formControlName","cep",1,"form-control",3,"ngClass"],["for","cidade",1,"form-label"],["type","text","name","cidade","id","cidade","formControlName","cidade",1,"form-control",3,"ngClass"],["for","uf",1,"form-label"],["type","text","name","uf","id","uf","formControlName","uf",1,"form-control",3,"ngClass"],["type","text","name","rua","id","rua","formControlName","rua",1,"form-control",3,"ngClass"],[1,"row","d-flex","justify-content-center","mt-2"],[1,"col-6","d-flex","justify-content-center"],["class","btn btn-info",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-primary",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"invalid-feedback"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){if(1&t&&(T(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),R(5,"Foto de Perfil"),S(),T(6,"div",5)(7,"input",6),ze("change",function(a){return r.onFileChange(a)}),S()()()(),T(8,"div",0)(9,"div",7),R(10,"Dados do Usu\xe1rio:"),S()(),T(11,"div",0)(12,"div",3)(13,"label",8),R(14,"Nome"),S(),Ae(15,"input",9),ye(16,ML,2,0,"div",10),S()(),T(17,"div",0)(18,"div",3)(19,"label",11),R(20,"Sobrenome"),S(),Ae(21,"input",12),S()(),T(22,"div",0)(23,"div",3)(24,"label",13),R(25,"E-mail"),S(),Ae(26,"input",14),S()(),T(27,"div",0)(28,"div",3)(29,"label",15),R(30,"CPF"),S(),Ae(31,"input",16),S()(),T(32,"div",0)(33,"div",3)(34,"label",17),R(35,"CEP"),S(),Ae(36,"input",18),S()(),T(37,"div",0)(38,"div",3)(39,"label",19),R(40,"Cidade"),S(),Ae(41,"input",20),S()(),T(42,"div",0)(43,"div",3)(44,"label",21),R(45,"Estado"),S(),Ae(46,"input",22),S()(),T(47,"div",0)(48,"div",3)(49,"label",4),R(50,"Rua"),S(),Ae(51,"input",23),S()(),T(52,"div",24)(53,"div",3)(54,"div",5)(55,"div",25),ye(56,NL,2,0,"button",26),ye(57,RL,2,0,"button",27),S(),T(58,"div",25),ye(59,OL,2,0,"button",28),ye(60,PL,2,0,"button",29),S()()()()()()),2&t){let i,a,c,h,g,m,w,x,b;z(1),Q("formGroup",r.profile),z(14),Q("ngClass",Tr(14,To,(null==(i=r.profile.get("nome"))?null:i.invalid)&&((null==(i=r.profile.get("nome"))?null:i.touched)||(null==(i=r.profile.get("nome"))?null:i.dirty)))),z(1),Q("ngIf",(null==(a=r.profile.get("nome"))?null:a.invalid)&&((null==(a=r.profile.get("nome"))?null:a.touched)||(null==(a=r.profile.get("nome"))?null:a.dirty))),z(5),Q("ngClass",Tr(16,To,(null==(c=r.profile.get("sobrenome"))?null:c.invalid)&&((null==(c=r.profile.get("sobrenome"))?null:c.touched)||(null==(c=r.profile.get("sobrenome"))?null:c.dirty)))),z(5),Q("ngClass",Tr(18,To,(null==(h=r.profile.get("email"))?null:h.invalid)&&((null==(h=r.profile.get("email"))?null:h.touched)||(null==(h=r.profile.get("email"))?null:h.dirty)))),z(5),Q("ngClass",Tr(20,To,(null==(g=r.profile.get("cpf"))?null:g.invalid)&&((null==(g=r.profile.get("cpf"))?null:g.touched)||(null==(g=r.profile.get("cpf"))?null:g.dirty)))),z(5),Q("ngClass",Tr(22,To,(null==(m=r.profile.get("cep"))?null:m.invalid)&&((null==(m=r.profile.get("cep"))?null:m.touched)||(null==(m=r.profile.get("cep"))?null:m.dirty)))),z(5),Q("ngClass",Tr(24,To,(null==(w=r.profile.get("cidade"))?null:w.invalid)&&((null==(w=r.profile.get("cidade"))?null:w.touched)||(null==(w=r.profile.get("cidade"))?null:w.dirty)))),z(5),Q("ngClass",Tr(26,To,(null==(x=r.profile.get("uf"))?null:x.invalid)&&((null==(x=r.profile.get("uf"))?null:x.touched)||(null==(x=r.profile.get("uf"))?null:x.dirty)))),z(5),Q("ngClass",Tr(28,To,(null==(b=r.profile.get("rua"))?null:b.invalid)&&((null==(b=r.profile.get("rua"))?null:b.touched)||(null==(b=r.profile.get("rua"))?null:b.dirty)))),z(5),Q("ngIf",!r.userEditing),z(1),Q("ngIf",r.userEditing),z(2),Q("ngIf",!r.userEditing),z(1),Q("ngIf",r.userEditing)}},dependencies:[Md,Xi,vf,Pa,lf,cf,ka,bc]}),e})(),FL=(()=>{class e{constructor(t){this.http=t,this.historyUrl="http://127.0.0.1:8000/history/"}getUserHistory(){const t=this.generateHeaders();return this.http.get(this.historyUrl,{headers:t})}generateHeaders(){const t=localStorage.getItem("token");return new En({Authorization:"Bearer "+t})}}return e.\u0275fac=function(t){return new(t||e)(te($n))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function kL(e,n){if(1&e&&(T(0,"div",3)(1,"div",4),R(2),Ip(3,"date"),S(),T(4,"div",5),R(5),S(),T(6,"div",6),R(7),S(),T(8,"div",6),R(9),S()()),2&e){const t=n.$implicit;z(2),wr(function F2(e,n,t,r){const i=e+Ye,a=Y(),c=Os(a,i);return Yl(a,i)?N2(a,Hn(),n,c.transform,t,r,c):c.transform(t,r)}(3,4,t.date,"short")),z(3),wr(t.description),z(2),wr(t.points),z(2),wr(t.total_points)}}let BL=(()=>{class e{constructor(t){this.apiHistory=t}ngOnInit(){this.apiHistory.getUserHistory().subscribe({next:t=>{this.history=t.slice(0).reverse()}})}}return e.\u0275fac=function(t){return new(t||e)($(FL))},e.\u0275cmp=j({type:e,selectors:[["app-history"]],decls:15,vars:1,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-6","fs-2","fw-bold","py-2"],[1,"col-md-6"],[1,"row","text-center","fw-bold"],[1,"border","border-1","border-dark","col-3"],[1,"border","border-1","border-dark","col-5"],[1,"border","border-1","border-dark","col-2"],["class","row text-center fw-bold",4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1),R(2,"Hist\xf3rico do Usu\xe1rio:"),S()(),T(3,"div",0)(4,"div",2)(5,"div",3)(6,"div",4),R(7,"Data"),S(),T(8,"div",5),R(9,"Descri\xe7\xe3o"),S(),T(10,"div",6),R(11,"Pontos"),S(),T(12,"div",6),R(13,"Saldo"),S()(),ye(14,kL,10,7,"div",7),S()()),2&t&&(z(14),Q("ngForOf",r.history))},dependencies:[Ca,Cw]}),e})(),VL=(()=>{class e{constructor(t){this.http=t,this.urls=new Ji,this.httpHeaders=new En({"Content-Type":"application/json"})}getAllLocations(){return this.http.get(this.urls.locationUrl,{headers:this.httpHeaders})}getLocation(t){return this.http.get(this.urls.locationUrl+t,{headers:this.httpHeaders})}}return e.\u0275fac=function(t){return new(t||e)(te($n))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function UL(e,n){if(1&e){const t=Jt();T(0,"button",4),ze("click",function(){return St(t),Tt(He().goBack())}),R(1," Voltar\n"),S()}}function HL(e,n){if(1&e){const t=Jt();T(0,"div",7)(1,"div",8),ze("click",function(){const a=St(t).$implicit;return Tt(He(2).redirect(a.id))}),T(2,"div",9),Ae(3,"img",10),S(),T(4,"div",11)(5,"a",12),R(6),S(),T(7,"p"),R(8),S()()()()}if(2&e){const t=n.$implicit;z(3),vr("src",t.locations_photo,mr),z(3),wr(t.name),z(2),wr(t.resume)}}function jL(e,n){if(1&e&&(T(0,"div",5),ye(1,HL,9,3,"div",6),S()),2&e){const t=He();z(1),Q("ngForOf",t.locations)}}function zL(e,n){if(1&e&&(T(0,"div",13)(1,"div",14),R(2),S(),T(3,"div",15),R(4),S(),T(5,"div",16)(6,"a",17),R(7," Leve-me at\xe9 l\xe1 "),gi(),T(8,"svg",18),Ae(9,"path",19),S()()(),Wo(),T(10,"div",20)(11,"a",21),R(12," Mais informa\xe7\xf5es do local com o TripAdvisor "),gi(),T(13,"svg",22),Ae(14,"path",23)(15,"path",24),S()()(),Wo(),T(16,"div",25),Ae(17,"img",26)(18,"img",27)(19,"img",28),S()()),2&e){const t=He();z(2),rr(" ",t.location.name," "),z(2),wr(t.location.description),z(2),vr("href",t.location.map_link,mr),z(5),vr("href",t.location.location_link,mr),z(6),vr("src",t.location.photo_1,mr),z(1),vr("src",t.location.photo_2,mr),z(1),vr("src",t.location.photo_3,mr)}}let GL=(()=>{class e{constructor(t){this.api=t,this.showAll=!0,this.getLocations=()=>{this.api.getAllLocations().subscribe({next:r=>this.locations=r,error:r=>console.log(r.message),complete:()=>{}})},this.getLocations()}redirect(t){this.showAll=!1,this.location=this.locations[t-1]}goBack(){this.showAll=!0,this.location=null}}return e.\u0275fac=function(t){return new(t||e)($(VL))},e.\u0275cmp=j({type:e,selectors:[["app-locations"]],decls:4,vars:3,consts:[["class","btn btn-primary mt-3 mx-3",3,"click",4,"ngIf"],["class","px-3",4,"ngIf"],[1,"container"],["class","p-3 container border border-3 border-primary rounded my-5",4,"ngIf"],[1,"btn","btn-primary","mt-3","mx-3",3,"click"],[1,"px-3"],["class","container border border-3 border-primary rounded my-5",4,"ngFor","ngForOf"],[1,"container","border","border-3","border-primary","rounded","my-5"],[1,"row","p-3",3,"click"],[1,"col-5","col-md-2","border","border-2","border-warning","rounded","object-fit-contain","p-0","overflow-hidden"],["alt","","width","500px","height","250px",1,"overflow-hidden","position-relative","top-50","start-50","translate-middle",3,"src"],[1,"col-7","col-md-10"],[1,"text-decoration-none","d-flex","justify-content-center","pb-2","text-primary"],[1,"p-3","container","border","border-3","border-primary","rounded","my-5"],[1,"container","fw-bold","fs-5","text-center","pb-5"],[1,"container","lh-lg"],[1,"container","py-3"],[1,"icon-link","icon-link-hover",2,"--bs-link-hover-color-rgb","25, 135, 84",3,"href"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-geo-alt-fill"],["d","M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"],[1,"container","pb-5"],["target","_blank",1,"icon-link","icon-link-hover",2,"--bs-link-hover-color-rgb","25, 135, 84",3,"href"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-info-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],[1,"container","d-flex","flex-column"],["alt","",1,"h-25","img-fluid","border","rounded","py-3",3,"src"],["alt","",1,"h-25","img-fluid","border","rounded","pb-3",3,"src"],["alt","",1,"h-25","img-fluid","border","rounded",3,"src"]],template:function(t,r){1&t&&(ye(0,UL,2,0,"button",0),ye(1,jL,2,1,"div",1),T(2,"div",2),ye(3,zL,20,7,"div",3),S()),2&t&&(Q("ngIf",!r.showAll),z(1),Q("ngIf",r.showAll),z(2),Q("ngIf",!r.showAll))},dependencies:[Ca,Xi]}),e})(),WL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=j({type:e,selectors:[["app-resend-email"]],decls:2,vars:0,template:function(t,r){1&t&&(T(0,"p"),R(1,"resend-email works!"),S())}}),e})(),Dc=(()=>{class e{constructor(t,r){this.api=t,this.router=r}canActivate(t,r){return localStorage.getItem("isVerified")&&JSON.parse(localStorage.getItem("isVerified")),this.api.isAuthenticated.pipe(Ie(a=>!!a||(this.router.navigate([""]),!1)))}}return e.\u0275fac=function(t){return new(t||e)(te(Oa),te(mn))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ef=(()=>{class e{constructor(t,r){this.api=t,this.router=r}canActivate(t,r){return localStorage.getItem("isVerified")&&JSON.parse(localStorage.getItem("isVerified")),this.api.isAuthenticated.pipe(Ie(a=>!a||(this.router.navigate([""]),!1)))}}return e.\u0275fac=function(t){return new(t||e)(te(Oa),te(mn))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),$L=(()=>{class e{constructor(t){this.http=t,this.urls=new Ji}verify(t){return this.http.post(this.urls.verifyEmailUrl,{key:t})}}return e.\u0275fac=function(t){return new(t||e)(te($n))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function qL(e,n){1&e&&(T(0,"div",2)(1,"div",3),Ae(2,"span",4),S()())}function YL(e,n){1&e&&(T(0,"div",8)(1,"div",9),R(2,"Verifica\xe7\xe3o de E-mail"),S(),T(3,"div",10)(4,"h4",11),R(5,"Sucesso!"),S(),T(6,"p",12),R(7," Seu e-mail foi verificado com sucesso. Obrigado por confirmar! "),S()(),T(8,"div",13)(9,"a",14),R(10,"Continuar para o Login"),S()()())}function XL(e,n){1&e&&(T(0,"div",15)(1,"div",16),R(2,"Verifica\xe7\xe3o de E-mail"),S(),T(3,"div",10)(4,"h4",11),R(5,"Erro"),S(),T(6,"p",12),R(7," Ocorreu um erro ao verificar seu e-mail. Por favor, tente novamente ou entre em contato com o suporte. "),S()(),T(8,"div",13)(9,"a",17),R(10,"P\xe1gina Inicial"),S()()())}function ZL(e,n){if(1&e&&(T(0,"div",5),ye(1,YL,11,0,"div",6),ye(2,XL,11,0,"div",7),S()),2&e){const t=He();z(1),Q("ngIf",!t.hasError),z(1),Q("ngIf",t.hasError)}}let QL=(()=>{class e{constructor(t,r,i){this.http=t,this.activeRout=r,this.verifyApi=i,this.isLoading=!0,this.hasError=!1}ngOnInit(){const t=this.activeRout.snapshot.params.key;console.log(t),this.verifyApi.verify(t).subscribe({next:r=>{this.isLoading=!1,console.log(r)},error:r=>{this.isLoading=!1,this.hasError=!0,console.log(r)}})}}return e.\u0275fac=function(t){return new(t||e)($($n),$(ss),$($L))},e.\u0275cmp=j({type:e,selectors:[["app-verify-email"]],decls:2,vars:2,consts:[["class","d-flex justify-content-center",4,"ngIf"],["class","container d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"container","d-flex","justify-content-center"],["class","card text-center border-success mb-3","style","max-width: 20rem",4,"ngIf"],["class","card text-center border-danger mb-3","style","max-width: 20rem",4,"ngIf"],[1,"card","text-center","border-success","mb-3",2,"max-width","20rem"],[1,"card-header","bg-success","text-white"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer"],["routerLink","/login",1,"btn","btn-success"],[1,"card","text-center","border-danger","mb-3",2,"max-width","20rem"],[1,"card-header","bg-danger","text-white"],["routerLink","",1,"btn","btn-danger"]],template:function(t,r){1&t&&(ye(0,qL,3,0,"div",0),ye(1,ZL,3,2,"div",1)),2&t&&(Q("ngIf",r.isLoading),z(1),Q("ngIf",!r.isLoading))},dependencies:[Xi,as]}),e})(),KL=(()=>{class e{constructor(t,r){this.http=t,this.apiPoints=r,this.urls=new Ji,this.isGetting=!1,this.isPosting=!1}getPrizes(){if(this.isGetting)return Ee([]);this.isGetting=!0;const t=this.apiPoints.generateHeaders();return this.http.get(this.urls.prizeUrl,{headers:t})}redeemPrize(t){if(this.isPosting)return;this.isPosting=!0;const r=this.apiPoints.generateHeaders();this.http.post(this.urls.redeemUrl,{prize:t},{headers:r}).subscribe({next:a=>{this.isPosting=!1},error:a=>{this.isPosting=!1,a instanceof Na&&400===a.status&&console.log("Cupom j\xe1 cadastrado"),a instanceof Na&&402===a.status&&console.log("Usu\xe1rio n\xe3o possui pontos suficientes")}})}}return e.\u0275fac=function(t){return new(t||e)(te($n),te(Ra))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function JL(e,n){if(1&e){const t=Jt();T(0,"div",3),Ae(1,"img",4),T(2,"div",5)(3,"h5",6),R(4),S(),T(5,"p",7),R(6),S()(),T(7,"ul",8)(8,"li",9),R(9),S(),T(10,"li",9),R(11),S(),T(12,"li",9),R(13),S(),T(14,"li",10),R(15),S()(),T(16,"div",11)(17,"a",12),ze("click",function(){const a=St(t).$implicit;return Tt(He().redeem(a.id))}),R(18,"Resgatar"),S()()()}if(2&e){const t=n.$implicit;z(1),vr("src",t.logo,mr),z(3),wr(t.name),z(2),rr(" ",t.description," "),z(3),rr(" Desconto de: ",t.discount_value,"% "),z(2),rr(" Cupom gerado por: ",t.generated_by," "),z(2),rr("Categoria: ",t.category,""),z(2),rr(" Custo: ",t.cost_in_points," pontos ")}}let eF=(()=>{class e{constructor(t){this.apiPrizes=t}ngOnInit(){this.apiPrizes.getPrizes().subscribe({next:t=>{t&&(this.prizes=t,this.apiPrizes.isGetting=!1)},error:()=>{this.apiPrizes.isGetting=!1}})}redeem(t){this.apiPrizes.redeemPrize(t)}}return e.\u0275fac=function(t){return new(t||e)($(KL))},e.\u0275cmp=j({type:e,selectors:[["app-prizes"]],decls:3,vars:1,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-6","row"],["class","card col-md-4","style","width: 13rem",4,"ngFor","ngForOf"],[1,"card","col-md-4",2,"width","13rem"],["alt","...",1,"card-img-top",2,"height","6rem",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"list-group-item","fw-bold"],[1,"card-body","d-flex","justify-content-center"],[1,"btn","btn-success","card-link",3,"click"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1),ye(2,JL,19,7,"div",2),S()()),2&t&&(z(2),Q("ngForOf",r.prizes))},dependencies:[Ca]}),e})(),tF=(()=>{class e{constructor(t,r){this.http=t,this.apiPoints=r,this.isGetting=!1,this.redeemedUrl="http://127.0.0.1:8000/resgatar/",this.qrCodeUrl="http://127.0.0.1:8000/qr-code/?prize="}getRedeemedPrizes(){const t=this.apiPoints.generateHeaders();return this.http.get(this.redeemedUrl,{headers:t})}getQrCode(t){const r=this.apiPoints.generateHeaders();return this.http.get(this.qrCodeUrl+t,{headers:r})}}return e.\u0275fac=function(t){return new(t||e)(te($n),te(Ra))},e.\u0275prov=se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function nF(e,n){if(1&e){const t=Jt();T(0,"div",16)(1,"div",17),Ae(2,"img",18),S(),T(3,"div",19)(4,"div",20),R(5),S(),T(6,"div",21),R(7),S()(),T(8,"div",22)(9,"button",23),ze("click",function(){const a=St(t).$implicit;return Tt(He().getQrCode(a.prize.id))}),R(10," Gerar Qr Code "),S()()()}if(2&e){const t=n.$implicit;z(2),nd("src","http://127.0.0.1:8000/",t.prize.logo,"",mr),z(3),rr(" ",t.prize.name," "),z(2),rr(" ",t.prize.description," ")}}function rF(e,n){1&e&&(T(0,"div",24),Ae(1,"span",25),S())}const iF=[{path:"",component:e5},{path:"register",component:gL,canActivate:[Ef]},{path:"login",component:DL,canActivate:[Ef]},{path:"como-jogar",component:IL},{path:"perfil",component:SL,children:[{path:"dados",component:LL,canActivate:[Dc]},{path:"historico",component:BL,canActivate:[Dc]},{path:"meus-cupons",component:(()=>{class e{constructor(t){this.apiRedeemedPrizes=t,this.dataGet=!1,this.loader=!1}ngOnInit(){this.apiRedeemedPrizes.getRedeemedPrizes().subscribe({next:t=>{this.redeemedPrizes=t,console.log(this.redeemedPrizes)},error:t=>{}})}getQrCode(t){this.loader=!0,this.apiRedeemedPrizes.getQrCode(t).subscribe({next:r=>{this.qrCode=r[0].qr_code,this.loader=!1},error:r=>{console.log(r),this.loader=!1}})}cleanData(){this.qrCode="",this.loader=!1}}return e.\u0275fac=function(t){return new(t||e)($(tF))},e.\u0275cmp=j({type:e,selectors:[["app-cupouns"]],decls:20,vars:3,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-6","fs-2","fw-bold","py-2"],[1,"col-md-6"],["style","height: 8rem","class","row border border-2 rounded p-2 mb-3",4,"ngFor","ngForOf"],["id","confirmationModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Fechar",1,"btn-close"],[1,"modal-body","d-flex","justify-content-center"],["alt","","srcset","",3,"src"],[1,"d-flex","justify-content-center"],["class","spinner-border text-primary","role","status",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"row","border","border-2","rounded","p-2","mb-3",2,"height","8rem"],[1,"col-3","d-flex","justify-content-center","align-items-center"],["alt","","srcset","",1,"img-thumbnail",3,"src"],[1,"col-5"],[1,"fw-bold","fs-5"],[1,"overflow-auto",2,"overflow-wrap","break-word"],[1,"col-4","d-flex","justify-content-center","align-items-center"],["type","button","data-bs-toggle","modal","data-bs-target","#confirmationModal",1,"btn","btn-danger",3,"click"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(t,r){1&t&&(T(0,"div",0)(1,"div",1),R(2,"Meus Cupons:"),S()(),T(3,"div",0)(4,"div",2),ye(5,nF,11,3,"div",3),S()(),T(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"h1",8),R(11,"QRCode"),S(),Ae(12,"button",9),S(),T(13,"div",10),Ae(14,"img",11),T(15,"div",12),ye(16,rF,2,0,"div",13),S()(),T(17,"div",14)(18,"button",15),ze("click",function(){return r.cleanData()}),R(19," Cancelar "),S()()()()()),2&t&&(z(5),Q("ngForOf",r.redeemedPrizes),z(9),vr("src",r.qrCode,mr),z(2),Q("ngIf",r.loader))},dependencies:[Ca,Xi]}),e})(),canActivate:[Dc]}],canActivate:[Dc]},{path:"locais",component:GL},{path:"reenviar-email-verificacao",component:WL,canActivate:[Ef]},{path:"verificacao-email/:key",component:QL,canActivate:[Ef]},{path:"premios",component:eF,canActivate:[Dc]}];let oF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=Qn({imports:[QE.forRoot(iF),QE]}),e})();function sF(e,n){1&e&&(T(0,"a",27),R(1,"Perfil do Usu\xe1rio"),S())}function aF(e,n){1&e&&(T(0,"a",28),R(1,"Lista de Pr\xeamios"),S())}function lF(e,n){1&e&&(T(0,"a",29),R(1,"Registrar"),S())}function cF(e,n){1&e&&(T(0,"a",30),R(1,"Entrar"),S())}function uF(e,n){if(1&e){const t=Jt();T(0,"button",31),ze("click",function(){return St(t),Tt(He().logout())}),R(1,"Logout"),S()}}let dF=(()=>{class e{constructor(t,r,i){this.api=t,this.router=r,this.apiPoints=i,this.title="duck-go",this.userVerified=!1}ngOnInit(){this.api.isAuthenticated.subscribe({next:t=>{this.userVerified=!!t}}),this.subscription=this.router.events.subscribe(t=>{t instanceof xo&&(this.apiPoints.manyGetPoints=!1,this.apiPoints.getPointSuccess=!1,this.verification=this.api.userAuthenticated.subscribe({next:r=>{this.userVerified=!!r},complete:()=>{this.verification.unsubscribe()}}))})}logout(){this.api.logout()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)($(Oa),$(mn),$(Ra))},e.\u0275cmp=j({type:e,selectors:[["app-root"]],decls:42,vars:5,consts:[[1,"navbar","navbar-expand-lg","bg-primary-subtle"],[1,"container-fluid"],["routerLink","",1,"navbar-brand","text-primary","d-flex","justify-content-between","align-items-center"],["id","Logo","fill","currentColor","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","25px","height","25px","viewBox","0 0 209.322 209.322",0,"xml","space","preserve",1,"m-2"],["d","M105.572,101.811c9.889-6.368,27.417-16.464,28.106-42.166c0.536-20.278-9.971-49.506-49.155-50.878\n                            C53.041,7.659,39.9,28.251,36.071,46.739l-0.928-0.126c-1.932,0-3.438,1.28-5.34,2.889c-2.084,1.784-4.683,3.979-7.792,4.308\n                            c-3.573,0.361-8.111-1.206-11.698-2.449c-4.193-1.431-6.624-2.047-8.265-0.759c-1.503,1.163-2.178,3.262-2.028,6.226\n                            c0.331,6.326,4.971,18.917,16.016,25.778c7.67,4.765,16.248,5.482,20.681,5.482c0.006,0,0.006,0,0.006,0\n                            c2.37,0,4.945-0.239,7.388-0.726c2.741,4.218,5.228,7.476,6.037,9.752c2.054,5.851-27.848,25.087-27.848,55.01\n                            c0,29.916,22.013,48.475,56.727,48.475h55.004c30.593,0,70.814-29.908,75.291-92.48C180.781,132.191,167.028,98.15,105.572,101.811\n                            z M18.941,77.945C8.775,71.617,4.992,58.922,5.294,55.525c0.897,0.24,2.194,0.689,3.228,1.042\n                            c4.105,1.415,9.416,3.228,14.068,2.707c4.799-0.499,8.253-3.437,10.778-5.574c0.607-0.509,1.393-1.176,1.872-1.491\n                            c0.87,0.315,0.962,0.693,1.176,3.14c0.196,2.26,0.473,5.37,2.362,9.006c1.437,2.761,3.581,5.705,5.646,8.542\n                            c1.701,2.336,4.278,5.871,4.535,6.404c-0.445,1.184-4.907,3.282-12.229,3.282C30.177,82.591,23.69,80.904,18.941,77.945z\n                            M56.86,49.368c0-4.938,4.001-8.943,8.931-8.943c4.941,0,8.942,4.005,8.942,8.943c0,4.931-4.001,8.942-8.942,8.942\n                            C60.854,58.311,56.86,54.299,56.86,49.368z M149.159,155.398l-20.63,11.169l13.408,9.293c0,0-49.854,15.813-72.198-6.885\n                            c-11.006-11.16-13.06-28.533,4.124-38.84c17.184-10.312,84.609,3.943,84.609,3.943L134.295,147.8L149.159,155.398z"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end","bg-primary-subtle"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title","text-primary"],["d","M105.572,101.811c9.889-6.368,27.417-16.464,28.106-42.166c0.536-20.278-9.971-49.506-49.155-50.878\n                                    C53.041,7.659,39.9,28.251,36.071,46.739l-0.928-0.126c-1.932,0-3.438,1.28-5.34,2.889c-2.084,1.784-4.683,3.979-7.792,4.308\n                                    c-3.573,0.361-8.111-1.206-11.698-2.449c-4.193-1.431-6.624-2.047-8.265-0.759c-1.503,1.163-2.178,3.262-2.028,6.226\n                                    c0.331,6.326,4.971,18.917,16.016,25.778c7.67,4.765,16.248,5.482,20.681,5.482c0.006,0,0.006,0,0.006,0\n                                    c2.37,0,4.945-0.239,7.388-0.726c2.741,4.218,5.228,7.476,6.037,9.752c2.054,5.851-27.848,25.087-27.848,55.01\n                                    c0,29.916,22.013,48.475,56.727,48.475h55.004c30.593,0,70.814-29.908,75.291-92.48C180.781,132.191,167.028,98.15,105.572,101.811\n                                    z M18.941,77.945C8.775,71.617,4.992,58.922,5.294,55.525c0.897,0.24,2.194,0.689,3.228,1.042\n                                    c4.105,1.415,9.416,3.228,14.068,2.707c4.799-0.499,8.253-3.437,10.778-5.574c0.607-0.509,1.393-1.176,1.872-1.491\n                                    c0.87,0.315,0.962,0.693,1.176,3.14c0.196,2.26,0.473,5.37,2.362,9.006c1.437,2.761,3.581,5.705,5.646,8.542\n                                    c1.701,2.336,4.278,5.871,4.535,6.404c-0.445,1.184-4.907,3.282-12.229,3.282C30.177,82.591,23.69,80.904,18.941,77.945z\n                                    M56.86,49.368c0-4.938,4.001-8.943,8.931-8.943c4.941,0,8.942,4.005,8.942,8.943c0,4.931-4.001,8.942-8.942,8.942\n                                    C60.854,58.311,56.86,54.299,56.86,49.368z M149.159,155.398l-20.63,11.169l13.408,9.293c0,0-49.854,15.813-72.198-6.885\n                                    c-11.006-11.16-13.06-28.533,4.124-38.84c17.184-10.312,84.609,3.943,84.609,3.943L134.295,147.8L149.159,155.398z"],[1,"m-2"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[1,"navbar-nav","flex-grow-1","pe-md-5"],[1,"nav-item"],["data-bs-dismiss","offcanvas","aria-current","page","routerLink","",1,"nav-link","active","pe-md-5","text-secondary"],["data-bs-dismiss","offcanvas","class","nav-link active pe-md-5 text-secondary","routerLink","/perfil",4,"ngIf"],["data-bs-dismiss","offcanvas","routerLink","/como-jogar",1,"nav-link","active","pe-md-5","text-secondary"],["data-bs-dismiss","offcanvas","class","nav-link active pe-md-5 text-secondary","routerLink","premios",4,"ngIf"],["data-bs-dismiss","offcanvas","routerLink","locais",1,"nav-link","active","pe-md-5","text-secondary"],[1,"d-flex","flex-column","flex-lg-row"],["data-bs-dismiss","offcanvas","class","btn btn-primary mx-2 my-2 my-lg-0 nav-link active p-2","routerLink","/register",4,"ngIf"],["data-bs-dismiss","offcanvas","class","btn btn-success mx-2 my-2 my-lg-0 nav-link active p-2","routerLink","/login",4,"ngIf"],["data-bs-dismiss","offcanvas","href","","class","btn btn-danger mx-2 my-2 my-lg-0 nav-link active p-2",3,"click",4,"ngIf"],[1,""],[1,"container-fluid","border-top","border","text-center","mt-1","text-secondary","fs-6"],["data-bs-dismiss","offcanvas","routerLink","/perfil",1,"nav-link","active","pe-md-5","text-secondary"],["data-bs-dismiss","offcanvas","routerLink","premios",1,"nav-link","active","pe-md-5","text-secondary"],["data-bs-dismiss","offcanvas","routerLink","/register",1,"btn","btn-primary","mx-2","my-2","my-lg-0","nav-link","active","p-2"],["data-bs-dismiss","offcanvas","routerLink","/login",1,"btn","btn-success","mx-2","my-2","my-lg-0","nav-link","active","p-2"],["data-bs-dismiss","offcanvas","href","",1,"btn","btn-danger","mx-2","my-2","my-lg-0","nav-link","active","p-2",3,"click"]],template:function(t,r){1&t&&(T(0,"nav",0)(1,"div",1)(2,"a",2),gi(),T(3,"svg",3)(4,"g"),Ae(5,"path",4),S()(),R(6," Duck GO!"),S(),Wo(),T(7,"button",5),Ae(8,"span",6),S(),T(9,"div",7)(10,"div",8)(11,"h5",9),gi(),T(12,"svg",3)(13,"g"),Ae(14,"path",10),S()(),Wo(),T(15,"span",11),R(16,"Duck GO!"),S()(),Ae(17,"button",12),S(),T(18,"div",13)(19,"ul",14)(20,"li",15)(21,"a",16),R(22,"Home"),S()(),T(23,"li",15),ye(24,sF,2,0,"a",17),S(),T(25,"li",15)(26,"a",18),R(27,"Como Jogar"),S()(),T(28,"li",15),ye(29,aF,2,0,"a",19),S(),T(30,"li",15)(31,"a",20),R(32,"Locais de Ca\xe7a"),S()()(),T(33,"div",21),ye(34,lF,2,0,"a",22),ye(35,cF,2,0,"a",23),ye(36,uF,2,0,"button",24),S()()()()(),T(37,"main",25),Ae(38,"router-outlet"),S(),T(39,"footer")(40,"div",26),R(41," Todos os direitos reservados - Nome da empresa aqui e outras informa\xe7\xf5es "),S()()),2&t&&(z(24),Q("ngIf",r.userVerified),z(5),Q("ngIf",r.userVerified),z(5),Q("ngIf",!r.userVerified),z(1),Q("ngIf",!r.userVerified),z(1),Q("ngIf",r.userVerified))},dependencies:[Xi,Gd,as]}),e})(),fF=(()=>{class e{constructor(t,r){this.auth=t,this.apiPoints=r}intercept(t,r){return this.auth.currentToken.pipe(ns(1),ke(i=>(i&&(this.auth.userAuthenticated.next(!0),t=t.clone({setHeaders:{Authorization:`Bearer ${i}`}})),r.handle(t).pipe(Or(a=>a instanceof Na&&401===a.status&&this.auth.refreshTokenInProgress?Rr(()=>a):a instanceof Na&&401===a.status?this.handle401Error(t,r):Rr(()=>a))))))}handle401Error(t,r){return this.auth.refreshToken().pipe(ke(()=>(t=t.clone({setHeaders:{Authorization:`Bearer ${this.auth.currentToken.value}`}}),r.handle(t))),Or(i=>(console.log("erro"),this.auth.userAuthenticated.next(!1),Rr(()=>i))))}}return e.\u0275fac=function(t){return new(t||e)(te(Oa),te(Ra))},e.\u0275prov=se({token:e,factory:e.\u0275fac}),e})(),hF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ht({type:e,bootstrap:[dF]}),e.\u0275inj=Qn({providers:[{provide:Sx,useClass:fF,multi:!0}],imports:[qR,oF,q5,LP]}),e})();WR().bootstrapModule(hF).catch(e=>console.error(e))},834:function(Ic,Sc){!function(X){"use strict";function Ze(v){return null==v}var Va=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,o){v.__proto__=o}||function(v,o){for(var s in o)o.hasOwnProperty(s)&&(v[s]=o[s])};var Tc=function(v){function o(s){var l=this.constructor,u=v.call(this,s)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),function Ha(v,o){var s=Object.setPrototypeOf;s?s(v,o):v.__proto__=o}(u,l.prototype),function Yn(v,o){void 0===o&&(o=v.constructor);var s=Error.captureStackTrace;s&&s(v,o)}(u),u}return function Ua(v,o){function s(){this.constructor=v}Va(v,o),v.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}(o,v),o}(Error);let yn=(()=>{class v extends Tc{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}return v.kind="Exception",v})(),Vn=(()=>{class v extends yn{}return v.kind="ArgumentException",v})(),ce=(()=>{class v extends yn{}return v.kind="IllegalArgumentException",v})();class Fr{constructor(o){if(this.binarizer=o,null===o)throw new ce("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,s){return this.binarizer.getBlackRow(o,s)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,s,l,u){const d=this.binarizer.getLuminanceSource().crop(o,s,l,u);return new Fr(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new Fr(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new Fr(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let Yt=(()=>{class v extends yn{static getChecksumInstance(){return new v}}return v.kind="ChecksumException",v})();class ja{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class yt{static arraycopy(o,s,l,u,d){for(;d--;)l[u++]=o[s++]}static currentTimeMillis(){return Date.now()}}let za=(()=>{class v extends yn{}return v.kind="IndexOutOfBoundsException",v})(),Mc=(()=>{class v extends za{constructor(s=void 0,l=void 0){super(l),this.index=s,this.message=l}}return v.kind="ArrayIndexOutOfBoundsException",v})();class $t{static fill(o,s){for(let l=0,u=o.length;l<u;l++)o[l]=s}static fillWithin(o,s,l,u){$t.rangeCheck(o.length,s,l);for(let d=s;d<l;d++)o[d]=u}static rangeCheck(o,s,l){if(s>l)throw new ce("fromIndex("+s+") > toIndex("+l+")");if(s<0)throw new Mc(s);if(l>o)throw new Mc(l)}static asList(...o){return o}static create(o,s,l){return Array.from({length:o}).map(d=>Array.from({length:s}).fill(l))}static createInt32Array(o,s,l){return Array.from({length:o}).map(d=>Int32Array.from({length:s}).fill(l))}static equals(o,s){if(!(o&&s&&o.length&&s.length&&o.length===s.length))return!1;for(let l=0,u=o.length;l<u;l++)if(o[l]!==s[l])return!1;return!0}static hashCode(o){if(null===o)return 0;let s=1;for(const l of o)s=31*s+l;return s}static fillUint8Array(o,s){for(let l=0;l!==o.length;l++)o[l]=s}static copyOf(o,s){return o.slice(0,s)}static copyOfUint8Array(o,s){if(o.length<=s){const l=new Uint8Array(s);return l.set(o),l}return o.slice(0,s)}static copyOfRange(o,s,l){const u=l-s,d=new Int32Array(u);return yt.arraycopy(o,s,d,0,u),d}static binarySearch(o,s,l){void 0===l&&(l=$t.numberComparator);let u=0,d=o.length-1;for(;u<=d;){const f=d+u>>1,p=l(s,o[f]);if(p>0)u=f+1;else{if(!(p<0))return f;d=f-1}}return-u-1}static numberComparator(o,s){return o-s}}class Te{static numberOfTrailingZeros(o){let s;if(0===o)return 32;let l=31;return s=o<<16,0!==s&&(l-=16,o=s),s=o<<8,0!==s&&(l-=8,o=s),s=o<<4,0!==s&&(l-=4,o=s),s=o<<2,0!==s&&(l-=2,o=s),l-(o<<1>>>31)}static numberOfLeadingZeros(o){if(0===o)return 32;let s=1;return o>>>16||(s+=16,o<<=16),o>>>24||(s+=8,o<<=8),o>>>28||(s+=4,o<<=4),o>>>30||(s+=2,o<<=2),s-=o>>>31,s}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=(o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135,63&(o+=o>>>8)+(o>>>16)}static truncDivision(o,s){return Math.trunc(o/s)}static parseInt(o,s=void 0){return parseInt(o,s)}}Te.MIN_VALUE_32_BITS=-2147483648,Te.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ct{constructor(o,s){void 0===o?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,this.bits=null==s?Ct.makeArray(o):s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>32*this.bits.length){const s=Ct.makeArray(o);yt.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(o){return 0!=(this.bits[Math.floor(o/32)]&1<<(31&o))}set(o){this.bits[Math.floor(o/32)]|=1<<(31&o)}flip(o){this.bits[Math.floor(o/32)]^=1<<(31&o)}getNextSet(o){const s=this.size;if(o>=s)return s;const l=this.bits;let u=Math.floor(o/32),d=l[u];d&=~((1<<(31&o))-1);const f=l.length;for(;0===d;){if(++u===f)return s;d=l[u]}const p=32*u+Te.numberOfTrailingZeros(d);return p>s?s:p}getNextUnset(o){const s=this.size;if(o>=s)return s;const l=this.bits;let u=Math.floor(o/32),d=~l[u];d&=~((1<<(31&o))-1);const f=l.length;for(;0===d;){if(++u===f)return s;d=~l[u]}const p=32*u+Te.numberOfTrailingZeros(d);return p>s?s:p}setBulk(o,s){this.bits[Math.floor(o/32)]=s}setRange(o,s){if(s<o||o<0||s>this.size)throw new ce;if(s===o)return;s--;const l=Math.floor(o/32),u=Math.floor(s/32),d=this.bits;for(let f=l;f<=u;f++)d[f]|=(2<<(f<u?31:31&s))-(1<<(f>l?0:31&o))}clear(){const o=this.bits.length,s=this.bits;for(let l=0;l<o;l++)s[l]=0}isRange(o,s,l){if(s<o||o<0||s>this.size)throw new ce;if(s===o)return!0;s--;const u=Math.floor(o/32),d=Math.floor(s/32),f=this.bits;for(let p=u;p<=d;p++){const E=(2<<(p<d?31:31&s))-(1<<(p>u?0:31&o))&4294967295;if((f[p]&E)!==(l?E:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(o,s){if(s<0||s>32)throw new ce("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let l=s;l>0;l--)this.appendBit(1==(o>>l-1&1))}appendBitArray(o){const s=o.size;this.ensureCapacity(this.size+s);for(let l=0;l<s;l++)this.appendBit(o.get(l))}xor(o){if(this.size!==o.size)throw new ce("Sizes don't match");const s=this.bits;for(let l=0,u=s.length;l<u;l++)s[l]^=o.bits[l]}toBytes(o,s,l,u){for(let d=0;d<u;d++){let f=0;for(let p=0;p<8;p++)this.get(o)&&(f|=1<<7-p),o++;s[l+d]=f}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),l=s+1,u=this.bits;for(let d=0;d<l;d++){let f=u[d];f=f>>1&1431655765|(1431655765&f)<<1,f=f>>2&858993459|(858993459&f)<<2,f=f>>4&252645135|(252645135&f)<<4,f=f>>8&16711935|(16711935&f)<<8,f=f>>16&65535|(65535&f)<<16,o[s-d]=f}if(this.size!==32*l){const d=32*l-this.size;let f=o[0]>>>d;for(let p=1;p<l;p++){const y=o[p];f|=y<<32-d,o[p-1]=f,f=y>>>d}o[l-1]=f}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){return o instanceof Ct&&this.size===o.size&&$t.equals(this.bits,o.bits)}hashCode(){return 31*this.size+$t.hashCode(this.bits)}toString(){let o="";for(let s=0,l=this.size;s<l;s++)7&s||(o+=" "),o+=this.get(s)?"X":".";return o}clone(){return new Ct(this.size,this.bits.slice())}}var Nc=function(v){return v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",v}(Nc||{}),_t=Nc;let re=(()=>{class v extends yn{static getFormatInstance(){return new v}}return v.kind="FormatException",v})();var it=function(v){return v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR",v}(it||{});class ee{constructor(o,s,l,...u){this.valueIdentifier=o,this.name=l,this.values="number"==typeof s?Int32Array.from([s]):s,this.otherEncodingNames=u,ee.VALUE_IDENTIFIER_TO_ECI.set(o,this),ee.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,p=d.length;f!==p;f++)ee.VALUES_TO_ECI.set(d[f],this);for(const f of u)ee.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new re("incorect value");const s=ee.VALUES_TO_ECI.get(o);if(void 0===s)throw new re("incorect value");return s}static getCharacterSetECIByName(o){const s=ee.NAME_TO_ECI.get(o);if(void 0===s)throw new re("incorect value");return s}equals(o){if(!(o instanceof ee))return!1;const s=o;return this.getName()===s.getName()}}ee.VALUE_IDENTIFIER_TO_ECI=new Map,ee.VALUES_TO_ECI=new Map,ee.NAME_TO_ECI=new Map,ee.Cp437=new ee(it.Cp437,Int32Array.from([0,2]),"Cp437"),ee.ISO8859_1=new ee(it.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ee.ISO8859_2=new ee(it.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ee.ISO8859_3=new ee(it.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ee.ISO8859_4=new ee(it.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ee.ISO8859_5=new ee(it.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ee.ISO8859_6=new ee(it.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ee.ISO8859_7=new ee(it.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ee.ISO8859_8=new ee(it.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ee.ISO8859_9=new ee(it.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ee.ISO8859_10=new ee(it.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ee.ISO8859_11=new ee(it.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ee.ISO8859_13=new ee(it.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ee.ISO8859_14=new ee(it.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ee.ISO8859_15=new ee(it.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ee.ISO8859_16=new ee(it.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ee.SJIS=new ee(it.SJIS,20,"SJIS","Shift_JIS"),ee.Cp1250=new ee(it.Cp1250,21,"Cp1250","windows-1250"),ee.Cp1251=new ee(it.Cp1251,22,"Cp1251","windows-1251"),ee.Cp1252=new ee(it.Cp1252,23,"Cp1252","windows-1252"),ee.Cp1256=new ee(it.Cp1256,24,"Cp1256","windows-1256"),ee.UnicodeBigUnmarked=new ee(it.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ee.UTF8=new ee(it.UTF8,26,"UTF8","UTF-8"),ee.ASCII=new ee(it.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ee.Big5=new ee(it.Big5,28,"Big5"),ee.GB18030=new ee(it.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ee.EUC_KR=new ee(it.EUC_KR,30,"EUC_KR","EUC-KR");let kr=(()=>{class v extends yn{}return v.kind="UnsupportedOperationException",v})();class cn{static decode(o,s){const l=this.encodingName(s);return this.customDecoder?this.customDecoder(o,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(o,l):new TextDecoder(l).decode(o)}static shouldDecodeOnFallback(o){return!cn.isBrowser()&&"ISO-8859-1"===o}static encode(o,s){const l=this.encodingName(s);return this.customEncoder?this.customEncoder(o,l):typeof TextEncoder>"u"?this.encodeFallback(o):(new TextEncoder).encode(o)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(o){return"string"==typeof o?o:o.getName()}static encodingCharacterSet(o){return o instanceof ee?o:ee.getCharacterSetECIByName(o)}static decodeFallback(o,s){const l=this.encodingCharacterSet(s);if(cn.isDecodeFallbackSupported(l)){let u="";for(let d=0,f=o.length;d<f;d++){let p=o[d].toString(16);p.length<2&&(p="0"+p),u+="%"+p}return decodeURIComponent(u)}if(l.equals(ee.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new kr(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(ee.UTF8)||o.equals(ee.ISO8859_1)||o.equals(ee.ASCII)}static encodeFallback(o){const l=btoa(unescape(encodeURIComponent(o))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class De{static castAsNonUtf8Char(o,s=null){const l=s?s.getName():this.ISO88591;return cn.decode(new Uint8Array([o]),l)}static guessEncoding(o,s){if(null!=s&&void 0!==s.get(_t.CHARACTER_SET))return s.get(_t.CHARACTER_SET).toString();const l=o.length;let u=!0,d=!0,f=!0,p=0,y=0,C=0,E=0,_=0,A=0,I=0,N=0,O=0,F=0,U=0;const K=o.length>3&&239===o[0]&&187===o[1]&&191===o[2];for(let oe=0;oe<l&&(u||d||f);oe++){const j=255&o[oe];f&&(p>0?128&j?p--:f=!1:128&j&&(64&j?(p++,32&j?(p++,16&j?(p++,8&j?f=!1:E++):C++):y++):f=!1)),u&&(j>127&&j<160?u=!1:j>159&&(j<192||215===j||247===j)&&U++),d&&(_>0?j<64||127===j||j>252?d=!1:_--:128===j||160===j||j>239?d=!1:j>160&&j<224?(A++,N=0,I++,I>O&&(O=I)):j>127?(_++,I=0,N++,N>F&&(F=N)):(I=0,N=0))}return f&&p>0&&(f=!1),d&&_>0&&(d=!1),f&&(K||y+C+E>0)?De.UTF8:d&&(De.ASSUME_SHIFT_JIS||O>=3||F>=3)?De.SHIFT_JIS:u&&d?2===O&&2===A||10*U>=l?De.SHIFT_JIS:De.ISO88591:u?De.ISO88591:d?De.SHIFT_JIS:f?De.UTF8:De.PLATFORM_DEFAULT_ENCODING}static format(o,...s){let l=-1;return o.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function u(f,p,y,C,E,_){if("%%"===f)return"%";if(void 0===s[++l])return;f=C?parseInt(C.substr(1)):void 0;let I,A=E?parseInt(E.substr(1)):void 0;switch(_){case"s":I=s[l];break;case"c":I=s[l][0];break;case"f":I=parseFloat(s[l]).toFixed(f);break;case"p":I=parseFloat(s[l]).toPrecision(f);break;case"e":I=parseFloat(s[l]).toExponential(f);break;case"x":I=parseInt(s[l]).toString(A||16);break;case"d":I=parseFloat(parseInt(s[l],A||10).toPrecision(f)).toFixed(0)}I="object"==typeof I?JSON.stringify(I):(+I).toString(A);let N=parseInt(y),O=y&&y[0]+""=="0"?"0":" ";for(;I.length<N;)I=void 0!==p?I+O:O+I;return I})}static getBytes(o,s){return cn.encode(o,s)}static getCharCode(o,s=0){return o.charCodeAt(s)}static getCharAt(o){return String.fromCharCode(o)}}De.SHIFT_JIS=ee.SJIS.getName(),De.GB2312="GB2312",De.ISO88591=ee.ISO8859_1.getName(),De.EUC_JP="EUC_JP",De.UTF8=ee.UTF8.getName(),De.PLATFORM_DEFAULT_ENCODING=De.UTF8,De.ASSUME_SHIFT_JIS=!1;class ot{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return this.value+="string"==typeof o?o.toString():this.encoding?De.castAsNonUtf8Char(o,this.encoding):String.fromCharCode(o),this}appendChars(o,s,l){for(let u=s;s<s+l;u++)this.append(o[u]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,s){this.value=this.value.substr(0,o)+s+this.value.substr(o+1)}substring(o,s){return this.value.substring(o,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,s){this.value=this.value.substr(0,o)+s+this.value.substr(o+s.length)}}class rn{constructor(o,s,l,u){if(this.width=o,this.height=s,this.rowSize=l,this.bits=u,null==s&&(s=o),this.height=s,o<1||s<1)throw new ce("Both dimensions must be greater than 0");null==l&&(l=Math.floor((o+31)/32)),this.rowSize=l,null==u&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const s=o.length,l=o[0].length,u=new rn(l,s);for(let d=0;d<s;d++){const f=o[d];for(let p=0;p<l;p++)f[p]&&u.set(p,d)}return u}static parseFromString(o,s,l){if(null===o)throw new ce("stringRepresentation cannot be null");const u=new Array(o.length);let d=0,f=0,p=-1,y=0,C=0;for(;C<o.length;)if("\n"===o.charAt(C)||"\r"===o.charAt(C)){if(d>f){if(-1===p)p=d-f;else if(d-f!==p)throw new ce("row lengths do not match");f=d,y++}C++}else if(o.substring(C,C+s.length)===s)C+=s.length,u[d]=!0,d++;else{if(o.substring(C,C+l.length)!==l)throw new ce("illegal character encountered: "+o.substring(C));C+=l.length,u[d]=!1,d++}if(d>f){if(-1===p)p=d-f;else if(d-f!==p)throw new ce("row lengths do not match");y++}const E=new rn(p,y);for(let _=0;_<d;_++)u[_]&&E.set(Math.floor(_%p),Math.floor(_/p));return E}get(o,s){const l=s*this.rowSize+Math.floor(o/32);return 0!=(this.bits[l]>>>(31&o)&1)}set(o,s){const l=s*this.rowSize+Math.floor(o/32);this.bits[l]|=1<<(31&o)&4294967295}unset(o,s){const l=s*this.rowSize+Math.floor(o/32);this.bits[l]&=~(1<<(31&o)&4294967295)}flip(o,s){const l=s*this.rowSize+Math.floor(o/32);this.bits[l]^=1<<(31&o)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new ce("input matrix dimensions do not match");const s=new Ct(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,f=this.height;d<f;d++){const p=d*l,y=o.getRow(d,s).getBitArray();for(let C=0;C<l;C++)u[p+C]^=y[C]}}clear(){const o=this.bits,s=o.length;for(let l=0;l<s;l++)o[l]=0}setRegion(o,s,l,u){if(s<0||o<0)throw new ce("Left and top must be nonnegative");if(u<1||l<1)throw new ce("Height and width must be at least 1");const d=o+l,f=s+u;if(f>this.height||d>this.width)throw new ce("The region must fit inside the matrix");const p=this.rowSize,y=this.bits;for(let C=s;C<f;C++){const E=C*p;for(let _=o;_<d;_++)y[E+Math.floor(_/32)]|=1<<(31&_)&4294967295}}getRow(o,s){null==s||s.getSize()<this.width?s=new Ct(this.width):s.clear();const l=this.rowSize,u=this.bits,d=o*l;for(let f=0;f<l;f++)s.setBulk(32*f,u[d+f]);return s}setRow(o,s){yt.arraycopy(s.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),s=this.getHeight();let l=new Ct(o),u=new Ct(o);for(let d=0,f=Math.floor((s+1)/2);d<f;d++)l=this.getRow(d,l),u=this.getRow(s-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(s-1-d,l)}getEnclosingRectangle(){const s=this.height,l=this.rowSize,u=this.bits;let d=this.width,f=s,p=-1,y=-1;for(let C=0;C<s;C++)for(let E=0;E<l;E++){const _=u[C*l+E];if(0!==_){if(C<f&&(f=C),C>y&&(y=C),32*E<d){let A=0;for(;!(_<<31-A&4294967295);)A++;32*E+A<d&&(d=32*E+A)}if(32*E+31>p){let A=31;for(;!(_>>>A);)A--;32*E+A>p&&(p=32*E+A)}}}return p<d||y<f?null:Int32Array.from([d,f,p-d+1,y-f+1])}getTopLeftOnBit(){const o=this.rowSize,s=this.bits;let l=0;for(;l<s.length&&0===s[l];)l++;if(l===s.length)return null;const u=l/o;let d=l%o*32;const f=s[l];let p=0;for(;!(f<<31-p&4294967295);)p++;return d+=p,Int32Array.from([d,u])}getBottomRightOnBit(){const o=this.rowSize,s=this.bits;let l=s.length-1;for(;l>=0&&0===s[l];)l--;if(l<0)return null;const u=Math.floor(l/o);let d=32*Math.floor(l%o);const f=s[l];let p=31;for(;!(f>>>p);)p--;return d+=p,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){return o instanceof rn&&this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&$t.equals(this.bits,o.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+$t.hashCode(this.bits),o}toString(o="X ",s="  ",l="\n"){return this.buildToString(o,s,l)}buildToString(o,s,l){let u=new ot;for(let d=0,f=this.height;d<f;d++){for(let p=0,y=this.width;p<y;p++)u.append(this.get(p,d)?o:s);u.append(l)}return u.toString()}clone(){return new rn(this.width,this.height,this.rowSize,this.bits.slice())}}let W=(()=>{class v extends yn{static getNotFoundInstance(){return new v}}return v.kind="NotFoundException",v})();class Dt extends ja{constructor(o){super(o),this.luminances=Dt.EMPTY,this.buckets=new Int32Array(Dt.LUMINANCE_BUCKETS)}getBlackRow(o,s){const l=this.getLuminanceSource(),u=l.getWidth();null==s||s.getSize()<u?s=new Ct(u):s.clear(),this.initArrays(u);const d=l.getRow(o,this.luminances),f=this.buckets;for(let y=0;y<u;y++)f[(255&d[y])>>Dt.LUMINANCE_SHIFT]++;const p=Dt.estimateBlackPoint(f);if(u<3)for(let y=0;y<u;y++)(255&d[y])<p&&s.set(y);else{let y=255&d[0],C=255&d[1];for(let E=1;E<u-1;E++){const _=255&d[E+1];(4*C-y-_)/2<p&&s.set(E),y=C,C=_}}return s}getBlackMatrix(){const o=this.getLuminanceSource(),s=o.getWidth(),l=o.getHeight(),u=new rn(s,l);this.initArrays(s);const d=this.buckets;for(let y=1;y<5;y++){const C=Math.floor(l*y/5),E=o.getRow(C,this.luminances),_=Math.floor(4*s/5);for(let A=Math.floor(s/5);A<_;A++)d[(255&E[A])>>Dt.LUMINANCE_SHIFT]++}const f=Dt.estimateBlackPoint(d),p=o.getMatrix();for(let y=0;y<l;y++){const C=y*s;for(let E=0;E<s;E++)(255&p[C+E])<f&&u.set(E,y)}return u}createBinarizer(o){return new Dt(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const s=this.buckets;for(let l=0;l<Dt.LUMINANCE_BUCKETS;l++)s[l]=0}static estimateBlackPoint(o){const s=o.length;let l=0,u=0,d=0;for(let E=0;E<s;E++)o[E]>d&&(u=E,d=o[E]),o[E]>l&&(l=o[E]);let f=0,p=0;for(let E=0;E<s;E++){const _=E-u,A=o[E]*_*_;A>p&&(f=E,p=A)}if(u>f){const E=u;u=f,f=E}if(f-u<=s/16)throw new W;let y=f-1,C=-1;for(let E=f-1;E>u;E--){const _=E-u,A=_*_*(f-E)*(l-o[E]);A>C&&(y=E,C=A)}return y<<Dt.LUMINANCE_SHIFT}}Dt.LUMINANCE_BITS=5,Dt.LUMINANCE_SHIFT=8-Dt.LUMINANCE_BITS,Dt.LUMINANCE_BUCKETS=1<<Dt.LUMINANCE_BITS,Dt.EMPTY=Uint8ClampedArray.from([0]);class Fe extends Dt{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const o=this.getLuminanceSource(),s=o.getWidth(),l=o.getHeight();if(s>=Fe.MINIMUM_DIMENSION&&l>=Fe.MINIMUM_DIMENSION){const u=o.getMatrix();let d=s>>Fe.BLOCK_SIZE_POWER;s&Fe.BLOCK_SIZE_MASK&&d++;let f=l>>Fe.BLOCK_SIZE_POWER;l&Fe.BLOCK_SIZE_MASK&&f++;const p=Fe.calculateBlackPoints(u,d,f,s,l),y=new rn(s,l);Fe.calculateThresholdForBlock(u,d,f,s,l,p,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new Fe(o)}static calculateThresholdForBlock(o,s,l,u,d,f,p){const y=d-Fe.BLOCK_SIZE,C=u-Fe.BLOCK_SIZE;for(let E=0;E<l;E++){let _=E<<Fe.BLOCK_SIZE_POWER;_>y&&(_=y);const A=Fe.cap(E,2,l-3);for(let I=0;I<s;I++){let N=I<<Fe.BLOCK_SIZE_POWER;N>C&&(N=C);const O=Fe.cap(I,2,s-3);let F=0;for(let K=-2;K<=2;K++){const oe=f[A+K];F+=oe[O-2]+oe[O-1]+oe[O]+oe[O+1]+oe[O+2]}Fe.thresholdBlock(o,N,_,F/25,u,p)}}}static cap(o,s,l){return o<s?s:o>l?l:o}static thresholdBlock(o,s,l,u,d,f){for(let p=0,y=l*d+s;p<Fe.BLOCK_SIZE;p++,y+=d)for(let C=0;C<Fe.BLOCK_SIZE;C++)(255&o[y+C])<=u&&f.set(s+C,l+p)}static calculateBlackPoints(o,s,l,u,d){const f=d-Fe.BLOCK_SIZE,p=u-Fe.BLOCK_SIZE,y=new Array(l);for(let C=0;C<l;C++){y[C]=new Int32Array(s);let E=C<<Fe.BLOCK_SIZE_POWER;E>f&&(E=f);for(let _=0;_<s;_++){let A=_<<Fe.BLOCK_SIZE_POWER;A>p&&(A=p);let I=0,N=255,O=0;for(let U=0,K=E*u+A;U<Fe.BLOCK_SIZE;U++,K+=u){for(let oe=0;oe<Fe.BLOCK_SIZE;oe++){const j=255&o[K+oe];I+=j,j<N&&(N=j),j>O&&(O=j)}if(O-N>Fe.MIN_DYNAMIC_RANGE)for(U++,K+=u;U<Fe.BLOCK_SIZE;U++,K+=u)for(let oe=0;oe<Fe.BLOCK_SIZE;oe++)I+=255&o[K+oe]}let F=I>>2*Fe.BLOCK_SIZE_POWER;if(O-N<=Fe.MIN_DYNAMIC_RANGE&&(F=N/2,C>0&&_>0)){const U=(y[C-1][_]+2*y[C][_-1]+y[C-1][_-1])/4;N<U&&(F=U)}y[C][_]=F}}return y}}Fe.BLOCK_SIZE_POWER=3,Fe.BLOCK_SIZE=1<<Fe.BLOCK_SIZE_POWER,Fe.BLOCK_SIZE_MASK=Fe.BLOCK_SIZE-1,Fe.MINIMUM_DIMENSION=5*Fe.BLOCK_SIZE,Fe.MIN_DYNAMIC_RANGE=24;class to{constructor(o,s){this.width=o,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,s,l,u){throw new kr("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new kr("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new kr("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let s=new ot;for(let l=0;l<this.height;l++){const u=this.getRow(l,o);for(let d=0;d<this.width;d++){const f=255&u[d];let p;p=f<64?"#":f<128?"+":f<192?".":" ",s.append(p)}s.append("\n")}return s.toString()}}class ht extends to{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,s){const l=this.delegate.getRow(o,s),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(255&l[d]);return l}getMatrix(){const o=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(s);for(let u=0;u<s;u++)l[u]=255-(255&o[u]);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(o,s,l,u){return new ht(this.delegate.crop(o,s,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ht(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ht(this.delegate.rotateCounterClockwise45())}}class Br extends to{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Br.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const s=o.getContext("2d").getImageData(0,0,o.width,o.height);return Br.toGrayscaleBuffer(s.data,o.width,o.height)}static toGrayscaleBuffer(o,s,l){const u=new Uint8ClampedArray(s*l);for(let d=0,f=0,p=o.length;d<p;d+=4,f++){let y;y=0===o[d+3]?255:306*o[d]+601*o[d+1]+117*o[d+2]+512>>10,u[f]=y}return u}getRow(o,s){if(o<0||o>=this.getHeight())throw new ce("Requested row is outside the image: "+o);const l=this.getWidth(),u=o*l;return null===s?s=this.buffer.slice(u,u+l):(s.length<l&&(s=new Uint8ClampedArray(l)),s.set(this.buffer.slice(u,u+l))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,s,l,u){return super.crop(o,s,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const s=this.getTempCanvasElement(),l=s.getContext("2d"),u=o*Br.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*f),y=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*f);return s.width=p,s.height=y,l.translate(p/2,y/2),l.rotate(u),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=Br.makeBufferFromCanvasImageData(s),this}invert(){return new ht(this)}}Br.DEGREE_TO_RADIANS=Math.PI/180;class Rc{constructor(o,s,l){this.deviceId=o,this.label=s,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var _n=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(v,o,s,l){return new(s||(s=Promise))(function(d,f){function p(E){try{C(l.next(E))}catch(_){f(_)}}function y(E){try{C(l.throw(E))}catch(_){f(_)}}function C(E){E.done?d(E.value):function u(d){return d instanceof s?d:new s(function(f){f(d)})}(E.value).then(p,y)}C((l=l.apply(v,o||[])).next())})};class Ti{constructor(o,s=500,l){this.reader=o,this.timeBetweenScansMillis=s,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return _n(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const l of o){const u="video"===l.kind?"videoinput":l.kind;"videoinput"===u&&s.push({deviceId:l.deviceId||l.id,label:l.label||`Video device ${s.length+1}`,kind:u,groupId:l.groupId})}return s})}getVideoInputDevices(){return _n(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new Rc(s.deviceId,s.label))})}findDeviceById(o){return _n(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(l=>l.deviceId===o):null})}decodeFromInputVideoDevice(o,s){return _n(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,s)})}decodeOnceFromVideoDevice(o,s){return _n(this,void 0,void 0,function*(){let l;this.reset(),l=o?{deviceId:{exact:o}}:{facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,s)})}decodeOnceFromConstraints(o,s){return _n(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(l,s)})}decodeOnceFromStream(o,s){return _n(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(o,s);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(o,s,l){return _n(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,s,l)})}decodeFromVideoDevice(o,s,l){return _n(this,void 0,void 0,function*(){let u;u=o?{deviceId:{exact:o}}:{facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,s,l)})}decodeFromConstraints(o,s,l){return _n(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(u,s,l)})}decodeFromStream(o,s,l){return _n(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(o,s);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,s){return _n(this,void 0,void 0,function*(){const l=this.prepareVideoElement(s);return this.addVideoSource(l,o),this.videoElement=l,this.stream=o,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(o){return new Promise((s,l)=>this.playVideoOnLoad(o,()=>s()))}playVideoOnLoad(o,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",s),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return _n(this,void 0,void 0,function*(){if(this.isVideoPlaying(o))console.warn("Trying to play video that is already playing.");else try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,s){const l=document.getElementById(o);if(!l)throw new Vn(`element with id '${o}' not found`);if(l.nodeName.toLowerCase()!==s.toLowerCase())throw new Vn(`element with id '${o}' must be an ${s} element`);return l}decodeFromImage(o,s){if(!o&&!s)throw new Vn("either imageElement with a src set or an url must be provided");return s&&!o?this.decodeFromImageUrl(s):this.decodeFromImageElement(o)}decodeFromVideo(o,s){if(!o&&!s)throw new Vn("Either an element with a src set or an URL must be provided");return s&&!o?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,s,l){if(void 0===o&&void 0===s)throw new Vn("Either an element with a src set or an URL must be provided");return s&&!o?this.decodeFromVideoUrlContinuously(s,l):this.decodeFromVideoElementContinuously(o,l)}decodeFromImageElement(o){if(!o)throw new Vn("An image element must be provided.");this.reset();const s=this.prepareImageElement(o);let l;return this.imageElement=s,l=this.isImageLoaded(s)?this.decodeOnce(s,!1,!0):this._decodeOnLoadImage(s),l}decodeFromVideoElement(o){const s=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(o,s){const l=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(l,s)}_decodeFromVideoElementSetup(o){if(!o)throw new Vn("A video element must be provided.");this.reset();const s=this.prepareVideoElement(o);return this.videoElement=s,s}decodeFromImageUrl(o){if(!o)throw new Vn("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const l=this._decodeOnLoadImage(s);return s.src=o,l}decodeFromVideoUrl(o){if(!o)throw new Vn("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),l=this.decodeFromVideoElement(s);return s.src=o,l}decodeFromVideoUrlContinuously(o,s){if(!o)throw new Vn("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,s);return l.src=o,u}_decodeOnLoadImage(o){return new Promise((s,l)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(s,l),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return _n(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,s){return _n(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,s)})}isImageLoaded(o){return!(!o.complete||0===o.naturalWidth)}prepareImageElement(o){let s;return typeof o>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),"string"==typeof o&&(s=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(s=o),s}prepareVideoElement(o){let s;return!o&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),"string"==typeof o&&(s=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(s=o),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(o,s=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,f)=>{if(this._stopAsyncDecode)return f(new W("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{d(this.decode(o))}catch(p){if(s&&p instanceof W||(p instanceof Yt||p instanceof re)&&l)return setTimeout(u,this._timeBetweenDecodingAttempts,d,f);f(p)}};return new Promise((d,f)=>u(d,f))}decodeContinuously(o,s){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const u=this.decode(o);s(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){s(null,u),(u instanceof Yt||u instanceof re||u instanceof W)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(o){const s=this.createBinaryBitmap(o);return this.decodeBitmap(s)}_isHTMLVideoElement(o){return 0!==o.videoWidth}drawFrameOnCanvas(o,s,l){s||(s={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(o,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(o,s,l=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(o,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const l=this.getCaptureCanvas(o),u=new Br(l),d=new Fe(u);return new Fr(d)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const s=this.createCaptureCanvas(o);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let l,u;return typeof o<"u"&&(o instanceof HTMLVideoElement?(l=o.videoWidth,u=o.videoHeight):o instanceof HTMLImageElement&&(l=o.naturalWidth||o.width,u=o.naturalHeight||o.height)),s.style.width=l+"px",s.style.height=u+"px",s.width=l,s.height=u,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,s){try{o.srcObject=s}catch{o.src=URL.createObjectURL(s)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class Nt{constructor(o,s,l=(null==s?0:8*s.length),u,d,f=yt.currentTimeMillis()){this.text=o,this.rawBytes=s,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=f,this.text=o,this.rawBytes=s,this.numBits=null==l?null==s?0:8*s.length:l,this.resultPoints=u,this.format=d,this.resultMetadata=null,this.timestamp=null==f?yt.currentTimeMillis():f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,s){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(o,s)}putAllMetadata(o){null!==o&&(this.resultMetadata=null===this.resultMetadata?o:new Map(o))}addResultPoints(o){const s=this.resultPoints;if(null===s)this.resultPoints=o;else if(null!==o&&o.length>0){const l=new Array(s.length+o.length);yt.arraycopy(s,0,l,0,s.length),yt.arraycopy(o,0,l,s.length,o.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ga=function(v){return v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",v}(Ga||{}),ue=Ga,Wa=function(v){return v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",v}(Wa||{}),We=Wa;class Pt{constructor(o,s,l,u,d=-1,f=-1){this.rawBytes=o,this.text=s,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=null==o?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Mo{exp(o){return this.expTable[o]}log(o){if(0===o)throw new ce;return this.logTable[o]}static addOrSubtract(o,s){return o^s}}class Ie{constructor(o,s){if(0===s.length)throw new ce;this.field=o;const l=s.length;if(l>1&&0===s[0]){let u=1;for(;u<l&&0===s[u];)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),yt.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(0===o)return this.getCoefficient(0);const s=this.coefficients;let l;if(1===o){l=0;for(let f=0,p=s.length;f!==p;f++)l=Mo.addOrSubtract(l,s[f]);return l}l=s[0];const u=s.length,d=this.field;for(let f=1;f<u;f++)l=Mo.addOrSubtract(d.multiply(o,l),s[f]);return l}addOrSubtract(o){if(!this.field.equals(o.field))throw new ce("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let s=this.coefficients,l=o.coefficients;if(s.length>l.length){const f=s;s=l,l=f}let u=new Int32Array(l.length);const d=l.length-s.length;yt.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=Mo.addOrSubtract(s[f-d],l[f]);return new Ie(this.field,u)}multiply(o){if(!this.field.equals(o.field))throw new ce("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const s=this.coefficients,l=s.length,u=o.coefficients,d=u.length,f=new Int32Array(l+d-1),p=this.field;for(let y=0;y<l;y++){const C=s[y];for(let E=0;E<d;E++)f[y+E]=Mo.addOrSubtract(f[y+E],p.multiply(C,u[E]))}return new Ie(p,f)}multiplyScalar(o){if(0===o)return this.field.getZero();if(1===o)return this;const s=this.coefficients.length,l=this.field,u=new Int32Array(s),d=this.coefficients;for(let f=0;f<s;f++)u[f]=l.multiply(d[f],o);return new Ie(l,u)}multiplyByMonomial(o,s){if(o<0)throw new ce;if(0===s)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+o),f=this.field;for(let p=0;p<u;p++)d[p]=f.multiply(l[p],s);return new Ie(f,d)}divide(o){if(!this.field.equals(o.field))throw new ce("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new ce("Divide by 0");const s=this.field;let l=s.getZero(),u=this;const d=o.getCoefficient(o.getDegree()),f=s.inverse(d);for(;u.getDegree()>=o.getDegree()&&!u.isZero();){const p=u.getDegree()-o.getDegree(),y=s.multiply(u.getCoefficient(u.getDegree()),f),C=o.multiplyByMonomial(p,y),E=s.buildMonomial(p,y);l=l.addOrSubtract(E),u=u.addOrSubtract(C)}return[l,u]}toString(){let o="";for(let s=this.getDegree();s>=0;s--){let l=this.getCoefficient(s);if(0!==l){if(l<0?(o+=" - ",l=-l):o.length>0&&(o+=" + "),0===s||1!==l){const u=this.field.log(l);0===u?o+="1":1===u?o+="a":(o+="a^",o+=u)}0!==s&&(1===s?o+="x":(o+="x^",o+=s))}}return o}}let No=(()=>{class v extends yn{}return v.kind="ArithmeticException",v})();class et extends Mo{constructor(o,s,l){super(),this.primitive=o,this.size=s,this.generatorBase=l;const u=new Int32Array(s);let d=1;for(let p=0;p<s;p++)u[p]=d,d*=2,d>=s&&(d^=o,d&=s-1);this.expTable=u;const f=new Int32Array(s);for(let p=0;p<s-1;p++)f[u[p]]=p;this.logTable=f,this.zero=new Ie(this,Int32Array.from([0])),this.one=new Ie(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,s){if(o<0)throw new ce;if(0===s)return this.zero;const l=new Int32Array(o+1);return l[0]=s,new Ie(this,l)}inverse(o){if(0===o)throw new No;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,s){return 0===o||0===s?0:this.expTable[(this.logTable[o]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Te.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}et.AZTEC_DATA_12=new et(4201,4096,1),et.AZTEC_DATA_10=new et(1033,1024,1),et.AZTEC_DATA_6=new et(67,64,1),et.AZTEC_PARAM=new et(19,16,1),et.QR_CODE_FIELD_256=new et(285,256,0),et.DATA_MATRIX_FIELD_256=new et(301,256,1),et.AZTEC_DATA_8=et.DATA_MATRIX_FIELD_256,et.MAXICODE_FIELD_64=et.AZTEC_DATA_6;let Mi=(()=>{class v extends yn{}return v.kind="ReedSolomonException",v})(),Vr=(()=>{class v extends yn{}return v.kind="IllegalStateException",v})();class Ro{constructor(o){this.field=o}decode(o,s){const l=this.field,u=new Ie(l,o),d=new Int32Array(s);let f=!0;for(let I=0;I<s;I++){const N=u.evaluateAt(l.exp(I+l.getGeneratorBase()));d[d.length-1-I]=N,0!==N&&(f=!1)}if(f)return;const p=new Ie(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(s,1),p,s),E=y[1],_=this.findErrorLocations(y[0]),A=this.findErrorMagnitudes(E,_);for(let I=0;I<_.length;I++){const N=o.length-1-l.log(_[I]);if(N<0)throw new Mi("Bad error location");o[N]=et.addOrSubtract(o[N],A[I])}}runEuclideanAlgorithm(o,s,l){if(o.getDegree()<s.getDegree()){const I=o;o=s,s=I}const u=this.field;let d=o,f=s,p=u.getZero(),y=u.getOne();for(;f.getDegree()>=(l/2|0);){let I=d,N=p;if(d=f,p=y,d.isZero())throw new Mi("r_{i-1} was zero");f=I;let O=u.getZero();const F=d.getCoefficient(d.getDegree()),U=u.inverse(F);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const K=f.getDegree()-d.getDegree(),oe=u.multiply(f.getCoefficient(f.getDegree()),U);O=O.addOrSubtract(u.buildMonomial(K,oe)),f=f.addOrSubtract(d.multiplyByMonomial(K,oe))}if(y=O.multiply(p).addOrSubtract(N),f.getDegree()>=d.getDegree())throw new Vr("Division algorithm failed to reduce polynomial?")}const C=y.getCoefficient(0);if(0===C)throw new Mi("sigmaTilde(0) was zero");const E=u.inverse(C);return[y.multiplyScalar(E),f.multiplyScalar(E)]}findErrorLocations(o){const s=o.getDegree();if(1===s)return Int32Array.from([o.getCoefficient(1)]);const l=new Int32Array(s);let u=0;const d=this.field;for(let f=1;f<d.getSize()&&u<s;f++)0===o.evaluateAt(f)&&(l[u]=d.inverse(f),u++);if(u!==s)throw new Mi("Error locator degree does not match number of roots");return l}findErrorMagnitudes(o,s){const l=s.length,u=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const p=d.inverse(s[f]);let y=1;for(let C=0;C<l;C++)if(f!==C){const E=d.multiply(s[C],p);y=d.multiply(y,1&E?-2&E:1|E)}u[f]=d.multiply(o.evaluateAt(p),d.inverse(y)),0!==d.getGeneratorBase()&&(u[f]=d.multiply(u[f],p))}return u}}var Cn=function(v){return v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY",v}(Cn||{});let Oc=(()=>{class v{decode(s){this.ddata=s;let l=s.getBits(),u=this.extractBits(l),d=this.correctBits(u),f=v.convertBoolArrayToByteArray(d),p=v.getEncodedData(d),y=new Pt(f,p,null,null);return y.setNumBits(d.length),y}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let l=s.length,u=Cn.UPPER,d=Cn.UPPER,f="",p=0;for(;p<l;)if(d===Cn.BINARY){if(l-p<5)break;let y=v.readCode(s,p,5);if(p+=5,0===y){if(l-p<11)break;y=v.readCode(s,p,11)+31,p+=11}for(let C=0;C<y;C++){if(l-p<8){p=l;break}const E=v.readCode(s,p,8);f+=De.castAsNonUtf8Char(E),p+=8}d=u}else{let y=d===Cn.DIGIT?4:5;if(l-p<y)break;let C=v.readCode(s,p,y);p+=y;let E=v.getCharacter(d,C);E.startsWith("CTRL_")?(u=d,d=v.getTable(E.charAt(5)),"L"===E.charAt(6)&&(u=d)):(f+=E,d=u)}return f}static getTable(s){switch(s){case"L":return Cn.LOWER;case"P":return Cn.PUNCT;case"M":return Cn.MIXED;case"D":return Cn.DIGIT;case"B":return Cn.BINARY;default:return Cn.UPPER}}static getCharacter(s,l){switch(s){case Cn.UPPER:return v.UPPER_TABLE[l];case Cn.LOWER:return v.LOWER_TABLE[l];case Cn.MIXED:return v.MIXED_TABLE[l];case Cn.PUNCT:return v.PUNCT_TABLE[l];case Cn.DIGIT:return v.DIGIT_TABLE[l];default:throw new Vr("Bad table")}}correctBits(s){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=et.AZTEC_DATA_10):(u=12,l=et.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),f=s.length/u;if(f<d)throw new re;let p=s.length%u,y=new Int32Array(f);for(let I=0;I<f;I++,p+=u)y[I]=v.readCode(s,p,u);try{new Ro(l).decode(y,f-d)}catch(I){throw new re(I)}let C=(1<<u)-1,E=0;for(let I=0;I<d;I++){let N=y[I];if(0===N||N===C)throw new re;(1===N||N===C-1)&&E++}let _=new Array(d*u-E),A=0;for(let I=0;I<d;I++){let N=y[I];if(1===N||N===C-1)_.fill(N>1,A,A+u-1),A+=u-1;else for(let O=u-1;O>=0;--O)_[A++]=0!=(N&1<<O)}return _}extractBits(s){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),d=(l?11:14)+4*u,f=new Int32Array(d),p=new Array(this.totalBitsInLayer(u,l));if(l)for(let y=0;y<f.length;y++)f[y]=y;else{let y=d+1+2*Te.truncDivision(Te.truncDivision(d,2)-1,15),C=d/2,E=Te.truncDivision(y,2);for(let _=0;_<C;_++){let A=_+Te.truncDivision(_,15);f[C-_-1]=E-A-1,f[C+_]=E+A+1}}for(let y=0,C=0;y<u;y++){let E=4*(u-y)+(l?9:12),_=2*y,A=d-1-_;for(let I=0;I<E;I++){let N=2*I;for(let O=0;O<2;O++)p[C+N+O]=s.get(f[_+O],f[_+I]),p[C+2*E+N+O]=s.get(f[_+I],f[A-O]),p[C+4*E+N+O]=s.get(f[A-O],f[A-I]),p[C+6*E+N+O]=s.get(f[A-I],f[_+O])}C+=8*E}return p}static readCode(s,l,u){let d=0;for(let f=l;f<l+u;f++)d<<=1,s[f]&&(d|=1);return d}static readByte(s,l){let u=s.length-l;return u>=8?v.readCode(s,l,8):v.readCode(s,l,u)<<8-u}static convertBoolArrayToByteArray(s){let l=new Uint8Array((s.length+7)/8);for(let u=0;u<l.length;u++)l[u]=v.readByte(s,8*u);return l}totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}return v.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],v.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],v.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],v.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],v.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],v})();class Qe{constructor(){}static round(o){return NaN===o?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,s,l,u){const d=o-l,f=s-u;return Math.sqrt(d*d+f*f)}static sum(o){let s=0;for(let l=0,u=o.length;l!==u;l++)s+=o[l];return s}}class $a{static floatToIntBits(o){return o}}$a.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(o,s){this.x=o,this.y=s}getX(){return this.x}getY(){return this.y}equals(o){return o instanceof me&&this.x===o.x&&this.y===o.y}hashCode(){return 31*$a.floatToIntBits(this.x)+$a.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const s=this.distance(o[0],o[1]),l=this.distance(o[1],o[2]),u=this.distance(o[0],o[2]);let d,f,p;if(l>=s&&l>=u?(f=o[0],d=o[1],p=o[2]):u>=l&&u>=s?(f=o[1],d=o[0],p=o[2]):(f=o[2],d=o[0],p=o[1]),this.crossProductZ(d,f,p)<0){const y=d;d=p,p=y}o[0]=d,o[1]=f,o[2]=p}static distance(o,s){return Qe.distance(o.x,o.y,s.x,s.y)}static crossProductZ(o,s,l){const u=s.x,d=s.y;return(l.x-u)*(o.y-d)-(l.y-d)*(o.x-u)}}class fs{constructor(o,s){this.bits=o,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class qa extends fs{constructor(o,s,l,u,d){super(o,s),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let hs=(()=>{class v{constructor(s,l,u,d){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),null==l&&(l=v.INIT_SIZE),null==u&&(u=s.getWidth()/2|0),null==d&&(d=s.getHeight()/2|0);const f=l/2|0;if(this.leftInit=u-f,this.rightInit=u+f,this.upInit=d-f,this.downInit=d+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let s=this.leftInit,l=this.rightInit,u=this.upInit,d=this.downInit,f=!1,p=!0,y=!1,C=!1,E=!1,_=!1,A=!1;const I=this.width,N=this.height;for(;p;){p=!1;let O=!0;for(;(O||!C)&&l<I;)O=this.containsBlackPoint(u,d,l,!1),O?(l++,p=!0,C=!0):C||l++;if(l>=I){f=!0;break}let F=!0;for(;(F||!E)&&d<N;)F=this.containsBlackPoint(s,l,d,!0),F?(d++,p=!0,E=!0):E||d++;if(d>=N){f=!0;break}let U=!0;for(;(U||!_)&&s>=0;)U=this.containsBlackPoint(u,d,s,!1),U?(s--,p=!0,_=!0):_||s--;if(s<0){f=!0;break}let K=!0;for(;(K||!A)&&u>=0;)K=this.containsBlackPoint(s,l,u,!0),K?(u--,p=!0,A=!0):A||u--;if(u<0){f=!0;break}p&&(y=!0)}if(!f&&y){const O=l-s;let F=null;for(let j=1;null===F&&j<O;j++)F=this.getBlackPointOnSegment(s,d-j,s+j,d);if(null==F)throw new W;let U=null;for(let j=1;null===U&&j<O;j++)U=this.getBlackPointOnSegment(s,u+j,s+j,u);if(null==U)throw new W;let K=null;for(let j=1;null===K&&j<O;j++)K=this.getBlackPointOnSegment(l,u+j,l-j,u);if(null==K)throw new W;let oe=null;for(let j=1;null===oe&&j<O;j++)oe=this.getBlackPointOnSegment(l,d-j,l-j,d);if(null==oe)throw new W;return this.centerEdges(oe,F,K,U)}throw new W}getBlackPointOnSegment(s,l,u,d){const f=Qe.round(Qe.distance(s,l,u,d)),p=(u-s)/f,y=(d-l)/f,C=this.image;for(let E=0;E<f;E++){const _=Qe.round(s+E*p),A=Qe.round(l+E*y);if(C.get(_,A))return new me(_,A)}return null}centerEdges(s,l,u,d){const f=s.getX(),p=s.getY(),y=l.getX(),C=l.getY(),E=u.getX(),_=u.getY(),A=d.getX(),I=d.getY(),N=v.CORR;return f<this.width/2?[new me(A-N,I+N),new me(y+N,C+N),new me(E-N,_-N),new me(f+N,p-N)]:[new me(A+N,I+N),new me(y+N,C-N),new me(E-N,_+N),new me(f-N,p-N)]}containsBlackPoint(s,l,u,d){const f=this.image;if(d){for(let p=s;p<=l;p++)if(f.get(p,u))return!0}else for(let p=s;p<=l;p++)if(f.get(u,p))return!0;return!1}}return v.INIT_SIZE=10,v.CORR=1,v})();class Oo{static checkAndNudgePoints(o,s){const l=o.getWidth(),u=o.getHeight();let d=!0;for(let f=0;f<s.length&&d;f+=2){const p=Math.floor(s[f]),y=Math.floor(s[f+1]);if(p<-1||p>l||y<-1||y>u)throw new W;d=!1,-1===p?(s[f]=0,d=!0):p===l&&(s[f]=l-1,d=!0),-1===y?(s[f+1]=0,d=!0):y===u&&(s[f+1]=u-1,d=!0)}d=!0;for(let f=s.length-2;f>=0&&d;f-=2){const p=Math.floor(s[f]),y=Math.floor(s[f+1]);if(p<-1||p>l||y<-1||y>u)throw new W;d=!1,-1===p?(s[f]=0,d=!0):p===l&&(s[f]=l-1,d=!0),-1===y?(s[f+1]=0,d=!0):y===u&&(s[f+1]=u-1,d=!0)}}}class ar{constructor(o,s,l,u,d,f,p,y,C){this.a11=o,this.a21=s,this.a31=l,this.a12=u,this.a22=d,this.a32=f,this.a13=p,this.a23=y,this.a33=C}static quadrilateralToQuadrilateral(o,s,l,u,d,f,p,y,C,E,_,A,I,N,O,F){const U=ar.quadrilateralToSquare(o,s,l,u,d,f,p,y);return ar.squareToQuadrilateral(C,E,_,A,I,N,O,F).times(U)}transformPoints(o){const s=o.length,l=this.a11,u=this.a12,d=this.a13,f=this.a21,p=this.a22,y=this.a23,C=this.a31,E=this.a32,_=this.a33;for(let A=0;A<s;A+=2){const I=o[A],N=o[A+1],O=d*I+y*N+_;o[A]=(l*I+f*N+C)/O,o[A+1]=(u*I+p*N+E)/O}}transformPointsWithValues(o,s){const l=this.a11,u=this.a12,d=this.a13,f=this.a21,p=this.a22,y=this.a23,C=this.a31,E=this.a32,_=this.a33,A=o.length;for(let I=0;I<A;I++){const N=o[I],O=s[I],F=d*N+y*O+_;o[I]=(l*N+f*O+C)/F,s[I]=(u*N+p*O+E)/F}}static squareToQuadrilateral(o,s,l,u,d,f,p,y){const C=o-l+d-p,E=s-u+f-y;if(0===C&&0===E)return new ar(l-o,d-l,o,u-s,f-u,s,0,0,1);{const _=l-d,A=p-d,I=u-f,N=y-f,O=_*N-A*I,F=(C*N-A*E)/O,U=(_*E-C*I)/O;return new ar(l-o+F*l,p-o+U*p,o,u-s+F*u,y-s+U*y,s,F,U,1)}}static quadrilateralToSquare(o,s,l,u,d,f,p,y){return ar.squareToQuadrilateral(o,s,l,u,d,f,p,y).buildAdjoint()}buildAdjoint(){return new ar(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new ar(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class ps extends Oo{sampleGrid(o,s,l,u,d,f,p,y,C,E,_,A,I,N,O,F,U,K,oe){const j=ar.quadrilateralToQuadrilateral(u,d,f,p,y,C,E,_,A,I,N,O,F,U,K,oe);return this.sampleGridWithTransform(o,s,l,j)}sampleGridWithTransform(o,s,l,u){if(s<=0||l<=0)throw new W;const d=new rn(s,l),f=new Float32Array(2*s);for(let p=0;p<l;p++){const y=f.length,C=p+.5;for(let E=0;E<y;E+=2)f[E]=E/2+.5,f[E+1]=C;u.transformPoints(f),Oo.checkAndNudgePoints(o,f);try{for(let E=0;E<y;E+=2)o.get(Math.floor(f[E]),Math.floor(f[E+1]))&&d.set(E/2,p)}catch{throw new W}}return d}}class Ur{static setGridSampler(o){Ur.gridSampler=o}static getInstance(){return Ur.gridSampler}}Ur.gridSampler=new ps;class An{constructor(o,s){this.x=o,this.y=s}toResultPoint(){return new me(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Pc{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let s=this.getMatrixCenter(),l=this.getBullsEyeCorners(s);if(o){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new qa(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!(this.isValidPoint(o[0])&&this.isValidPoint(o[1])&&this.isValidPoint(o[2])&&this.isValidPoint(o[3])))throw new W;let s=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(o[0],o[1],s),this.sampleLine(o[1],o[2],s),this.sampleLine(o[2],o[3],s),this.sampleLine(o[3],o[0],s)]);this.shift=this.getRotation(l,s);let u=0;for(let f=0;f<4;f++){let p=l[(this.shift+f)%4];this.compact?(u<<=7,u+=p>>1&127):(u<<=10,u+=(p>>2&992)+(p>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=1+(d>>6),this.nbDataBlocks=1+(63&d)):(this.nbLayers=1+(d>>11),this.nbDataBlocks=1+(2047&d))}getRotation(o,s){let l=0;o.forEach((u,d,f)=>{l=(u>>s-2<<1)+(1&u)+(l<<3)}),l=((1&l)<<11)+(l>>1);for(let u=0;u<4;u++)if(Te.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new W}getCorrectedParameterData(o,s){let l,u;s?(l=7,u=2):(l=10,u=4);let d=l-u,f=new Int32Array(l);for(let y=l-1;y>=0;--y)f[y]=15&o,o>>=4;try{new Ro(et.AZTEC_PARAM).decode(f,d)}catch{throw new W}let p=0;for(let y=0;y<u;y++)p=(p<<4)+f[y];return p}getBullsEyeCorners(o){let s=o,l=o,u=o,d=o,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let _=this.getFirstDifferent(s,f,1,-1),A=this.getFirstDifferent(l,f,1,1),I=this.getFirstDifferent(u,f,-1,1),N=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let O=this.distancePoint(N,_)*this.nbCenterLayers/(this.distancePoint(d,s)*(this.nbCenterLayers+2));if(O<.75||O>1.25||!this.isWhiteOrBlackRectangle(_,A,I,N))break}s=_,l=A,u=I,d=N,f=!f}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new W;this.compact=5===this.nbCenterLayers;let p=new me(s.getX()+.5,s.getY()-.5),y=new me(l.getX()+.5,l.getY()+.5),C=new me(u.getX()-.5,u.getY()+.5),E=new me(d.getX()-.5,d.getY()-.5);return this.expandSquare([p,y,C,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,s,l,u;try{let p=new hs(this.image).detect();o=p[0],s=p[1],l=p[2],u=p[3]}catch{let y=this.image.getWidth()/2,C=this.image.getHeight()/2;o=this.getFirstDifferent(new An(y+7,C-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new An(y+7,C+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new An(y-7,C+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new An(y-7,C-7),!1,-1,-1).toResultPoint()}let d=Qe.round((o.getX()+u.getX()+s.getX()+l.getX())/4),f=Qe.round((o.getY()+u.getY()+s.getY()+l.getY())/4);try{let p=new hs(this.image,15,d,f).detect();o=p[0],s=p[1],l=p[2],u=p[3]}catch{o=this.getFirstDifferent(new An(d+7,f-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new An(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new An(d-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new An(d-7,f-7),!1,-1,-1).toResultPoint()}return d=Qe.round((o.getX()+u.getX()+s.getX()+l.getX())/4),f=Qe.round((o.getY()+u.getY()+s.getY()+l.getY())/4),new An(d,f)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,s,l,u,d){let f=Ur.getInstance(),p=this.getDimension(),y=p/2-this.nbCenterLayers,C=p/2+this.nbCenterLayers;return f.sampleGrid(o,p,p,y,y,C,y,C,C,y,C,s.getX(),s.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(o,s,l){let u=0,d=this.distanceResultPoint(o,s),f=d/l,p=o.getX(),y=o.getY(),C=f*(s.getX()-o.getX())/d,E=f*(s.getY()-o.getY())/d;for(let _=0;_<l;_++)this.image.get(Qe.round(p+_*C),Qe.round(y+_*E))&&(u|=1<<l-_-1);return u}isWhiteOrBlackRectangle(o,s,l,u){o=new An(o.getX()-3,o.getY()+3),s=new An(s.getX()-3,s.getY()-3),l=new An(l.getX()+3,l.getY()-3),u=new An(u.getX()+3,u.getY()+3);let f=this.getColor(u,o);if(0===f)return!1;let p=this.getColor(o,s);return p===f&&(p=this.getColor(s,l),p===f)&&(p=this.getColor(l,u),p===f)}getColor(o,s){let l=this.distancePoint(o,s),u=(s.getX()-o.getX())/l,d=(s.getY()-o.getY())/l,f=0,p=o.getX(),y=o.getY(),C=this.image.get(o.getX(),o.getY()),E=Math.ceil(l);for(let A=0;A<E;A++)p+=u,y+=d,this.image.get(Qe.round(p),Qe.round(y))!==C&&f++;let _=f/l;return _>.1&&_<.9?0:_<=.1===C?1:-1}getFirstDifferent(o,s,l,u){let d=o.getX()+l,f=o.getY()+u;for(;this.isValid(d,f)&&this.image.get(d,f)===s;)d+=l,f+=u;for(d-=l,f-=u;this.isValid(d,f)&&this.image.get(d,f)===s;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===s;)f+=u;return f-=u,new An(d,f)}expandSquare(o,s,l){let u=l/(2*s),d=o[0].getX()-o[2].getX(),f=o[0].getY()-o[2].getY(),p=(o[0].getX()+o[2].getX())/2,y=(o[0].getY()+o[2].getY())/2,C=new me(p+u*d,y+u*f),E=new me(p-u*d,y-u*f);return d=o[1].getX()-o[3].getX(),f=o[1].getY()-o[3].getY(),p=(o[1].getX()+o[3].getX())/2,y=(o[1].getY()+o[3].getY())/2,[C,new me(p+u*d,y+u*f),E,new me(p-u*d,y-u*f)]}isValid(o,s){return o>=0&&o<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(o){let s=Qe.round(o.getX()),l=Qe.round(o.getY());return this.isValid(s,l)}distancePoint(o,s){return Qe.distance(o.getX(),o.getY(),s.getX(),s.getY())}distanceResultPoint(o,s){return Qe.distance(o.getX(),o.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Te.truncDivision(this.nbLayers-4,8)+1)+15}}class gs{decode(o,s=null){let l=null,u=new Pc(o.getBlackMatrix()),d=null,f=null;try{let E=u.detectMirror(!1);d=E.getPoints(),this.reportFoundResultPoints(s,d),f=(new Oc).decode(E)}catch(E){l=E}if(null==f)try{let E=u.detectMirror(!0);d=E.getPoints(),this.reportFoundResultPoints(s,d),f=(new Oc).decode(E)}catch(E){throw l??E}let p=new Nt(f.getText(),f.getRawBytes(),f.getNumBits(),d,ue.AZTEC,yt.currentTimeMillis()),y=f.getByteSegments();null!=y&&p.putMetadata(We.BYTE_SEGMENTS,y);let C=f.getECLevel();return null!=C&&p.putMetadata(We.ERROR_CORRECTION_LEVEL,C),p}reportFoundResultPoints(o,s){if(null!=o){let l=o.get(_t.NEED_RESULT_POINT_CALLBACK);null!=l&&s.forEach((u,d,f)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class Vt{decode(o,s){try{return this.doDecode(o,s)}catch{if(s&&!0===s.get(_t.TRY_HARDER)&&o.isRotateSupported()){const d=o.rotateCounterClockwise(),f=this.doDecode(d,s),p=f.getResultMetadata();let y=270;null!==p&&!0===p.get(We.ORIENTATION)&&(y+=p.get(We.ORIENTATION)%360),f.putMetadata(We.ORIENTATION,y);const C=f.getResultPoints();if(null!==C){const E=d.getHeight();for(let _=0;_<C.length;_++)C[_]=new me(E-C[_].getY()-1,C[_].getX())}return f}throw new W}}reset(){}doDecode(o,s){const l=o.getWidth(),u=o.getHeight();let d=new Ct(l);const f=s&&!0===s.get(_t.TRY_HARDER),p=Math.max(1,u>>(f?8:5));let y;y=f?u:15;const C=Math.trunc(u/2);for(let E=0;E<y;E++){const _=Math.trunc((E+1)/2),I=C+p*(0==(1&E)?_:-_);if(I<0||I>=u)break;try{d=o.getBlackRow(I,d)}catch{continue}for(let N=0;N<2;N++){if(1===N&&(d.reverse(),s&&!0===s.get(_t.NEED_RESULT_POINT_CALLBACK))){const O=new Map;s.forEach((F,U)=>O.set(U,F)),O.delete(_t.NEED_RESULT_POINT_CALLBACK),s=O}try{const O=this.decodeRow(I,d,s);if(1===N){O.putMetadata(We.ORIENTATION,180);const F=O.getResultPoints();null!==F&&(F[0]=new me(l-F[0].getX()-1,F[0].getY()),F[1]=new me(l-F[1].getX()-1,F[1].getY()))}return O}catch{}}}throw new W}static recordPattern(o,s,l){const u=l.length;for(let C=0;C<u;C++)l[C]=0;const d=o.getSize();if(s>=d)throw new W;let f=!o.get(s),p=0,y=s;for(;y<d;){if(o.get(y)!==f)l[p]++;else{if(++p===u)break;l[p]=1,f=!f}y++}if(p!==u&&(p!==u-1||y!==d))throw new W}static recordPatternInReverse(o,s,l){let u=l.length,d=o.get(s);for(;s>0&&u>=0;)o.get(--s)!==d&&(u--,d=!d);if(u>=0)throw new W;Vt.recordPattern(o,s+1,l)}static patternMatchVariance(o,s,l){const u=o.length;let d=0,f=0;for(let C=0;C<u;C++)d+=o[C],f+=s[C];if(d<f)return Number.POSITIVE_INFINITY;const p=d/f;l*=p;let y=0;for(let C=0;C<u;C++){const E=o[C],_=s[C]*p,A=E>_?E-_:_-E;if(A>l)return Number.POSITIVE_INFINITY;y+=A}return y/d}}class ne extends Vt{static findStartPattern(o){const s=o.getSize(),l=o.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,p=!1;for(let C=l;C<s;C++)if(o.get(C)!==p)d[u]++;else{if(5===u){let E=ne.MAX_AVG_VARIANCE,_=-1;for(let A=ne.CODE_START_A;A<=ne.CODE_START_C;A++){const I=Vt.patternMatchVariance(d,ne.CODE_PATTERNS[A],ne.MAX_INDIVIDUAL_VARIANCE);I<E&&(E=I,_=A)}if(_>=0&&o.isRange(Math.max(0,f-(C-f)/2),f,!1))return Int32Array.from([f,C,_]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,p=!p}throw new W}static decodeCode(o,s,l){Vt.recordPattern(o,l,s);let u=ne.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<ne.CODE_PATTERNS.length;f++){const y=this.patternMatchVariance(s,ne.CODE_PATTERNS[f],ne.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,d=f)}if(d>=0)return d;throw new W}decodeRow(o,s,l){const u=l&&!0===l.get(_t.ASSUME_GS1),d=ne.findStartPattern(s),f=d[2];let p=0;const y=new Uint8Array(20);let C;switch(y[p++]=f,f){case ne.CODE_START_A:C=ne.CODE_CODE_A;break;case ne.CODE_START_B:C=ne.CODE_CODE_B;break;case ne.CODE_START_C:C=ne.CODE_CODE_C;break;default:throw new re}let E=!1,_=!1,A="",I=d[0],N=d[1];const O=Int32Array.from([0,0,0,0,0,0]);let F=0,U=0,K=f,oe=0,j=!0,je=!1,Ne=!1;for(;!E;){const jt=_;switch(_=!1,F=U,U=ne.decodeCode(s,O,N),y[p++]=U,U!==ne.CODE_STOP&&(j=!0),U!==ne.CODE_STOP&&(oe++,K+=oe*U),I=N,N+=O.reduce((On,uo)=>On+uo,0),U){case ne.CODE_START_A:case ne.CODE_START_B:case ne.CODE_START_C:throw new re}switch(C){case ne.CODE_CODE_A:if(U<64)A+=String.fromCharCode(Ne===je?" ".charCodeAt(0)+U:" ".charCodeAt(0)+U+128),Ne=!1;else if(U<96)A+=String.fromCharCode(Ne===je?U-64:U+64),Ne=!1;else switch(U!==ne.CODE_STOP&&(j=!1),U){case ne.CODE_FNC_1:u&&(A+=0===A.length?"]C1":String.fromCharCode(29));break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_A:!je&&Ne?(je=!0,Ne=!1):je&&Ne?(je=!1,Ne=!1):Ne=!0;break;case ne.CODE_SHIFT:_=!0,C=ne.CODE_CODE_B;break;case ne.CODE_CODE_B:C=ne.CODE_CODE_B;break;case ne.CODE_CODE_C:C=ne.CODE_CODE_C;break;case ne.CODE_STOP:E=!0}break;case ne.CODE_CODE_B:if(U<96)A+=String.fromCharCode(Ne===je?" ".charCodeAt(0)+U:" ".charCodeAt(0)+U+128),Ne=!1;else switch(U!==ne.CODE_STOP&&(j=!1),U){case ne.CODE_FNC_1:u&&(A+=0===A.length?"]C1":String.fromCharCode(29));break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_B:!je&&Ne?(je=!0,Ne=!1):je&&Ne?(je=!1,Ne=!1):Ne=!0;break;case ne.CODE_SHIFT:_=!0,C=ne.CODE_CODE_A;break;case ne.CODE_CODE_A:C=ne.CODE_CODE_A;break;case ne.CODE_CODE_C:C=ne.CODE_CODE_C;break;case ne.CODE_STOP:E=!0}break;case ne.CODE_CODE_C:if(U<100)U<10&&(A+="0"),A+=U;else switch(U!==ne.CODE_STOP&&(j=!1),U){case ne.CODE_FNC_1:u&&(A+=0===A.length?"]C1":String.fromCharCode(29));break;case ne.CODE_CODE_A:C=ne.CODE_CODE_A;break;case ne.CODE_CODE_B:C=ne.CODE_CODE_B;break;case ne.CODE_STOP:E=!0}}jt&&(C=C===ne.CODE_CODE_A?ne.CODE_CODE_B:ne.CODE_CODE_A)}const Nn=N-I;if(N=s.getNextUnset(N),!s.isRange(N,Math.min(s.getSize(),N+(N-I)/2),!1))throw new W;if(K-=oe*F,K%103!==F)throw new Yt;const Ht=A.length;if(0===Ht)throw new W;Ht>0&&j&&(A=A.substring(0,C===ne.CODE_CODE_C?Ht-2:Ht-1));const Rn=(d[1]+d[0])/2,gt=I+Nn/2,ge=y.length,bt=new Uint8Array(ge);for(let jt=0;jt<ge;jt++)bt[jt]=y[jt];const Ge=[new me(Rn,o),new me(gt,o)];return new Nt(A,bt,0,Ge,ue.CODE_128,(new Date).getTime())}}ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ne.MAX_AVG_VARIANCE=.25,ne.MAX_INDIVIDUAL_VARIANCE=.7,ne.CODE_SHIFT=98,ne.CODE_CODE_C=99,ne.CODE_CODE_B=100,ne.CODE_CODE_A=101,ne.CODE_FNC_1=102,ne.CODE_FNC_2=97,ne.CODE_FNC_3=96,ne.CODE_FNC_4_A=101,ne.CODE_FNC_4_B=100,ne.CODE_START_A=103,ne.CODE_START_B=104,ne.CODE_START_C=105,ne.CODE_STOP=106;let ms=(()=>{class v extends Vt{constructor(s=!1,l=!1){super(),this.usingCheckDigit=s,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,l,u){let d=this.counters;d.fill(0),this.decodeRowResult="";let C,E,f=v.findAsteriskPattern(l,d),p=l.getNextSet(f[1]),y=l.getSize();do{v.recordPattern(l,p,d);let F=v.toNarrowWidePattern(d);if(F<0)throw new W;C=v.patternToChar(F),this.decodeRowResult+=C,E=p;for(let U of d)p+=U;p=l.getNextSet(p)}while("*"!==C);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I,_=0;for(let F of d)_+=F;if(p!==y&&2*(p-E-_)<_)throw new W;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,U=0;for(let K=0;K<F;K++)U+=v.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(F)!==v.ALPHABET_STRING.charAt(U%43))throw new Yt;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(0===this.decodeRowResult.length)throw new W;I=this.extendedMode?v.decodeExtended(this.decodeRowResult):this.decodeRowResult;let O=E+_/2;return new Nt(I,null,0,[new me((f[1]+f[0])/2,s),new me(O,s)],ue.CODE_39,(new Date).getTime())}static findAsteriskPattern(s,l){let u=s.getSize(),d=s.getNextSet(0),f=0,p=d,y=!1,C=l.length;for(let E=d;E<u;E++)if(s.get(E)!==y)l[f]++;else{if(f===C-1){if(this.toNarrowWidePattern(l)===v.ASTERISK_ENCODING&&s.isRange(Math.max(0,p-Math.floor((E-p)/2)),p,!1))return[p,E];p+=l[0]+l[1],l.copyWithin(0,2,2+f-1),l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,y=!y}throw new W}static toNarrowWidePattern(s){let d,l=s.length,u=0;do{let f=2147483647;for(let C of s)C<f&&C>u&&(f=C);u=f,d=0;let p=0,y=0;for(let C=0;C<l;C++){let E=s[C];E>u&&(y|=1<<l-1-C,d++,p+=E)}if(3===d){for(let C=0;C<l&&d>0;C++){let E=s[C];if(E>u&&(d--,2*E>=p))return-1}return y}}while(d>3);return-1}static patternToChar(s){for(let l=0;l<v.CHARACTER_ENCODINGS.length;l++)if(v.CHARACTER_ENCODINGS[l]===s)return v.ALPHABET_STRING.charAt(l);if(s===v.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(s){let l=s.length,u="";for(let d=0;d<l;d++){let f=s.charAt(d);if("+"===f||"$"===f||"%"===f||"/"===f){let p=s.charAt(d+1),y="\0";switch(f){case"+":if(!(p>="A"&&p<="Z"))throw new re;y=String.fromCharCode(p.charCodeAt(0)+32);break;case"$":if(!(p>="A"&&p<="Z"))throw new re;y=String.fromCharCode(p.charCodeAt(0)-64);break;case"%":if(p>="A"&&p<="E")y=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")y=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")y=String.fromCharCode(p.charCodeAt(0)+43);else if("U"===p)y="\0";else if("V"===p)y="@";else if("W"===p)y="`";else{if("X"!==p&&"Y"!==p&&"Z"!==p)throw new re;y="\x7f"}break;case"/":if(p>="A"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)-32);else{if("Z"!==p)throw new re;y=":"}}u+=y,d++}else u+=f}return u}}return v.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",v.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],v.ASTERISK_ENCODING=148,v})();class vt extends Vt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,s,l){let u=this.decodeStart(s),d=this.decodeEnd(s),f=new ot;vt.decodeMiddle(s,u[1],d[0],f);let p=f.toString(),y=null;null!=l&&(y=l.get(_t.ALLOWED_LENGTHS)),null==y&&(y=vt.DEFAULT_ALLOWED_LENGTHS);let C=p.length,E=!1,_=0;for(let N of y){if(C===N){E=!0;break}N>_&&(_=N)}if(!E&&C>_&&(E=!0),!E)throw new re;const A=[new me(u[1],o),new me(d[0],o)];return new Nt(p,null,0,A,ue.ITF,(new Date).getTime())}static decodeMiddle(o,s,l,u){let d=new Int32Array(10),f=new Int32Array(5),p=new Int32Array(5);for(d.fill(0),f.fill(0),p.fill(0);s<l;){Vt.recordPattern(o,s,d);for(let C=0;C<5;C++){let E=2*C;f[C]=d[E],p[C]=d[E+1]}let y=vt.decodeDigit(f);u.append(y.toString()),y=this.decodeDigit(p),u.append(y.toString()),d.forEach(function(C){s+=C})}}decodeStart(o){let s=vt.skipWhiteSpace(o),l=vt.findGuardPattern(o,s,vt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(o,l[0]),l}validateQuietZone(o,s){let l=10*this.narrowLineWidth;l=l<s?l:s;for(let u=s-1;l>0&&u>=0&&!o.get(u);u--)l--;if(0!==l)throw new W}static skipWhiteSpace(o){const s=o.getSize(),l=o.getNextSet(0);if(l===s)throw new W;return l}decodeEnd(o){o.reverse();try{let l,s=vt.skipWhiteSpace(o);try{l=vt.findGuardPattern(o,s,vt.END_PATTERN_REVERSED[0])}catch(d){d instanceof W&&(l=vt.findGuardPattern(o,s,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,l[0]);let u=l[0];return l[0]=o.getSize()-l[1],l[1]=o.getSize()-u,l}finally{o.reverse()}}static findGuardPattern(o,s,l){let u=l.length,d=new Int32Array(u),f=o.getSize(),p=!1,y=0,C=s;d.fill(0);for(let E=s;E<f;E++)if(o.get(E)!==p)d[y]++;else{if(y===u-1){if(Vt.patternMatchVariance(d,l,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[C,E];C+=d[0]+d[1],yt.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,p=!p}throw new W}static decodeDigit(o){let s=vt.MAX_AVG_VARIANCE,l=-1,u=vt.PATTERNS.length;for(let d=0;d<u;d++){let p=Vt.patternMatchVariance(o,vt.PATTERNS[d],vt.MAX_INDIVIDUAL_VARIANCE);p<s?(s=p,l=d):p===s&&(l=-1)}if(l>=0)return l%10;throw new W}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ft extends Vt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let l,s=!1,u=0,d=Int32Array.from([0,0,0]);for(;!s;){d=Int32Array.from([0,0,0]),l=Ft.findGuardPattern(o,u,!1,this.START_END_PATTERN,d);let f=l[0];u=l[1];let p=f-(u-f);p>=0&&(s=o.isRange(p,f,!1))}return l}static checkChecksum(o){return Ft.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let s=o.length;if(0===s)return!1;let l=parseInt(o.charAt(s-1),10);return Ft.getStandardUPCEANChecksum(o.substring(0,s-1))===l}static getStandardUPCEANChecksum(o){let s=o.length,l=0;for(let u=s-1;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new re;l+=d}l*=3;for(let u=s-2;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new re;l+=d}return(1e3-l)%10}static decodeEnd(o,s){return Ft.findGuardPattern(o,s,!1,Ft.START_END_PATTERN,new Int32Array(Ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,s,l,u){return this.findGuardPattern(o,s,l,u,new Int32Array(u.length))}static findGuardPattern(o,s,l,u,d){let f=o.getSize(),p=0,y=s=l?o.getNextUnset(s):o.getNextSet(s),C=u.length,E=l;for(let _=s;_<f;_++)if(o.get(_)!==E)d[p]++;else{if(p===C-1){if(Vt.patternMatchVariance(d,u,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return Int32Array.from([y,_]);y+=d[0]+d[1];let A=d.slice(2,d.length-1);for(let I=0;I<p-1;I++)d[I]=A[I];d[p-1]=0,d[p]=0,p--}else p++;d[p]=1,E=!E}throw new W}static decodeDigit(o,s,l,u){this.recordPattern(o,l,s);let d=this.MAX_AVG_VARIANCE,f=-1,p=u.length;for(let y=0;y<p;y++){let E=Vt.patternMatchVariance(s,u[y],Ft.MAX_INDIVIDUAL_VARIANCE);E<d&&(d=E,f=y)}if(f>=0)return f;throw new W}}Ft.MAX_AVG_VARIANCE=.48,Ft.MAX_INDIVIDUAL_VARIANCE=.7,Ft.START_END_PATTERN=Int32Array.from([1,1,1]),Ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Po{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,s,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(s,l,u),f=u.toString(),p=Po.parseExtensionString(f),y=[new me((l[0]+l[1])/2,o),new me(d,o)],C=new Nt(f,null,0,y,ue.UPC_EAN_EXTENSION,(new Date).getTime());return null!=p&&C.putAllMetadata(p),C}decodeMiddle(o,s,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),f=s[1],p=0;for(let C=0;C<5&&f<d;C++){let E=Ft.decodeDigit(o,u,f,Ft.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let _ of u)f+=_;E>=10&&(p|=1<<4-C),4!==C&&(f=o.getNextSet(f),f=o.getNextUnset(f))}if(5!==l.length)throw new W;let y=this.determineCheckDigit(p);if(Po.extensionChecksum(l.toString())!==y)throw new W;return f}static extensionChecksum(o){let s=o.length,l=0;for(let u=s-2;u>=0;u-=2)l+=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let u=s-1;u>=0;u-=2)l+=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(o){for(let s=0;s<10;s++)if(o===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new W}static parseExtensionString(o){if(5!==o.length)return null;let s=Po.parseExtension5String(o);return null==s?null:new Map([[We.SUGGESTED_PRICE,s]])}static parseExtension5String(o){let s;switch(o.charAt(0)){case"0":s="\xa3";break;case"5":s="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s=""}let l=parseInt(o.substring(1)),d=l%100;return s+(l/100).toString()+"."+(d<10?"0"+d:d.toString())}}class Ya{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,s,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(s,l,u),f=u.toString(),p=Ya.parseExtensionString(f),y=[new me((l[0]+l[1])/2,o),new me(d,o)],C=new Nt(f,null,0,y,ue.UPC_EAN_EXTENSION,(new Date).getTime());return null!=p&&C.putAllMetadata(p),C}decodeMiddle(o,s,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),f=s[1],p=0;for(let y=0;y<2&&f<d;y++){let C=Ft.decodeDigit(o,u,f,Ft.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let E of u)f+=E;C>=10&&(p|=1<<1-y),1!==y&&(f=o.getNextSet(f),f=o.getNextUnset(f))}if(2!==l.length)throw new W;if(parseInt(l.toString())%4!==p)throw new W;return f}static parseExtensionString(o){return 2!==o.length?null:new Map([[We.ISSUE_NUMBER,parseInt(o)]])}}class Lc{static decodeRow(o,s,l){let u=Ft.findGuardPattern(s,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Po).decodeRow(o,s,u)}catch{return(new Ya).decodeRow(o,s,u)}}}Lc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class tt extends Ft{constructor(){super(),this.decodeRowStringBuffer="",tt.L_AND_G_PATTERNS=tt.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let s=tt.L_PATTERNS[o-10],l=new Int32Array(s.length);for(let u=0;u<s.length;u++)l[u]=s[s.length-u-1];tt.L_AND_G_PATTERNS[o]=l}}decodeRow(o,s,l){let u=tt.findStartGuardPattern(s),d=null==l?null:l.get(_t.NEED_RESULT_POINT_CALLBACK);if(null!=d){const j=new me((u[0]+u[1])/2,o);d.foundPossibleResultPoint(j)}let f=this.decodeMiddle(s,u,this.decodeRowStringBuffer),p=f.rowOffset,y=f.resultString;if(null!=d){const j=new me(p,o);d.foundPossibleResultPoint(j)}let C=this.decodeEnd(s,p);if(null!=d){const j=new me((C[0]+C[1])/2,o);d.foundPossibleResultPoint(j)}let E=C[1],_=E+(E-C[0]);if(_>=s.getSize()||!s.isRange(E,_,!1))throw new W;let A=y.toString();if(A.length<8)throw new re;if(!tt.checkChecksum(A))throw new Yt;let I=(u[1]+u[0])/2,N=(C[1]+C[0])/2,O=this.getBarcodeFormat(),F=[new me(I,o),new me(N,o)],U=new Nt(A,null,0,F,O,(new Date).getTime()),K=0;try{let j=Lc.decodeRow(o,s,C[1]);U.putMetadata(We.UPC_EAN_EXTENSION,j.getText()),U.putAllMetadata(j.getResultMetadata()),U.addResultPoints(j.getResultPoints()),K=j.getText().length}catch{}let oe=null==l?null:l.get(_t.ALLOWED_EAN_EXTENSIONS);if(null!=oe){let j=!1;for(let je in oe)if(K.toString()===je){j=!0;break}if(!j)throw new W}return U}decodeEnd(o,s){return tt.findGuardPattern(o,s,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return tt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let s=o.length;if(0===s)return!1;let l=parseInt(o.charAt(s-1),10);return tt.getStandardUPCEANChecksum(o.substring(0,s-1))===l}static getStandardUPCEANChecksum(o){let s=o.length,l=0;for(let u=s-1;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new re;l+=d}l*=3;for(let u=s-2;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new re;l+=d}return(1e3-l)%10}}let ys=(()=>{class v extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=s.getSize(),p=l[1],y=0;for(let E=0;E<6&&p<f;E++){let _=tt.decodeDigit(s,d,p,tt.L_AND_G_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+_%10);for(let A of d)p+=A;_>=10&&(y|=1<<5-E)}u=v.determineFirstDigit(u,y),p=tt.findGuardPattern(s,p,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&p<f;E++){let _=tt.decodeDigit(s,d,p,tt.L_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+_);for(let A of d)p+=A}return{rowOffset:p,resultString:u}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(s,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return String.fromCharCode("0".charCodeAt(0)+u)+s;throw new W}}return v.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],v})();class Fc extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,s,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),f=s[1];for(let y=0;y<4&&f<d;y++){let C=tt.decodeDigit(o,u,f,tt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C);for(let E of u)f+=E}f=tt.findGuardPattern(o,f,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<d;y++){let C=tt.decodeDigit(o,u,f,tt.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C);for(let E of u)f+=E}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return ue.EAN_8}}class kc extends tt{constructor(){super(...arguments),this.ean13Reader=new ys}getBarcodeFormat(){return ue.UPC_A}decode(o,s){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,s,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,s,l))}decodeMiddle(o,s,l){return this.ean13Reader.decodeMiddle(o,s,l)}maybeReturnResult(o){let s=o.getText();if("0"===s.charAt(0)){let l=new Nt(s.substring(1),null,null,o.getResultPoints(),ue.UPC_A);return null!=o.getResultMetadata()&&l.putAllMetadata(o.getResultMetadata()),l}throw new W}reset(){this.ean13Reader.reset()}}class lr extends tt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,s,l){const u=this.decodeMiddleCounters.map(C=>C);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=o.getSize();let f=s[1],p=0;for(let C=0;C<6&&f<d;C++){const E=lr.decodeDigit(o,u,f,lr.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let _ of u)f+=_;E>=10&&(p|=1<<5-C)}return{rowOffset:f,resultString:lr.determineNumSysAndCheckDigit(l,p)}}decodeEnd(o,s){return lr.findGuardPatternWithoutCounters(o,s,!0,lr.MIDDLE_END_PATTERN)}checkChecksum(o){return tt.checkChecksum(lr.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,s){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u])return String.fromCharCode("0".charCodeAt(0)+l)+o+String.fromCharCode("0".charCodeAt(0)+u);throw W.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(o){const s=o.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new ot;l.append(o.charAt(0));let u=s[5];switch(u){case 0:case 1:case 2:l.appendChars(s,0,2),l.append(u),l.append("0000"),l.appendChars(s,2,3);break;case 3:l.appendChars(s,0,3),l.append("00000"),l.appendChars(s,3,2);break;case 4:l.appendChars(s,0,4),l.append("00000"),l.append(s[4]);break;default:l.appendChars(s,0,5),l.append("0000"),l.append(u)}return o.length>=8&&l.append(o.charAt(7)),l.toString()}}lr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),lr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Bc extends Vt{constructor(o){super();let s=null==o?null:o.get(_t.POSSIBLE_FORMATS),l=[];Ze(s)?(l.push(new ys),l.push(new kc),l.push(new Fc),l.push(new lr)):(s.indexOf(ue.EAN_13)>-1&&l.push(new ys),s.indexOf(ue.UPC_A)>-1&&l.push(new kc),s.indexOf(ue.EAN_8)>-1&&l.push(new Fc),s.indexOf(ue.UPC_E)>-1&&l.push(new lr)),this.readers=l}decodeRow(o,s,l){for(let u of this.readers)try{const d=u.decodeRow(o,s,l),f=d.getBarcodeFormat()===ue.EAN_13&&"0"===d.getText().charAt(0),p=null==l?null:l.get(_t.POSSIBLE_FORMATS),y=null==p||p.includes(ue.UPC_A);if(f&&y){const C=d.getRawBytes(),E=new Nt(d.getText().substring(1),C,C?C.length:null,d.getResultPoints(),ue.UPC_A);return E.putAllMetadata(d.getResultMetadata()),E}return d}catch{}throw new W}reset(){for(let o of this.readers)o.reset()}}let ri=(()=>{class v extends Vt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,l){for(let u=0;u<l.length;u++)if(Vt.patternMatchVariance(s,l[u],v.MAX_INDIVIDUAL_VARIANCE)<v.MAX_AVG_VARIANCE)return u;throw new W}static count(s){return Qe.sum(new Int32Array(s))}static increment(s,l){let u=0,d=l[0];for(let f=1;f<s.length;f++)l[f]>d&&(d=l[f],u=f);s[u]++}static decrement(s,l){let u=0,d=l[0];for(let f=1;f<s.length;f++)l[f]<d&&(d=l[f],u=f);s[u]--}static isFinderPattern(s){let l=s[0]+s[1],d=l/(l+s[2]+s[3]);if(d>=v.MIN_FINDER_PATTERN_RATIO&&d<=v.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let y of s)y>p&&(p=y),y<f&&(f=y);return p<10*f}return!1}}return v.MAX_AVG_VARIANCE=.2,v.MAX_INDIVIDUAL_VARIANCE=.45,v.MIN_FINDER_PATTERN_RATIO=9.5/12,v.MAX_FINDER_PATTERN_RATIO=12.5/14,v})();class Ni{constructor(o,s){this.value=o,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){return o instanceof Ni&&this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Lo{constructor(o,s,l,u,d){this.value=o,this.startEnd=s,this.value=o,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new me(l,d)),this.resultPoints.push(new me(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){return o instanceof Lo&&this.value===o.value}hashCode(){return this.value}}class cr{constructor(){}static getRSSvalue(o,s,l){let u=0;for(let y of o)u+=y;let d=0,f=0,p=o.length;for(let y=0;y<p-1;y++){let C;for(C=1,f|=1<<y;C<o[y];C++,f&=~(1<<y)){let E=cr.combins(u-C-1,p-y-2);if(l&&0===f&&u-C-(p-y-1)>=p-y-1&&(E-=cr.combins(u-C-(p-y),p-y-2)),p-y-1>1){let _=0;for(let A=u-C-(p-y-2);A>s;A--)_+=cr.combins(u-C-A-1,p-y-3);E-=_*(p-1-y)}else u-C>s&&E--;d+=E}u-=C}return d}static combins(o,s){let l,u;o-s>s?(u=s,l=o-s):(u=o-s,l=s);let d=1,f=1;for(let p=o;p>l;p--)d*=p,f<=u&&(d/=f,f++);for(;f<=u;)d/=f,f++;return d}}class Vc{static buildBitArray(o){let s=2*o.length-1;null==o[o.length-1].getRightChar()&&(s-=1);let u=new Ct(12*s),d=0,p=o[0].getRightChar().getValue();for(let y=11;y>=0;--y)p&1<<y&&u.set(d),d++;for(let y=1;y<o.length;++y){let C=o[y],E=C.getLeftChar().getValue();for(let _=11;_>=0;--_)E&1<<_&&u.set(d),d++;if(null!=C.getRightChar()){let _=C.getRightChar().getValue();for(let A=11;A>=0;--A)_&1<<A&&u.set(d),d++}}return u}}class Ri{constructor(o,s){s?this.decodedInformation=null:(this.finished=o,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Cs{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}let Xn=(()=>{class v extends Cs{constructor(s,l){super(s),this.value=l}getValue(){return this.value}isFNC1(){return this.value===v.FNC1}}return v.FNC1="$",v})();class ii extends Cs{constructor(o,s,l){super(o),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let Oi=(()=>{class v extends Cs{constructor(s,l,u){if(super(s),l<0||l>10||u<0||u>10)throw new re;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===v.FNC1}isSecondDigitFNC1(){return this.secondDigit===v.FNC1}isAnyFNC1(){return this.firstDigit===v.FNC1||this.secondDigit===v.FNC1}}return v.FNC1=10,v})();class ie{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new W;let s=o.substring(0,2);for(let d of ie.TWO_DIGIT_DATA_LENGTH)if(d[0]===s)return d[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(2,d[2],o):ie.processFixedAI(2,d[1],o);if(o.length<3)throw new W;let l=o.substring(0,3);for(let d of ie.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(3,d[2],o):ie.processFixedAI(3,d[1],o);for(let d of ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,d[2],o):ie.processFixedAI(4,d[1],o);if(o.length<4)throw new W;let u=o.substring(0,4);for(let d of ie.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,d[2],o):ie.processFixedAI(4,d[1],o);throw new W}static processFixedAI(o,s,l){if(l.length<o)throw new W;let u=l.substring(0,o);if(l.length<o+s)throw new W;let d=l.substring(o,o+s),f=l.substring(o+s),p="("+u+")"+d,y=ie.parseFieldsInGeneralPurpose(f);return null==y?p:p+y}static processVariableAI(o,s,l){let d,u=l.substring(0,o);d=l.length<o+s?l.length:o+s;let f=l.substring(o,d),p=l.substring(d),y="("+u+")"+f,C=ie.parseFieldsInGeneralPurpose(p);return null==C?y:y+C}}ie.VARIABLE_LENGTH=[],ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ie.VARIABLE_LENGTH,20],["22",ie.VARIABLE_LENGTH,29],["30",ie.VARIABLE_LENGTH,8],["37",ie.VARIABLE_LENGTH,8],["90",ie.VARIABLE_LENGTH,30],["91",ie.VARIABLE_LENGTH,30],["92",ie.VARIABLE_LENGTH,30],["93",ie.VARIABLE_LENGTH,30],["94",ie.VARIABLE_LENGTH,30],["95",ie.VARIABLE_LENGTH,30],["96",ie.VARIABLE_LENGTH,30],["97",ie.VARIABLE_LENGTH,3],["98",ie.VARIABLE_LENGTH,30],["99",ie.VARIABLE_LENGTH,30]],ie.THREE_DIGIT_DATA_LENGTH=[["240",ie.VARIABLE_LENGTH,30],["241",ie.VARIABLE_LENGTH,30],["242",ie.VARIABLE_LENGTH,6],["250",ie.VARIABLE_LENGTH,30],["251",ie.VARIABLE_LENGTH,30],["253",ie.VARIABLE_LENGTH,17],["254",ie.VARIABLE_LENGTH,20],["400",ie.VARIABLE_LENGTH,30],["401",ie.VARIABLE_LENGTH,30],["402",17],["403",ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ie.VARIABLE_LENGTH,20],["421",ie.VARIABLE_LENGTH,15],["422",3],["423",ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ie.VARIABLE_LENGTH,15],["391",ie.VARIABLE_LENGTH,18],["392",ie.VARIABLE_LENGTH,15],["393",ie.VARIABLE_LENGTH,18],["703",ie.VARIABLE_LENGTH,30]],ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ie.VARIABLE_LENGTH,20],["8003",ie.VARIABLE_LENGTH,30],["8004",ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ie.VARIABLE_LENGTH,30],["8008",ie.VARIABLE_LENGTH,12],["8018",18],["8020",ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ie.VARIABLE_LENGTH,70],["8200",ie.VARIABLE_LENGTH,70]];class no{constructor(o){this.buffer=new ot,this.information=o}decodeAllCodes(o,s){let l=s,u=null;for(;;){let d=this.decodeGeneralPurposeField(l,u),f=ie.parseFieldsInGeneralPurpose(d.getNewString());if(null!=f&&o.append(f),u=d.isRemaining()?""+d.getRemainingValue():null,l===d.getNewPosition())break;l=d.getNewPosition()}return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let s=o;s<o+3;++s)if(this.information.get(s))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(o,4);return new Oi(this.information.getSize(),0===d?Oi.FNC1:d-1,Oi.FNC1)}let s=this.extractNumericValueFromBitArray(o,7);return new Oi(o+7,(s-8)/11,(s-8)%11)}extractNumericValueFromBitArray(o,s){return no.extractNumericValueFromBitArray(this.information,o,s)}static extractNumericValueFromBitArray(o,s,l){let u=0;for(let d=0;d<l;++d)o.get(s+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(o,s){this.buffer.setLengthToZero(),null!=s&&this.buffer.append(s),this.current.setPosition(o);let l=this.parseBlocks();return null!=l&&l.isRemaining()?new ii(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new ii(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,s;do{let l=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),o=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),o=s.isFinished()):(s=this.parseNumericBlock(),o=s.isFinished()),l===this.current.getPosition()&&!o)break}while(!o);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let s;return s=o.isSecondDigitFNC1()?new ii(this.current.getPosition(),this.buffer.toString()):new ii(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Ri(!0,s)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let s=new ii(this.current.getPosition(),this.buffer.toString());return new Ri(!0,s)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ri(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let s=new ii(this.current.getPosition(),this.buffer.toString());return new Ri(!0,s)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ri(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let s=new ii(this.current.getPosition(),this.buffer.toString());return new Ri(!0,s)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ri(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(o,5);if(s>=5&&s<16)return!0;if(o+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,7);if(l>=64&&l<116)return!0;if(o+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,8);return u>=232&&u<253}decodeIsoIec646(o){let s=this.extractNumericValueFromBitArray(o,5);if(15===s)return new Xn(o+5,Xn.FNC1);if(s>=5&&s<15)return new Xn(o+5,"0"+(s-5));let d,l=this.extractNumericValueFromBitArray(o,7);if(l>=64&&l<90)return new Xn(o+7,""+(l+1));if(l>=90&&l<116)return new Xn(o+7,""+(l+7));switch(this.extractNumericValueFromBitArray(o,8)){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new re}return new Xn(o+8,d)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(o,5);if(s>=5&&s<16)return!0;if(o+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,6);return l>=16&&l<63}decodeAlphanumeric(o){let s=this.extractNumericValueFromBitArray(o,5);if(15===s)return new Xn(o+5,Xn.FNC1);if(s>=5&&s<15)return new Xn(o+5,"0"+(s-5));let u,l=this.extractNumericValueFromBitArray(o,6);if(l>=32&&l<58)return new Xn(o+6,""+(l+33));switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new Vr("Decoding invalid alphanumeric value: "+l)}return new Xn(o+6,u)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let s=0;s<5&&s+o<this.information.getSize();++s)if(2===s){if(!this.information.get(o+2))return!1}else if(this.information.get(o+s))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let s=o;s<o+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let s=0;s<4&&s+o<this.information.getSize();++s)if(this.information.get(o+s))return!1;return!0}}class Xa{constructor(o){this.information=o,this.generalDecoder=new no(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let ur=(()=>{class v extends Xa{constructor(s){super(s)}encodeCompressedGtin(s,l){s.append("(01)");let u=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,l,u)}encodeCompressedGtinWithoutAI(s,l,u){for(let d=0;d<4;++d){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*d,10);f/100==0&&s.append("0"),f/10==0&&s.append("0"),s.append(f)}v.appendCheckDigit(s,u)}static appendCheckDigit(s,l){let u=0;for(let d=0;d<13;d++){let f=s.charAt(d+l).charCodeAt(0)-"0".charCodeAt(0);u+=1&d?f:3*f}u=10-u%10,10===u&&(u=0),s.append(u)}}return v.GTIN_SIZE=40,v})(),xf=(()=>{class v extends ur{constructor(s){super(s)}parseInformation(){let s=new ot;s.append("(01)");let l=s.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(v.HEADER_SIZE,4);return s.append(u),this.encodeCompressedGtinWithoutAI(s,v.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(s,v.HEADER_SIZE+44)}}return v.HEADER_SIZE=4,v})(),Uc=(()=>{class v extends Xa{constructor(s){super(s)}parseInformation(){let s=new ot;return this.getGeneralDecoder().decodeAllCodes(s,v.HEADER_SIZE)}}return v.HEADER_SIZE=5,v})();class vs extends ur{constructor(o){super(o)}encodeCompressedWeight(o,s,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s,l);this.addWeightCode(o,u);let d=this.checkWeight(u),f=1e5;for(let p=0;p<5;++p)d/f==0&&o.append("0"),f/=10;o.append(d)}}let Hc=(()=>{class v extends vs{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=v.HEADER_SIZE+vs.GTIN_SIZE+v.WEIGHT_SIZE)throw new W;let s=new ot;return this.encodeCompressedGtin(s,v.HEADER_SIZE),this.encodeCompressedWeight(s,v.HEADER_SIZE+vs.GTIN_SIZE,v.WEIGHT_SIZE),s.toString()}}return v.HEADER_SIZE=5,v.WEIGHT_SIZE=15,v})();class Hr extends Hc{constructor(o){super(o)}addWeightCode(o,s){o.append("(3103)")}checkWeight(o){return o}}class _f extends Hc{constructor(o){super(o)}addWeightCode(o,s){o.append(s<1e4?"(3202)":"(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}let un=(()=>{class v extends ur{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<v.HEADER_SIZE+ur.GTIN_SIZE)throw new W;let s=new ot;this.encodeCompressedGtin(s,v.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(v.HEADER_SIZE+ur.GTIN_SIZE,v.LAST_DIGIT_SIZE);s.append("(392"),s.append(l),s.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(v.HEADER_SIZE+ur.GTIN_SIZE+v.LAST_DIGIT_SIZE,null);return s.append(u.getNewString()),s.toString()}}return v.HEADER_SIZE=8,v.LAST_DIGIT_SIZE=2,v})(),ro=(()=>{class v extends ur{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<v.HEADER_SIZE+ur.GTIN_SIZE)throw new W;let s=new ot;this.encodeCompressedGtin(s,v.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(v.HEADER_SIZE+ur.GTIN_SIZE,v.LAST_DIGIT_SIZE);s.append("(393"),s.append(l),s.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(v.HEADER_SIZE+ur.GTIN_SIZE+v.LAST_DIGIT_SIZE,v.FIRST_THREE_DIGITS_SIZE);u/100==0&&s.append("0"),u/10==0&&s.append("0"),s.append(u);let d=this.getGeneralDecoder().decodeGeneralPurposeField(v.HEADER_SIZE+ur.GTIN_SIZE+v.LAST_DIGIT_SIZE+v.FIRST_THREE_DIGITS_SIZE,null);return s.append(d.getNewString()),s.toString()}}return v.HEADER_SIZE=8,v.LAST_DIGIT_SIZE=2,v.FIRST_THREE_DIGITS_SIZE=10,v})(),dn=(()=>{class v extends vs{constructor(s,l,u){super(s),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=v.HEADER_SIZE+v.GTIN_SIZE+v.WEIGHT_SIZE+v.DATE_SIZE)throw new W;let s=new ot;return this.encodeCompressedGtin(s,v.HEADER_SIZE),this.encodeCompressedWeight(s,v.HEADER_SIZE+v.GTIN_SIZE,v.WEIGHT_SIZE),this.encodeCompressedDate(s,v.HEADER_SIZE+v.GTIN_SIZE+v.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,v.DATE_SIZE);if(38400==u)return;s.append("("),s.append(this.dateCode),s.append(")");let d=u%32;u/=32;let f=u%12+1;u/=12;let p=u;p/10==0&&s.append("0"),s.append(p),f/10==0&&s.append("0"),s.append(f),d/10==0&&s.append("0"),s.append(d)}addWeightCode(s,l){s.append("("),s.append(this.firstAIdigits),s.append(l/1e5),s.append(")")}checkWeight(s){return s%1e5}}return v.HEADER_SIZE=8,v.WEIGHT_SIZE=20,v.DATE_SIZE=16,v})();function Af(v){try{if(v.get(1))return new xf(v);if(!v.get(2))return new Uc(v);switch(no.extractNumericValueFromBitArray(v,1,4)){case 4:return new Hr(v);case 5:return new _f(v)}switch(no.extractNumericValueFromBitArray(v,1,5)){case 12:return new un(v);case 13:return new ro(v)}switch(no.extractNumericValueFromBitArray(v,1,7)){case 56:return new dn(v,"310","11");case 57:return new dn(v,"320","11");case 58:return new dn(v,"310","13");case 59:return new dn(v,"320","13");case 60:return new dn(v,"310","15");case 61:return new dn(v,"320","15");case 62:return new dn(v,"310","17");case 63:return new dn(v,"320","17")}}catch(o){throw console.log(o),new Vr("unknown decoder: "+v)}}class oi{constructor(o,s,l,u){this.leftchar=o,this.rightchar=s,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(o,s){return o instanceof oi&&oi.equalsOrNull(o.leftchar,s.leftchar)&&oi.equalsOrNull(o.rightchar,s.rightchar)&&oi.equalsOrNull(o.finderpattern,s.finderpattern)}static equalsOrNull(o,s){return null===o?null===s:oi.equals(o,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Za{constructor(o,s,l){this.pairs=o,this.rowNumber=s,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,s){return o instanceof Za&&this.checkEqualitity(o,s)&&o.wasReversed===s.wasReversed}checkEqualitity(o,s){if(!o||!s)return;let l;return o.forEach((u,d)=>{s.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class q extends ri{constructor(o){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===o}decodeRow(o,s,l){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(o,s))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(o,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,s){let u,l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,o))}catch(d){if(d instanceof W){if(!this.pairs.length)throw new W;l=!0}}if(this.checkChecksum())return this.pairs;if(u=!!this.rows.length,this.storeRow(o,!1),u){let d=this.checkRowsBoolean(!1);if(null!=d||(d=this.checkRowsBoolean(!0),null!=d))return d}throw new W}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return o&&(this.rows=this.rows.reverse()),s}checkRows(o,s){for(let l=s;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let f of o)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(o);d.push(u);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new W}static isValidSequence(o){for(let s of q.FINDER_PATTERN_SEQUENCES){if(o.length>s.length)continue;let l=!0;for(let u=0;u<o.length;u++)if(o[u].getFinderPattern().getValue()!=s[u]){l=!1;break}if(l)return!0}return!1}storeRow(o,s){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>o){d=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),l++}d||u||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Za(this.pairs,o,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,s){for(let l of s)if(l.getPairs().length!==o.length)for(let u of l.getPairs())for(let d of o)if(oi.equals(u,d))break}static isPartialRow(o,s){for(let l of s){let u=!0;for(let d of o){let f=!1;for(let p of l.getPairs())if(d.equals(p)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=Af(Vc.buildBitArray(o)).parseInformation(),d=o[0].getFinderPattern().getResultPoints(),f=o[o.length-1].getFinderPattern().getResultPoints();return new Nt(u,null,null,[d[0],d[1],f[0],f[1]],ue.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),s=o.getLeftChar(),l=o.getRightChar();if(null==l)return!1;let u=l.getChecksumPortion(),d=2;for(let p=1;p<this.pairs.size();++p){let y=this.pairs.get(p);u+=y.getLeftChar().getChecksumPortion(),d++;let C=y.getRightChar();null!=C&&(u+=C.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==s.getValue()}static getNextSecondBar(o,s){let l;return o.get(s)?(l=o.getNextUnset(s),l=o.getNextSet(l)):(l=o.getNextSet(s),l=o.getNextUnset(l)),l}retrieveNextPair(o,s,l){let u=s.length%2==0;this.startFromEven&&(u=!u);let d,f=!0,p=-1;do{this.findNextPair(o,s,p),d=this.parseFoundFinderPattern(o,l,u),null==d?p=q.getNextSecondBar(o,this.startEnd[0]):f=!1}while(f);let C,y=this.decodeDataCharacter(o,d,u,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new W;try{C=this.decodeDataCharacter(o,d,u,!1)}catch(E){C=null,this.verbose&&console.log(E)}return new oi(y,C,d,!0)}isEmptyPair(o){return 0===o.length}findNextPair(o,s,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f,d=o.getSize();f=l>=0?l:this.isEmptyPair(s)?0:s[s.length-1].getFinderPattern().getStartEnd()[1];let p=s.length%2!=0;this.startFromEven&&(p=!p);let y=!1;for(;f<d&&(y=!o.get(f),y);)f++;let C=0,E=f;for(let _=f;_<d;_++)if(o.get(_)!=y)u[C]++;else{if(3==C){if(p&&q.reverseCounters(u),q.isFinderPattern(u))return this.startEnd[0]=E,void(this.startEnd[1]=_);p&&q.reverseCounters(u),E+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,C--}else C++;u[C]=1,y=!y}throw new W}static reverseCounters(o){let s=o.length;for(let l=0;l<s/2;++l){let u=o[l];o[l]=o[s-l-1],o[s-l-1]=u}}parseFoundFinderPattern(o,s,l){let u,d,f;if(l){let C=this.startEnd[0]-1;for(;C>=0&&!o.get(C);)C--;C++,u=this.startEnd[0]-C,d=C,f=this.startEnd[1]}else d=this.startEnd[0],f=o.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let y,p=this.getDecodeFinderCounters();yt.arraycopy(p,0,p,1,p.length-1),p[0]=u;try{y=this.parseFinderValue(p,q.FINDER_PATTERNS)}catch{return null}return new Lo(y,[d,f],d,f,s)}decodeDataCharacter(o,s,l,u){let d=this.getDataCharacterCounters();for(let gt=0;gt<d.length;gt++)d[gt]=0;if(u)q.recordPatternInReverse(o,s.getStartEnd()[0],d);else{q.recordPattern(o,s.getStartEnd()[1],d);for(let gt=0,ge=d.length-1;gt<ge;gt++,ge--){let bt=d[gt];d[gt]=d[ge],d[ge]=bt}}let p=Qe.sum(new Int32Array(d))/17,y=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(p-y)/y>.3)throw new W;let C=this.getOddCounts(),E=this.getEvenCounts(),_=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let gt=0;gt<d.length;gt++){let ge=1*d[gt]/p,bt=ge+.5;if(bt<1){if(ge<.3)throw new W;bt=1}else if(bt>8){if(ge>8.7)throw new W;bt=8}let Ge=gt/2;1&gt?(E[Ge]=bt,A[Ge]=ge-bt):(C[Ge]=bt,_[Ge]=ge-bt)}this.adjustOddEvenCounts(17);let I=4*s.getValue()+(l?0:2)+(u?0:1)-1,N=0,O=0;for(let gt=C.length-1;gt>=0;gt--)q.isNotA1left(s,l,u)&&(O+=C[gt]*q.WEIGHTS[I][2*gt]),N+=C[gt];let F=0;for(let gt=E.length-1;gt>=0;gt--)q.isNotA1left(s,l,u)&&(F+=E[gt]*q.WEIGHTS[I][2*gt+1]);let U=O+F;if(1&N||N>13||N<4)throw new W;let K=(13-N)/2,oe=q.SYMBOL_WIDEST[K],j=9-oe,je=cr.getRSSvalue(C,oe,!0),Ne=cr.getRSSvalue(E,j,!1);return new Ni(je*q.EVEN_TOTAL_SUBSET[K]+Ne+q.GSUM[K],U)}static isNotA1left(o,s,l){return!(0==o.getValue()&&s&&l)}adjustOddEvenCounts(o){let s=Qe.sum(new Int32Array(this.getOddCounts())),l=Qe.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;s>13?d=!0:s<4&&(u=!0);let f=!1,p=!1;l>13?p=!0:l<4&&(f=!0);let y=s+l-o,C=1==(1&s),E=0==(1&l);if(1==y)if(C){if(E)throw new W;d=!0}else{if(!E)throw new W;p=!0}else if(-1==y)if(C){if(E)throw new W;u=!0}else{if(!E)throw new W;f=!0}else{if(0!=y)throw new W;if(C){if(!E)throw new W;s<l?(u=!0,p=!0):(d=!0,f=!0)}else if(E)throw new W}if(u){if(d)throw new W;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new W;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class jc extends Ni{constructor(o,s,l){super(o,s),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class At extends ri{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,s,l){const u=this.decodePair(s,!1,o,l);At.addOrTally(this.possibleLeftPairs,u),s.reverse();let d=this.decodePair(s,!0,o,l);At.addOrTally(this.possibleRightPairs,d),s.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1)for(let p of this.possibleRightPairs)if(p.getCount()>1&&At.checkChecksum(f,p))return At.constructResult(f,p);throw new W}static addOrTally(o,s){if(null==s)return;let l=!1;for(let u of o)if(u.getValue()===s.getValue()){u.incrementCount(),l=!0;break}l||o.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,s){let l=4537077*o.getValue()+s.getValue(),u=new String(l).toString(),d=new ot;for(let C=13-u.length;C>0;C--)d.append("0");d.append(u);let f=0;for(let C=0;C<13;C++){let E=d.charAt(C).charCodeAt(0)-"0".charCodeAt(0);f+=1&C?E:3*E}f=10-f%10,10===f&&(f=0),d.append(f.toString());let p=o.getFinderPattern().getResultPoints(),y=s.getFinderPattern().getResultPoints();return new Nt(d.toString(),null,0,[p[0],p[1],y[0],y[1]],ue.RSS_14,(new Date).getTime())}static checkChecksum(o,s){let l=(o.getChecksumPortion()+16*s.getChecksumPortion())%79,u=9*o.getFinderPattern().getValue()+s.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(o,s,l,u){try{let d=this.findFinderPattern(o,s),f=this.parseFoundFinderPattern(o,l,s,d),p=null==u?null:u.get(_t.NEED_RESULT_POINT_CALLBACK);if(null!=p){let E=(d[0]+d[1])/2;s&&(E=o.getSize()-1-E),p.foundPossibleResultPoint(new me(E,l))}let y=this.decodeDataCharacter(o,f,!0),C=this.decodeDataCharacter(o,f,!1);return new jc(1597*y.getValue()+C.getValue(),y.getChecksumPortion()+4*C.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(o,s,l){let u=this.getDataCharacterCounters();for(let F=0;F<u.length;F++)u[F]=0;if(l)Vt.recordPatternInReverse(o,s.getStartEnd()[0],u);else{Vt.recordPattern(o,s.getStartEnd()[1]+1,u);for(let F=0,U=u.length-1;F<U;F++,U--){let K=u[F];u[F]=u[U],u[U]=K}}let d=l?16:15,f=Qe.sum(new Int32Array(u))/d,p=this.getOddCounts(),y=this.getEvenCounts(),C=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let F=0;F<u.length;F++){let U=u[F]/f,K=Math.floor(U+.5);K<1?K=1:K>8&&(K=8);let oe=Math.floor(F/2);1&F?(y[oe]=K,E[oe]=U-K):(p[oe]=K,C[oe]=U-K)}this.adjustOddEvenCounts(l,d);let _=0,A=0;for(let F=p.length-1;F>=0;F--)A*=9,A+=p[F],_+=p[F];let I=0,N=0;for(let F=y.length-1;F>=0;F--)I*=9,I+=y[F],N+=y[F];let O=A+3*I;if(l){if(1&_||_>12||_<4)throw new W;let F=(12-_)/2,U=At.OUTSIDE_ODD_WIDEST[F],K=9-U,oe=cr.getRSSvalue(p,U,!1),j=cr.getRSSvalue(y,K,!0);return new Ni(oe*At.OUTSIDE_EVEN_TOTAL_SUBSET[F]+j+At.OUTSIDE_GSUM[F],O)}{if(1&N||N>10||N<4)throw new W;let F=(10-N)/2,U=At.INSIDE_ODD_WIDEST[F],K=9-U,oe=cr.getRSSvalue(p,U,!0),j=cr.getRSSvalue(y,K,!1);return new Ni(j*At.INSIDE_ODD_TOTAL_SUBSET[F]+oe+At.INSIDE_GSUM[F],O)}}findFinderPattern(o,s){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=o.getSize(),d=!1,f=0;for(;f<u&&(d=!o.get(f),s!==d);)f++;let p=0,y=f;for(let C=f;C<u;C++)if(o.get(C)!==d)l[p]++;else{if(3===p){if(ri.isFinderPattern(l))return[y,C];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,p--}else p++;l[p]=1,d=!d}throw new W}parseFoundFinderPattern(o,s,l,u){let d=o.get(u[0]),f=u[0]-1;for(;f>=0&&d!==o.get(f);)f--;f++;const p=u[0]-f,y=this.getDecodeFinderCounters(),C=new Int32Array(y.length);yt.arraycopy(y,0,C,1,y.length-1),C[0]=p;const E=this.parseFinderValue(C,At.FINDER_PATTERNS);let _=f,A=u[1];return l&&(_=o.getSize()-1-_,A=o.getSize()-1-A),new Lo(E,[f,u[1]],_,A,s)}adjustOddEvenCounts(o,s){let l=Qe.sum(new Int32Array(this.getOddCounts())),u=Qe.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,p=!1,y=!1;o?(l>12?f=!0:l<4&&(d=!0),u>12?y=!0:u<4&&(p=!0)):(l>11?f=!0:l<5&&(d=!0),u>10?y=!0:u<4&&(p=!0));let C=l+u-s,E=(1&l)==(o?1:0),_=1==(1&u);if(1===C)if(E){if(_)throw new W;f=!0}else{if(!_)throw new W;y=!0}else if(-1===C)if(E){if(_)throw new W;d=!0}else{if(!_)throw new W;p=!0}else{if(0!==C)throw new W;if(E){if(!_)throw new W;l<u?(d=!0,y=!0):(f=!0,p=!0)}else if(_)throw new W}if(d){if(f)throw new W;ri.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&ri.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(y)throw new W;ri.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&ri.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}At.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],At.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],At.OUTSIDE_GSUM=[0,161,961,2015,2715],At.INSIDE_GSUM=[0,336,1036,1516],At.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],At.INSIDE_ODD_WIDEST=[2,4,6,8],At.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class io extends Vt{constructor(o,s){super(),this.readers=[],this.verbose=!0===s;const l=o?o.get(_t.POSSIBLE_FORMATS):null,u=o&&void 0!==o.get(_t.ASSUME_CODE_39_CHECK_DIGIT);l?((l.includes(ue.EAN_13)||l.includes(ue.UPC_A)||l.includes(ue.EAN_8)||l.includes(ue.UPC_E))&&this.readers.push(new Bc(o)),l.includes(ue.CODE_39)&&this.readers.push(new ms(u)),l.includes(ue.CODE_128)&&this.readers.push(new ne),l.includes(ue.ITF)&&this.readers.push(new vt),l.includes(ue.RSS_14)&&this.readers.push(new At),l.includes(ue.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new Bc(o)),this.readers.push(new ms),this.readers.push(new Bc(o)),this.readers.push(new ne),this.readers.push(new vt),this.readers.push(new At),this.readers.push(new q(this.verbose)))}decodeRow(o,s,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(o,s,l)}catch{}throw new W}reset(){this.readers.forEach(o=>o.reset())}}class nt{constructor(o,s,l){this.ecCodewords=o,this.ecBlocks=[s],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class rt{constructor(o,s){this.count=o,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class $e{constructor(o,s,l,u,d,f){this.versionNumber=o,this.symbolSizeRows=s,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=f;let p=0;const y=f.getECCodewords(),C=f.getECBlocks();for(let E of C)p+=E.getCount()*(E.getDataCodewords()+y);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,s){if(1&o||1&s)throw new re;for(let l of $e.VERSIONS)if(l.symbolSizeRows===o&&l.symbolSizeColumns===s)return l;throw new re}toString(){return""+this.versionNumber}static buildVersions(){return[new $e(1,10,10,8,8,new nt(5,new rt(1,3))),new $e(2,12,12,10,10,new nt(7,new rt(1,5))),new $e(3,14,14,12,12,new nt(10,new rt(1,8))),new $e(4,16,16,14,14,new nt(12,new rt(1,12))),new $e(5,18,18,16,16,new nt(14,new rt(1,18))),new $e(6,20,20,18,18,new nt(18,new rt(1,22))),new $e(7,22,22,20,20,new nt(20,new rt(1,30))),new $e(8,24,24,22,22,new nt(24,new rt(1,36))),new $e(9,26,26,24,24,new nt(28,new rt(1,44))),new $e(10,32,32,14,14,new nt(36,new rt(1,62))),new $e(11,36,36,16,16,new nt(42,new rt(1,86))),new $e(12,40,40,18,18,new nt(48,new rt(1,114))),new $e(13,44,44,20,20,new nt(56,new rt(1,144))),new $e(14,48,48,22,22,new nt(68,new rt(1,174))),new $e(15,52,52,24,24,new nt(42,new rt(2,102))),new $e(16,64,64,14,14,new nt(56,new rt(2,140))),new $e(17,72,72,16,16,new nt(36,new rt(4,92))),new $e(18,80,80,18,18,new nt(48,new rt(4,114))),new $e(19,88,88,20,20,new nt(56,new rt(4,144))),new $e(20,96,96,22,22,new nt(68,new rt(4,174))),new $e(21,104,104,24,24,new nt(56,new rt(6,136))),new $e(22,120,120,18,18,new nt(68,new rt(6,175))),new $e(23,132,132,20,20,new nt(62,new rt(8,163))),new $e(24,144,144,22,22,new nt(62,new rt(8,156),new rt(2,155))),new $e(25,8,18,6,16,new nt(7,new rt(1,5))),new $e(26,8,32,6,14,new nt(11,new rt(1,10))),new $e(27,12,26,10,24,new nt(14,new rt(1,16))),new $e(28,12,36,10,16,new nt(18,new rt(1,22))),new $e(29,16,36,14,16,new nt(24,new rt(1,32))),new $e(30,16,48,14,22,new nt(28,new rt(1,49)))]}}$e.VERSIONS=$e.buildVersions();class Qa{constructor(o){const s=o.getHeight();if(s<8||s>144||1&s)throw new re;this.version=Qa.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new rn(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const s=o.getHeight(),l=o.getWidth();return $e.getVersionForDimensions(s,l)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let s=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let p=!1,y=!1,C=!1,E=!1;do{if(l!==d||0!==u||p)if(l===d-2&&0===u&&3&f&&!y)o[s++]=255&this.readCorner2(d,f),l-=2,u+=2,y=!0;else if(l!==d+4||2!==u||7&f||C)if(l!==d-2||0!==u||4!=(7&f)||E){do{l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(o[s++]=255&this.readUtah(l,u,d,f)),l-=2,u+=2}while(l>=0&&u<f);l+=1,u+=3;do{l>=0&&u<f&&!this.readMappingMatrix.get(u,l)&&(o[s++]=255&this.readUtah(l,u,d,f)),l+=2,u-=2}while(l<d&&u>=0);l+=3,u+=1}else o[s++]=255&this.readCorner4(d,f),l-=2,u+=2,E=!0;else o[s++]=255&this.readCorner3(d,f),l-=2,u+=2,C=!0;else o[s++]=255&this.readCorner1(d,f),l-=2,u+=2,p=!0}while(l<d||u<f);if(s!==this.version.getTotalCodewords())throw new re;return o}readModule(o,s,l,u){return o<0&&(o+=l,s+=4-(l+4&7)),s<0&&(s+=u,o+=4-(u+4&7)),this.readMappingMatrix.set(s,o),this.mappingBitMatrix.get(s,o)}readUtah(o,s,l,u){let d=0;return this.readModule(o-2,s-2,l,u)&&(d|=1),d<<=1,this.readModule(o-2,s-1,l,u)&&(d|=1),d<<=1,this.readModule(o-1,s-2,l,u)&&(d|=1),d<<=1,this.readModule(o-1,s-1,l,u)&&(d|=1),d<<=1,this.readModule(o-1,s,l,u)&&(d|=1),d<<=1,this.readModule(o,s-2,l,u)&&(d|=1),d<<=1,this.readModule(o,s-1,l,u)&&(d|=1),d<<=1,this.readModule(o,s,l,u)&&(d|=1),d}readCorner1(o,s){let l=0;return this.readModule(o-1,0,o,s)&&(l|=1),l<<=1,this.readModule(o-1,1,o,s)&&(l|=1),l<<=1,this.readModule(o-1,2,o,s)&&(l|=1),l<<=1,this.readModule(0,s-2,o,s)&&(l|=1),l<<=1,this.readModule(0,s-1,o,s)&&(l|=1),l<<=1,this.readModule(1,s-1,o,s)&&(l|=1),l<<=1,this.readModule(2,s-1,o,s)&&(l|=1),l<<=1,this.readModule(3,s-1,o,s)&&(l|=1),l}readCorner2(o,s){let l=0;return this.readModule(o-3,0,o,s)&&(l|=1),l<<=1,this.readModule(o-2,0,o,s)&&(l|=1),l<<=1,this.readModule(o-1,0,o,s)&&(l|=1),l<<=1,this.readModule(0,s-4,o,s)&&(l|=1),l<<=1,this.readModule(0,s-3,o,s)&&(l|=1),l<<=1,this.readModule(0,s-2,o,s)&&(l|=1),l<<=1,this.readModule(0,s-1,o,s)&&(l|=1),l<<=1,this.readModule(1,s-1,o,s)&&(l|=1),l}readCorner3(o,s){let l=0;return this.readModule(o-1,0,o,s)&&(l|=1),l<<=1,this.readModule(o-1,s-1,o,s)&&(l|=1),l<<=1,this.readModule(0,s-3,o,s)&&(l|=1),l<<=1,this.readModule(0,s-2,o,s)&&(l|=1),l<<=1,this.readModule(0,s-1,o,s)&&(l|=1),l<<=1,this.readModule(1,s-3,o,s)&&(l|=1),l<<=1,this.readModule(1,s-2,o,s)&&(l|=1),l<<=1,this.readModule(1,s-1,o,s)&&(l|=1),l}readCorner4(o,s){let l=0;return this.readModule(o-3,0,o,s)&&(l|=1),l<<=1,this.readModule(o-2,0,o,s)&&(l|=1),l<<=1,this.readModule(o-1,0,o,s)&&(l|=1),l<<=1,this.readModule(0,s-2,o,s)&&(l|=1),l<<=1,this.readModule(0,s-1,o,s)&&(l|=1),l<<=1,this.readModule(1,s-1,o,s)&&(l|=1),l<<=1,this.readModule(2,s-1,o,s)&&(l|=1),l<<=1,this.readModule(3,s-1,o,s)&&(l|=1),l}extractDataRegion(o){const s=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(o.getHeight()!==s)throw new ce("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=s/u|0,p=l/d|0,E=new rn(p*d,f*u);for(let _=0;_<f;++_){const A=_*u;for(let I=0;I<p;++I){const N=I*d;for(let O=0;O<u;++O){const F=_*(u+2)+1+O,U=A+O;for(let K=0;K<d;++K)o.get(I*(d+2)+1+K,F)&&E.set(N+K,U)}}}return E}}class Ka{constructor(o,s){this.numDataCodewords=o,this.codewords=s}static getDataBlocks(o,s){const l=s.getECBlocks();let u=0;const d=l.getECBlocks();for(let O of d)u+=O.getCount();const f=new Array(u);let p=0;for(let O of d)for(let F=0;F<O.getCount();F++){const U=O.getDataCodewords(),K=l.getECCodewords()+U;f[p++]=new Ka(U,new Uint8Array(K))}const C=f[0].codewords.length-l.getECCodewords(),E=C-1;let _=0;for(let O=0;O<E;O++)for(let F=0;F<p;F++)f[F].codewords[O]=o[_++];const A=24===s.getVersionNumber(),I=A?8:p;for(let O=0;O<I;O++)f[O].codewords[C-1]=o[_++];const N=f[0].codewords.length;for(let O=C;O<N;O++)for(let F=0;F<p;F++){const U=A?(F+8)%p:F;f[U].codewords[A&&U>7?O-1:O]=o[_++]}if(_!==o.length)throw new ce;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ws{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new ce(""+o);let s=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,p=o<f?o:f,y=f-p;s=(d[u]&255>>8-p<<y)>>y,o-=p,l+=p,8===l&&(l=0,u++)}if(o>0){for(;o>=8;)s=s<<8|255&d[u],u++,o-=8;if(o>0){const f=8-o;s=s<<o|(d[u]&255>>f<<f)>>f,l+=o}}return this.bitOffset=l,this.byteOffset=u,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var on=function(v){return v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE",v}(on||{});class si{static decode(o){const s=new ws(o),l=new ot,u=new ot,d=new Array;let f=on.ASCII_ENCODE;do{if(f===on.ASCII_ENCODE)f=this.decodeAsciiSegment(s,l,u);else{switch(f){case on.C40_ENCODE:this.decodeC40Segment(s,l);break;case on.TEXT_ENCODE:this.decodeTextSegment(s,l);break;case on.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,l);break;case on.EDIFACT_ENCODE:this.decodeEdifactSegment(s,l);break;case on.BASE256_ENCODE:this.decodeBase256Segment(s,l,d);break;default:throw new re}f=on.ASCII_ENCODE}}while(f!==on.PAD_ENCODE&&s.available()>0);return u.length()>0&&l.append(u.toString()),new Pt(o,l.toString(),0===d.length?null:d,null)}static decodeAsciiSegment(o,s,l){let u=!1;do{let d=o.readBits(8);if(0===d)throw new re;if(d<=128)return u&&(d+=128),s.append(String.fromCharCode(d-1)),on.ASCII_ENCODE;if(129===d)return on.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&s.append("0"),s.append(""+f)}else switch(d){case 230:return on.C40_ENCODE;case 231:return on.BASE256_ENCODE;case 232:s.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:u=!0;break;case 236:s.append("[)>\x1e05\x1d"),l.insert(0,"\x1e\x04");break;case 237:s.append("[)>\x1e06\x1d"),l.insert(0,"\x1e\x04");break;case 238:return on.ANSIX12_ENCODE;case 239:return on.TEXT_ENCODE;case 240:return on.EDIFACT_ENCODE;default:if(254!==d||0!==o.available())throw new re}}while(o.available()>0);return on.ASCII_ENCODE}static decodeC40Segment(o,s){let l=!1;const u=[];let d=0;do{if(8===o.available())return;const f=o.readBits(8);if(254===f)return;this.parseTwoBytes(f,o.readBits(8),u);for(let p=0;p<3;p++){const y=u[p];switch(d){case 0:if(y<3)d=y+1;else{if(!(y<this.C40_BASIC_SET_CHARS.length))throw new re;{const C=this.C40_BASIC_SET_CHARS[y];l?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):s.append(C)}}break;case 1:l?(s.append(String.fromCharCode(y+128)),l=!1):s.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[y];l?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):s.append(C)}else switch(y){case 27:s.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new re}d=0;break;case 3:l?(s.append(String.fromCharCode(y+224)),l=!1):s.append(String.fromCharCode(y+96)),d=0;break;default:throw new re}}}while(o.available()>0)}static decodeTextSegment(o,s){let l=!1,u=[],d=0;do{if(8===o.available())return;const f=o.readBits(8);if(254===f)return;this.parseTwoBytes(f,o.readBits(8),u);for(let p=0;p<3;p++){const y=u[p];switch(d){case 0:if(y<3)d=y+1;else{if(!(y<this.TEXT_BASIC_SET_CHARS.length))throw new re;{const C=this.TEXT_BASIC_SET_CHARS[y];l?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):s.append(C)}}break;case 1:l?(s.append(String.fromCharCode(y+128)),l=!1):s.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[y];l?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):s.append(C)}else switch(y){case 27:s.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new re}d=0;break;case 3:if(!(y<this.TEXT_SHIFT3_SET_CHARS.length))throw new re;{const C=this.TEXT_SHIFT3_SET_CHARS[y];l?(s.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):s.append(C),d=0}break;default:throw new re}}}while(o.available()>0)}static decodeAnsiX12Segment(o,s){const l=[];do{if(8===o.available())return;const u=o.readBits(8);if(254===u)return;this.parseTwoBytes(u,o.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(f<14)s.append(String.fromCharCode(f+44));else{if(!(f<40))throw new re;s.append(String.fromCharCode(f+51))}}}}while(o.available()>0)}static parseTwoBytes(o,s,l){let u=(o<<8)+s-1,d=Math.floor(u/1600);l[0]=d,u-=1600*d,d=Math.floor(u/40),l[1]=d,l[2]=u-40*d}static decodeEdifactSegment(o,s){do{if(o.available()<=16)return;for(let l=0;l<4;l++){let u=o.readBits(6);if(31===u){const d=8-o.getBitOffset();return void(8!==d&&o.readBits(d))}32&u||(u|=64),s.append(String.fromCharCode(u))}}while(o.available()>0)}static decodeBase256Segment(o,s,l){let u=1+o.getByteOffset();const d=this.unrandomize255State(o.readBits(8),u++);let f;if(f=0===d?o.available()/8|0:d<250?d:250*(d-249)+this.unrandomize255State(o.readBits(8),u++),f<0)throw new re;const p=new Uint8Array(f);for(let y=0;y<f;y++){if(o.available()<8)throw new re;p[y]=this.unrandomize255State(o.readBits(8),u++)}l.push(p);try{s.append(cn.decode(p,De.ISO88591))}catch(y){throw new Vr("Platform does not support required encoding: "+y.message)}}static unrandomize255State(o,s){const u=o-(149*s%255+1);return u>=0?u:u+256}}si.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],si.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],si.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],si.TEXT_SHIFT2_SET_CHARS=si.C40_SHIFT2_SET_CHARS,si.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Xt{constructor(){this.rsDecoder=new Ro(et.DATA_MATRIX_FIELD_256)}decode(o){const s=new Qa(o),l=s.getVersion(),u=s.readCodewords(),d=Ka.getDataBlocks(u,l);let f=0;for(let C of d)f+=C.getNumDataCodewords();const p=new Uint8Array(f),y=d.length;for(let C=0;C<y;C++){const E=d[C],_=E.getCodewords(),A=E.getNumDataCodewords();this.correctErrors(_,A);for(let I=0;I<A;I++)p[I*y+C]=_[I]}return si.decode(p)}correctErrors(o,s){const l=new Int32Array(o);try{this.rsDecoder.decode(l,o.length-s)}catch{throw new Yt}for(let u=0;u<s;u++)o[u]=l[u]}}class Ut{constructor(o){this.image=o,this.rectangleDetector=new hs(this.image)}detect(){const o=this.rectangleDetector.detect();let s=this.detectSolid1(o);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new W;s=this.shiftToModuleCenter(s);const l=s[0],u=s[1],d=s[2],f=s[3];let p=this.transitionsBetween(l,f)+1,y=this.transitionsBetween(d,f)+1;1==(1&p)&&(p+=1),1==(1&y)&&(y+=1),4*p<7*y&&4*y<7*p&&(p=y=Math.max(p,y));let C=Ut.sampleGrid(this.image,l,u,d,f,p,y);return new fs(C,[l,u,d,f])}static shiftPoint(o,s,l){let u=(s.getX()-o.getX())/(l+1),d=(s.getY()-o.getY())/(l+1);return new me(o.getX()+u,o.getY()+d)}static moveAway(o,s,l){let u=o.getX(),d=o.getY();return u<s?u-=1:u+=1,d<l?d-=1:d+=1,new me(u,d)}detectSolid1(o){let s=o[0],l=o[1],u=o[3],d=o[2],f=this.transitionsBetween(s,l),p=this.transitionsBetween(l,u),y=this.transitionsBetween(u,d),C=this.transitionsBetween(d,s),E=f,_=[d,s,l,u];return E>p&&(E=p,_[0]=s,_[1]=l,_[2]=u,_[3]=d),E>y&&(E=y,_[0]=l,_[1]=u,_[2]=d,_[3]=s),E>C&&(_[0]=u,_[1]=d,_[2]=s,_[3]=l),_}detectSolid2(o){let s=o[0],l=o[1],u=o[2],d=o[3],f=this.transitionsBetween(s,d),p=Ut.shiftPoint(l,u,4*(f+1)),y=Ut.shiftPoint(u,l,4*(f+1));return this.transitionsBetween(p,s)<this.transitionsBetween(y,d)?(o[0]=s,o[1]=l,o[2]=u,o[3]=d):(o[0]=l,o[1]=u,o[2]=d,o[3]=s),o}correctTopRight(o){let s=o[0],l=o[1],u=o[2],d=o[3],f=this.transitionsBetween(s,d),p=this.transitionsBetween(l,d),y=Ut.shiftPoint(s,l,4*(p+1)),C=Ut.shiftPoint(u,l,4*(f+1));f=this.transitionsBetween(y,d),p=this.transitionsBetween(C,d);let E=new me(d.getX()+(u.getX()-l.getX())/(f+1),d.getY()+(u.getY()-l.getY())/(f+1)),_=new me(d.getX()+(s.getX()-l.getX())/(p+1),d.getY()+(s.getY()-l.getY())/(p+1));return this.isValid(E)?this.isValid(_)?this.transitionsBetween(y,E)+this.transitionsBetween(C,E)>this.transitionsBetween(y,_)+this.transitionsBetween(C,_)?E:_:E:this.isValid(_)?_:null}shiftToModuleCenter(o){let s=o[0],l=o[1],u=o[2],d=o[3],f=this.transitionsBetween(s,d)+1,p=this.transitionsBetween(u,d)+1,y=Ut.shiftPoint(s,l,4*p),C=Ut.shiftPoint(u,l,4*f);f=this.transitionsBetween(y,d)+1,p=this.transitionsBetween(C,d)+1,1==(1&f)&&(f+=1),1==(1&p)&&(p+=1);let A,I,E=(s.getX()+l.getX()+u.getX()+d.getX())/4,_=(s.getY()+l.getY()+u.getY()+d.getY())/4;return s=Ut.moveAway(s,E,_),l=Ut.moveAway(l,E,_),u=Ut.moveAway(u,E,_),d=Ut.moveAway(d,E,_),y=Ut.shiftPoint(s,l,4*p),y=Ut.shiftPoint(y,d,4*f),A=Ut.shiftPoint(l,s,4*p),A=Ut.shiftPoint(A,u,4*f),C=Ut.shiftPoint(u,d,4*p),C=Ut.shiftPoint(C,l,4*f),I=Ut.shiftPoint(d,u,4*p),I=Ut.shiftPoint(I,s,4*f),[y,A,C,I]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,s,l,u,d,f,p){return Ur.getInstance().sampleGrid(o,f,p,.5,.5,f-.5,.5,f-.5,p-.5,.5,p-.5,s.getX(),s.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(o,s){let l=Math.trunc(o.getX()),u=Math.trunc(o.getY()),d=Math.trunc(s.getX()),f=Math.trunc(s.getY()),p=Math.abs(f-u)>Math.abs(d-l);if(p){let O=l;l=u,u=O,O=d,d=f,f=O}let y=Math.abs(d-l),C=Math.abs(f-u),E=-y/2,_=u<f?1:-1,A=l<d?1:-1,I=0,N=this.image.get(p?u:l,p?l:u);for(let O=l,F=u;O!==d;O+=A){let U=this.image.get(p?F:O,p?O:F);if(U!==N&&(I++,N=U),E+=C,E>0){if(F===f)break;F+=_,E-=y}}return I}}let Ee=(()=>{class v{constructor(){this.decoder=new Xt}decode(s,l=null){let u,d;if(null!=l&&l.has(_t.PURE_BARCODE)){const E=v.extractPureBits(s.getBlackMatrix());u=this.decoder.decode(E),d=v.NO_POINTS}else{const E=new Ut(s.getBlackMatrix()).detect();u=this.decoder.decode(E.getBits()),d=E.getPoints()}const f=u.getRawBytes(),p=new Nt(u.getText(),f,8*f.length,d,ue.DATA_MATRIX,yt.currentTimeMillis()),y=u.getByteSegments();null!=y&&p.putMetadata(We.BYTE_SEGMENTS,y);const C=u.getECLevel();return null!=C&&p.putMetadata(We.ERROR_CORRECTION_LEVEL,C),p}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(null==l||null==u)throw new W;const d=this.moduleSize(l,s);let f=l[1],y=l[0];const E=(u[0]-y+1)/d,_=(u[1]-f+1)/d;if(E<=0||_<=0)throw new W;const A=d/2;f+=A,y+=A;const I=new rn(E,_);for(let N=0;N<_;N++){const O=f+N*d;for(let F=0;F<E;F++)s.get(y+F*d,O)&&I.set(F,N)}return I}static moduleSize(s,l){const u=l.getWidth();let d=s[0];const f=s[1];for(;d<u&&l.get(d,f);)d++;if(d===u)throw new W;const p=d-s[0];if(0===p)throw new W;return p}}return v.NO_POINTS=[],v})();var Pi=function(v){return v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H",v}(Pi||{});class ke{constructor(o,s,l){this.value=o,this.stringValue=s,this.bits=l,ke.FOR_BITS.set(l,this),ke.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return ke.L;case"M":return ke.M;case"Q":return ke.Q;case"H":return ke.H;default:throw new Vn(o+"not available")}}toString(){return this.stringValue}equals(o){return o instanceof ke&&this.value===o.value}static forBits(o){if(o<0||o>=ke.FOR_BITS.size)throw new ce;return ke.FOR_BITS.get(o)}}ke.FOR_BITS=new Map,ke.FOR_VALUE=new Map,ke.L=new ke(Pi.L,"L",1),ke.M=new ke(Pi.M,"M",0),ke.Q=new ke(Pi.Q,"Q",3),ke.H=new ke(Pi.H,"H",2);class vn{constructor(o){this.errorCorrectionLevel=ke.forBits(o>>3&3),this.dataMask=7&o}static numBitsDiffering(o,s){return Te.bitCount(o^s)}static decodeFormatInformation(o,s){const l=vn.doDecodeFormatInformation(o,s);return null!==l?l:vn.doDecodeFormatInformation(o^vn.FORMAT_INFO_MASK_QR,s^vn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,s){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of vn.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===o||f===s)return new vn(d[1]);let p=vn.numBitsDiffering(o,f);p<l&&(u=d[1],l=p),o!==s&&(p=vn.numBitsDiffering(s,f),p<l&&(u=d[1],l=p))}return l<=3?new vn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){return o instanceof vn&&this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}vn.FORMAT_INFO_MASK_QR=21522,vn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class k{constructor(o,...s){this.ecCodewordsPerBlock=o,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const s=this.ecBlocks;for(const l of s)o+=l.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(o,s){this.count=o,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ce{constructor(o,s,...l){this.versionNumber=o,this.alignmentPatternCenters=s,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const p of f)u+=p.getCount()*(p.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!=1)throw new re;try{return this.getVersionForNumber((o-17)/4)}catch{throw new re}}static getVersionForNumber(o){if(o<1||o>40)throw new ce;return Ce.VERSIONS[o-1]}static decodeVersionInformation(o){let s=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<Ce.VERSION_DECODE_INFO.length;u++){const d=Ce.VERSION_DECODE_INFO[u];if(d===o)return Ce.getVersionForNumber(u+7);const f=vn.numBitsDiffering(o,d);f<s&&(l=u+7,s=f)}return s<=3?Ce.getVersionForNumber(l):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),s=new rn(o);s.setRegion(0,0,9,9),s.setRegion(o-8,0,8,9),s.setRegion(0,o-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let f=0;f<l;f++)0===u&&(0===f||f===l-1)||u===l-1&&0===f||s.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return s.setRegion(6,9,1,o-17),s.setRegion(9,6,o-17,1),this.versionNumber>6&&(s.setRegion(o-11,0,3,6),s.setRegion(0,o-11,6,3)),s}toString(){return""+this.versionNumber}}Ce.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ce.VERSIONS=[new Ce(1,new Int32Array(0),new k(7,new D(1,19)),new k(10,new D(1,16)),new k(13,new D(1,13)),new k(17,new D(1,9))),new Ce(2,Int32Array.from([6,18]),new k(10,new D(1,34)),new k(16,new D(1,28)),new k(22,new D(1,22)),new k(28,new D(1,16))),new Ce(3,Int32Array.from([6,22]),new k(15,new D(1,55)),new k(26,new D(1,44)),new k(18,new D(2,17)),new k(22,new D(2,13))),new Ce(4,Int32Array.from([6,26]),new k(20,new D(1,80)),new k(18,new D(2,32)),new k(26,new D(2,24)),new k(16,new D(4,9))),new Ce(5,Int32Array.from([6,30]),new k(26,new D(1,108)),new k(24,new D(2,43)),new k(18,new D(2,15),new D(2,16)),new k(22,new D(2,11),new D(2,12))),new Ce(6,Int32Array.from([6,34]),new k(18,new D(2,68)),new k(16,new D(4,27)),new k(24,new D(4,19)),new k(28,new D(4,15))),new Ce(7,Int32Array.from([6,22,38]),new k(20,new D(2,78)),new k(18,new D(4,31)),new k(18,new D(2,14),new D(4,15)),new k(26,new D(4,13),new D(1,14))),new Ce(8,Int32Array.from([6,24,42]),new k(24,new D(2,97)),new k(22,new D(2,38),new D(2,39)),new k(22,new D(4,18),new D(2,19)),new k(26,new D(4,14),new D(2,15))),new Ce(9,Int32Array.from([6,26,46]),new k(30,new D(2,116)),new k(22,new D(3,36),new D(2,37)),new k(20,new D(4,16),new D(4,17)),new k(24,new D(4,12),new D(4,13))),new Ce(10,Int32Array.from([6,28,50]),new k(18,new D(2,68),new D(2,69)),new k(26,new D(4,43),new D(1,44)),new k(24,new D(6,19),new D(2,20)),new k(28,new D(6,15),new D(2,16))),new Ce(11,Int32Array.from([6,30,54]),new k(20,new D(4,81)),new k(30,new D(1,50),new D(4,51)),new k(28,new D(4,22),new D(4,23)),new k(24,new D(3,12),new D(8,13))),new Ce(12,Int32Array.from([6,32,58]),new k(24,new D(2,92),new D(2,93)),new k(22,new D(6,36),new D(2,37)),new k(26,new D(4,20),new D(6,21)),new k(28,new D(7,14),new D(4,15))),new Ce(13,Int32Array.from([6,34,62]),new k(26,new D(4,107)),new k(22,new D(8,37),new D(1,38)),new k(24,new D(8,20),new D(4,21)),new k(22,new D(12,11),new D(4,12))),new Ce(14,Int32Array.from([6,26,46,66]),new k(30,new D(3,115),new D(1,116)),new k(24,new D(4,40),new D(5,41)),new k(20,new D(11,16),new D(5,17)),new k(24,new D(11,12),new D(5,13))),new Ce(15,Int32Array.from([6,26,48,70]),new k(22,new D(5,87),new D(1,88)),new k(24,new D(5,41),new D(5,42)),new k(30,new D(5,24),new D(7,25)),new k(24,new D(11,12),new D(7,13))),new Ce(16,Int32Array.from([6,26,50,74]),new k(24,new D(5,98),new D(1,99)),new k(28,new D(7,45),new D(3,46)),new k(24,new D(15,19),new D(2,20)),new k(30,new D(3,15),new D(13,16))),new Ce(17,Int32Array.from([6,30,54,78]),new k(28,new D(1,107),new D(5,108)),new k(28,new D(10,46),new D(1,47)),new k(28,new D(1,22),new D(15,23)),new k(28,new D(2,14),new D(17,15))),new Ce(18,Int32Array.from([6,30,56,82]),new k(30,new D(5,120),new D(1,121)),new k(26,new D(9,43),new D(4,44)),new k(28,new D(17,22),new D(1,23)),new k(28,new D(2,14),new D(19,15))),new Ce(19,Int32Array.from([6,30,58,86]),new k(28,new D(3,113),new D(4,114)),new k(26,new D(3,44),new D(11,45)),new k(26,new D(17,21),new D(4,22)),new k(26,new D(9,13),new D(16,14))),new Ce(20,Int32Array.from([6,34,62,90]),new k(28,new D(3,107),new D(5,108)),new k(26,new D(3,41),new D(13,42)),new k(30,new D(15,24),new D(5,25)),new k(28,new D(15,15),new D(10,16))),new Ce(21,Int32Array.from([6,28,50,72,94]),new k(28,new D(4,116),new D(4,117)),new k(26,new D(17,42)),new k(28,new D(17,22),new D(6,23)),new k(30,new D(19,16),new D(6,17))),new Ce(22,Int32Array.from([6,26,50,74,98]),new k(28,new D(2,111),new D(7,112)),new k(28,new D(17,46)),new k(30,new D(7,24),new D(16,25)),new k(24,new D(34,13))),new Ce(23,Int32Array.from([6,30,54,78,102]),new k(30,new D(4,121),new D(5,122)),new k(28,new D(4,47),new D(14,48)),new k(30,new D(11,24),new D(14,25)),new k(30,new D(16,15),new D(14,16))),new Ce(24,Int32Array.from([6,28,54,80,106]),new k(30,new D(6,117),new D(4,118)),new k(28,new D(6,45),new D(14,46)),new k(30,new D(11,24),new D(16,25)),new k(30,new D(30,16),new D(2,17))),new Ce(25,Int32Array.from([6,32,58,84,110]),new k(26,new D(8,106),new D(4,107)),new k(28,new D(8,47),new D(13,48)),new k(30,new D(7,24),new D(22,25)),new k(30,new D(22,15),new D(13,16))),new Ce(26,Int32Array.from([6,30,58,86,114]),new k(28,new D(10,114),new D(2,115)),new k(28,new D(19,46),new D(4,47)),new k(28,new D(28,22),new D(6,23)),new k(30,new D(33,16),new D(4,17))),new Ce(27,Int32Array.from([6,34,62,90,118]),new k(30,new D(8,122),new D(4,123)),new k(28,new D(22,45),new D(3,46)),new k(30,new D(8,23),new D(26,24)),new k(30,new D(12,15),new D(28,16))),new Ce(28,Int32Array.from([6,26,50,74,98,122]),new k(30,new D(3,117),new D(10,118)),new k(28,new D(3,45),new D(23,46)),new k(30,new D(4,24),new D(31,25)),new k(30,new D(11,15),new D(31,16))),new Ce(29,Int32Array.from([6,30,54,78,102,126]),new k(30,new D(7,116),new D(7,117)),new k(28,new D(21,45),new D(7,46)),new k(30,new D(1,23),new D(37,24)),new k(30,new D(19,15),new D(26,16))),new Ce(30,Int32Array.from([6,26,52,78,104,130]),new k(30,new D(5,115),new D(10,116)),new k(28,new D(19,47),new D(10,48)),new k(30,new D(15,24),new D(25,25)),new k(30,new D(23,15),new D(25,16))),new Ce(31,Int32Array.from([6,30,56,82,108,134]),new k(30,new D(13,115),new D(3,116)),new k(28,new D(2,46),new D(29,47)),new k(30,new D(42,24),new D(1,25)),new k(30,new D(23,15),new D(28,16))),new Ce(32,Int32Array.from([6,34,60,86,112,138]),new k(30,new D(17,115)),new k(28,new D(10,46),new D(23,47)),new k(30,new D(10,24),new D(35,25)),new k(30,new D(19,15),new D(35,16))),new Ce(33,Int32Array.from([6,30,58,86,114,142]),new k(30,new D(17,115),new D(1,116)),new k(28,new D(14,46),new D(21,47)),new k(30,new D(29,24),new D(19,25)),new k(30,new D(11,15),new D(46,16))),new Ce(34,Int32Array.from([6,34,62,90,118,146]),new k(30,new D(13,115),new D(6,116)),new k(28,new D(14,46),new D(23,47)),new k(30,new D(44,24),new D(7,25)),new k(30,new D(59,16),new D(1,17))),new Ce(35,Int32Array.from([6,30,54,78,102,126,150]),new k(30,new D(12,121),new D(7,122)),new k(28,new D(12,47),new D(26,48)),new k(30,new D(39,24),new D(14,25)),new k(30,new D(22,15),new D(41,16))),new Ce(36,Int32Array.from([6,24,50,76,102,128,154]),new k(30,new D(6,121),new D(14,122)),new k(28,new D(6,47),new D(34,48)),new k(30,new D(46,24),new D(10,25)),new k(30,new D(2,15),new D(64,16))),new Ce(37,Int32Array.from([6,28,54,80,106,132,158]),new k(30,new D(17,122),new D(4,123)),new k(28,new D(29,46),new D(14,47)),new k(30,new D(49,24),new D(10,25)),new k(30,new D(24,15),new D(46,16))),new Ce(38,Int32Array.from([6,32,58,84,110,136,162]),new k(30,new D(4,122),new D(18,123)),new k(28,new D(13,46),new D(32,47)),new k(30,new D(48,24),new D(14,25)),new k(30,new D(42,15),new D(32,16))),new Ce(39,Int32Array.from([6,26,54,82,110,138,166]),new k(30,new D(20,117),new D(4,118)),new k(28,new D(40,47),new D(7,48)),new k(30,new D(43,24),new D(22,25)),new k(30,new D(10,15),new D(67,16))),new Ce(40,Int32Array.from([6,30,58,86,114,142,170]),new k(30,new D(19,118),new D(6,119)),new k(28,new D(18,47),new D(31,48)),new k(30,new D(34,24),new D(34,25)),new k(30,new D(20,15),new D(61,16)))];var qe=function(v){return v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111",v}(qe||{});class Tn{constructor(o,s){this.value=o,this.isMasked=s}unmaskBitMatrix(o,s){for(let l=0;l<s;l++)for(let u=0;u<s;u++)this.isMasked(l,u)&&o.flip(u,l)}}Tn.values=new Map([[qe.DATA_MASK_000,new Tn(qe.DATA_MASK_000,(v,o)=>0==(v+o&1))],[qe.DATA_MASK_001,new Tn(qe.DATA_MASK_001,(v,o)=>0==(1&v))],[qe.DATA_MASK_010,new Tn(qe.DATA_MASK_010,(v,o)=>o%3==0)],[qe.DATA_MASK_011,new Tn(qe.DATA_MASK_011,(v,o)=>(v+o)%3==0)],[qe.DATA_MASK_100,new Tn(qe.DATA_MASK_100,(v,o)=>0==(Math.floor(v/2)+Math.floor(o/3)&1))],[qe.DATA_MASK_101,new Tn(qe.DATA_MASK_101,(v,o)=>v*o%6==0)],[qe.DATA_MASK_110,new Tn(qe.DATA_MASK_110,(v,o)=>v*o%6<3)],[qe.DATA_MASK_111,new Tn(qe.DATA_MASK_111,(v,o)=>0==(v+o+v*o%3&1))]]);class bf{constructor(o){const s=o.getHeight();if(s<21||1!=(3&s))throw new re;this.bitMatrix=o}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let o=0;for(let d=0;d<6;d++)o=this.copyBit(d,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let d=5;d>=0;d--)o=this.copyBit(8,d,o);const s=this.bitMatrix.getHeight();let l=0;const u=s-7;for(let d=s-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=s-8;d<s;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=vn.decodeFormatInformation(o,l),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new re}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const o=this.bitMatrix.getHeight(),s=Math.floor((o-17)/4);if(s<=6)return Ce.getVersionForNumber(s);let l=0;const u=o-11;for(let f=5;f>=0;f--)for(let p=o-9;p>=u;p--)l=this.copyBit(p,f,l);let d=Ce.decodeVersionInformation(l);if(null!==d&&d.getDimensionForVersion()===o)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let p=o-9;p>=u;p--)l=this.copyBit(f,p,l);if(d=Ce.decodeVersionInformation(l),null!==d&&d.getDimensionForVersion()===o)return this.parsedVersion=d,d;throw new re}copyBit(o,s,l){return(this.isMirror?this.bitMatrix.get(s,o):this.bitMatrix.get(o,s))?l<<1|1:l<<1}readCodewords(){const o=this.readFormatInformation(),s=this.readVersion(),l=Tn.values.get(o.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=s.buildFunctionPattern();let f=!0;const p=new Uint8Array(s.getTotalCodewords());let y=0,C=0,E=0;for(let _=u-1;_>0;_-=2){6===_&&_--;for(let A=0;A<u;A++){const I=f?u-1-A:A;for(let N=0;N<2;N++)d.get(_-N,I)||(E++,C<<=1,this.bitMatrix.get(_-N,I)&&(C|=1),8===E&&(p[y++]=C,E=0,C=0))}f=!f}if(y!==s.getTotalCodewords())throw new re;return p}remask(){if(null===this.parsedFormatInfo)return;const o=Tn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,s)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let s=0,l=o.getWidth();s<l;s++)for(let u=s+1,d=o.getHeight();u<d;u++)o.get(s,u)!==o.get(u,s)&&(o.flip(u,s),o.flip(s,u))}}class pt{constructor(o,s){this.numDataCodewords=o,this.codewords=s}static getDataBlocks(o,s,l){if(o.length!==s.getTotalCodewords())throw new ce;const u=s.getECBlocksForLevel(l);let d=0;const f=u.getECBlocks();for(const N of f)d+=N.getCount();const p=new Array(d);let y=0;for(const N of f)for(let O=0;O<N.getCount();O++){const F=N.getDataCodewords(),U=u.getECCodewordsPerBlock()+F;p[y++]=new pt(F,new Uint8Array(U))}const C=p[0].codewords.length;let E=p.length-1;for(;E>=0&&p[E].codewords.length!==C;)E--;E++;const _=C-u.getECCodewordsPerBlock();let A=0;for(let N=0;N<_;N++)for(let O=0;O<y;O++)p[O].codewords[N]=o[A++];for(let N=E;N<y;N++)p[N].codewords[_]=o[A++];const I=p[0].codewords.length;for(let N=_;N<I;N++)for(let O=0;O<y;O++)p[O].codewords[O<E?N:N+1]=o[A++];return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ve=function(v){return v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI",v}(ve||{});class we{constructor(o,s,l,u){this.value=o,this.stringValue=s,this.characterCountBitsForVersions=l,this.bits=u,we.FOR_BITS.set(u,this),we.FOR_VALUE.set(o,this)}static forBits(o){const s=we.FOR_BITS.get(o);if(void 0===s)throw new ce;return s}getCharacterCountBits(o){const s=o.getVersionNumber();let l;return l=s<=9?0:s<=26?1:2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(o){return o instanceof we&&this.value===o.value}toString(){return this.stringValue}}we.FOR_BITS=new Map,we.FOR_VALUE=new Map,we.TERMINATOR=new we(ve.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),we.NUMERIC=new we(ve.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),we.ALPHANUMERIC=new we(ve.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),we.STRUCTURED_APPEND=new we(ve.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),we.BYTE=new we(ve.BYTE,"BYTE",Int32Array.from([8,16,16]),4),we.ECI=new we(ve.ECI,"ECI",Int32Array.from([0,0,0]),7),we.KANJI=new we(ve.KANJI,"KANJI",Int32Array.from([8,10,12]),8),we.FNC1_FIRST_POSITION=new we(ve.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),we.FNC1_SECOND_POSITION=new we(ve.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),we.HANZI=new we(ve.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let Es=(()=>{class v{static decode(s,l,u,d){const f=new ws(s);let p=new ot;const y=new Array;let C=-1,E=-1;try{let I,_=null,A=!1;do{if(f.available()<4)I=we.TERMINATOR;else{const N=f.readBits(4);I=we.forBits(N)}switch(I){case we.TERMINATOR:break;case we.FNC1_FIRST_POSITION:case we.FNC1_SECOND_POSITION:A=!0;break;case we.STRUCTURED_APPEND:if(f.available()<16)throw new re;C=f.readBits(8),E=f.readBits(8);break;case we.ECI:const N=v.parseECIValue(f);if(_=ee.getCharacterSetECIByValue(N),null===_)throw new re;break;case we.HANZI:const O=f.readBits(4),F=f.readBits(I.getCharacterCountBits(l));O===v.GB2312_SUBSET&&v.decodeHanziSegment(f,p,F);break;default:const U=f.readBits(I.getCharacterCountBits(l));switch(I){case we.NUMERIC:v.decodeNumericSegment(f,p,U);break;case we.ALPHANUMERIC:v.decodeAlphanumericSegment(f,p,U,A);break;case we.BYTE:v.decodeByteSegment(f,p,U,_,y,d);break;case we.KANJI:v.decodeKanjiSegment(f,p,U);break;default:throw new re}}}while(I!==we.TERMINATOR)}catch{throw new re}return new Pt(s,p.toString(),0===y.length?null:y,null===u?null:u.toString(),C,E)}static decodeHanziSegment(s,l,u){if(13*u>s.available())throw new re;const d=new Uint8Array(2*u);let f=0;for(;u>0;){const p=s.readBits(13);let y=p/96<<8&4294967295|p%96;y+=y<959?41377:42657,d[f]=y>>8&255,d[f+1]=255&y,f+=2,u--}try{l.append(cn.decode(d,De.GB2312))}catch(p){throw new re(p)}}static decodeKanjiSegment(s,l,u){if(13*u>s.available())throw new re;const d=new Uint8Array(2*u);let f=0;for(;u>0;){const p=s.readBits(13);let y=p/192<<8&4294967295|p%192;y+=y<7936?33088:49472,d[f]=y>>8,d[f+1]=y,f+=2,u--}try{l.append(cn.decode(d,De.SHIFT_JIS))}catch(p){throw new re(p)}}static decodeByteSegment(s,l,u,d,f,p){if(8*u>s.available())throw new re;const y=new Uint8Array(u);for(let E=0;E<u;E++)y[E]=s.readBits(8);let C;C=null===d?De.guessEncoding(y,p):d.getName();try{l.append(cn.decode(y,C))}catch(E){throw new re(E)}f.push(y)}static toAlphaNumericChar(s){if(s>=v.ALPHANUMERIC_CHARS.length)throw new re;return v.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,l,u,d){const f=l.length();for(;u>1;){if(s.available()<11)throw new re;const p=s.readBits(11);l.append(v.toAlphaNumericChar(Math.floor(p/45))),l.append(v.toAlphaNumericChar(p%45)),u-=2}if(1===u){if(s.available()<6)throw new re;l.append(v.toAlphaNumericChar(s.readBits(6)))}if(d)for(let p=f;p<l.length();p++)"%"===l.charAt(p)&&(p<l.length()-1&&"%"===l.charAt(p+1)?l.deleteCharAt(p+1):l.setCharAt(p,String.fromCharCode(29)))}static decodeNumericSegment(s,l,u){for(;u>=3;){if(s.available()<10)throw new re;const d=s.readBits(10);if(d>=1e3)throw new re;l.append(v.toAlphaNumericChar(Math.floor(d/100))),l.append(v.toAlphaNumericChar(Math.floor(d/10)%10)),l.append(v.toAlphaNumericChar(d%10)),u-=3}if(2===u){if(s.available()<7)throw new re;const d=s.readBits(7);if(d>=100)throw new re;l.append(v.toAlphaNumericChar(Math.floor(d/10))),l.append(v.toAlphaNumericChar(d%10))}else if(1===u){if(s.available()<4)throw new re;const d=s.readBits(4);if(d>=10)throw new re;l.append(v.toAlphaNumericChar(d))}}static parseECIValue(s){const l=s.readBits(8);if(!(128&l))return 127&l;if(128==(192&l))return(63&l)<<8&4294967295|s.readBits(8);if(192==(224&l))return(31&l)<<16&4294967295|s.readBits(16);throw new re}}return v.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",v.GB2312_SUBSET=1,v})();class Df{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||null===o||o.length<3)return;const s=o[0];o[0]=o[2],o[2]=s}}class Wc{constructor(){this.rsDecoder=new Ro(et.QR_CODE_FIELD_256)}decodeBooleanArray(o,s){return this.decodeBitMatrix(rn.parseFromBooleanArray(o),s)}decodeBitMatrix(o,s){const l=new bf(o);let u=null;try{return this.decodeBitMatrixParser(l,s)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,s);return d.setOther(new Df(!0)),d}catch(d){throw null!==u?u:d}}decodeBitMatrixParser(o,s){const l=o.readVersion(),u=o.readFormatInformation().getErrorCorrectionLevel(),d=o.readCodewords(),f=pt.getDataBlocks(d,l,u);let p=0;for(const E of f)p+=E.getNumDataCodewords();const y=new Uint8Array(p);let C=0;for(const E of f){const _=E.getCodewords(),A=E.getNumDataCodewords();this.correctErrors(_,A);for(let I=0;I<A;I++)y[C++]=_[I]}return Es.decode(y,l,u,s)}correctErrors(o,s){const l=new Int32Array(o);try{this.rsDecoder.decode(l,o.length-s)}catch{throw new Yt}for(let u=0;u<s;u++)o[u]=l[u]}}class Z extends me{constructor(o,s,l){super(o,s),this.estimatedModuleSize=l}aboutEquals(o,s,l){if(Math.abs(s-this.getY())<=o&&Math.abs(l-this.getX())<=o){const u=Math.abs(o-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(o,s,l){const u=(this.getX()+s)/2,d=(this.getY()+o)/2;return new Z(u,d,(this.estimatedModuleSize+l)/2)}}class Li{constructor(o,s,l,u,d,f,p){this.image=o,this.startX=s,this.startY=l,this.width=u,this.height=d,this.moduleSize=f,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,s=this.height,u=o+this.width,d=this.startY+s/2,f=new Int32Array(3),p=this.image;for(let y=0;y<s;y++){const C=d+(1&y?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let E=o;for(;E<u&&!p.get(E,C);)E++;let _=0;for(;E<u;){if(p.get(E,C))if(1===_)f[1]++;else if(2===_){if(this.foundPatternCross(f)){const A=this.handlePossibleCenter(f,C,E);if(null!==A)return A}f[0]=f[2],f[1]=1,f[2]=0,_=1}else f[++_]++;else 1===_&&_++,f[_]++;E++}if(this.foundPatternCross(f)){const A=this.handlePossibleCenter(f,C,u);if(null!==A)return A}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new W}static centerFromEnd(o,s){return s-o[2]-o[1]/2}foundPatternCross(o){const s=this.moduleSize,l=s/2;for(let u=0;u<3;u++)if(Math.abs(s-o[u])>=l)return!1;return!0}crossCheckVertical(o,s,l,u){const d=this.image,f=d.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let y=o;for(;y>=0&&d.get(s,y)&&p[1]<=l;)p[1]++,y--;if(y<0||p[1]>l)return NaN;for(;y>=0&&!d.get(s,y)&&p[0]<=l;)p[0]++,y--;if(p[0]>l)return NaN;for(y=o+1;y<f&&d.get(s,y)&&p[1]<=l;)p[1]++,y++;if(y===f||p[1]>l)return NaN;for(;y<f&&!d.get(s,y)&&p[2]<=l;)p[2]++,y++;return p[2]>l||5*Math.abs(p[0]+p[1]+p[2]-u)>=2*u?NaN:this.foundPatternCross(p)?Li.centerFromEnd(p,y):NaN}handlePossibleCenter(o,s,l){const u=o[0]+o[1]+o[2],d=Li.centerFromEnd(o,l),f=this.crossCheckVertical(s,d,2*o[1],u);if(!isNaN(f)){const p=(o[0]+o[1]+o[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(p,f,d))return C.combineEstimate(f,d,p);const y=new Z(d,f,p);this.possibleCenters.push(y),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class be extends me{constructor(o,s,l,u){super(o,s),this.estimatedModuleSize=l,this.count=u,void 0===u&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,s,l){if(Math.abs(s-this.getY())<=o&&Math.abs(l-this.getX())<=o){const u=Math.abs(o-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(o,s,l){const u=this.count+1,d=(this.count*this.getX()+s)/u,f=(this.count*this.getY()+o)/u;return new be(d,f,(this.count*this.estimatedModuleSize+l)/u,u)}}class st{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let If=(()=>{class v{constructor(s,l){this.image=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const l=null!=s&&void 0!==s.get(_t.TRY_HARDER),u=null!=s&&void 0!==s.get(_t.PURE_BARCODE),d=this.image,f=d.getHeight(),p=d.getWidth();let y=Math.floor(3*f/(4*v.MAX_MODULES));(y<v.MIN_SKIP||l)&&(y=v.MIN_SKIP);let C=!1;const E=new Int32Array(5);for(let A=y-1;A<f&&!C;A+=y){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let I=0;for(let N=0;N<p;N++)if(d.get(N,A))1==(1&I)&&I++,E[I]++;else if(1&I)E[I]++;else if(4===I)if(v.foundPatternCross(E)){if(!0!==this.handlePossibleCenter(E,A,N,u)){E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,I=3;continue}if(y=2,!0===this.hasSkipped)C=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>E[2]&&(A+=F-E[2]-y,N=p-1)}I=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,I=3;else E[++I]++;v.foundPatternCross(E)&&!0===this.handlePossibleCenter(E,A,p,u)&&(y=E[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const _=this.selectBestPatterns();return me.orderBestPatterns(_),new st(_)}static centerFromEnd(s,l){return l-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let l=0;for(let f=0;f<5;f++){const p=s[f];if(0===p)return!1;l+=p}if(l<7)return!1;const u=l/7,d=u/2;return Math.abs(u-s[0])<d&&Math.abs(u-s[1])<d&&Math.abs(3*u-s[2])<3*d&&Math.abs(u-s[3])<d&&Math.abs(u-s[4])<d}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,l,u,d){const f=this.getCrossCheckStateCount();let p=0;const y=this.image;for(;s>=p&&l>=p&&y.get(l-p,s-p);)f[2]++,p++;if(s<p||l<p)return!1;for(;s>=p&&l>=p&&!y.get(l-p,s-p)&&f[1]<=u;)f[1]++,p++;if(s<p||l<p||f[1]>u)return!1;for(;s>=p&&l>=p&&y.get(l-p,s-p)&&f[0]<=u;)f[0]++,p++;if(f[0]>u)return!1;const C=y.getHeight(),E=y.getWidth();for(p=1;s+p<C&&l+p<E&&y.get(l+p,s+p);)f[2]++,p++;if(s+p>=C||l+p>=E)return!1;for(;s+p<C&&l+p<E&&!y.get(l+p,s+p)&&f[3]<u;)f[3]++,p++;if(s+p>=C||l+p>=E||f[3]>=u)return!1;for(;s+p<C&&l+p<E&&y.get(l+p,s+p)&&f[4]<u;)f[4]++,p++;return!(f[4]>=u)&&Math.abs(f[0]+f[1]+f[2]+f[3]+f[4]-d)<2*d&&v.foundPatternCross(f)}crossCheckVertical(s,l,u,d){const f=this.image,p=f.getHeight(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&f.get(l,C);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!f.get(l,C)&&y[1]<=u;)y[1]++,C--;if(C<0||y[1]>u)return NaN;for(;C>=0&&f.get(l,C)&&y[0]<=u;)y[0]++,C--;if(y[0]>u)return NaN;for(C=s+1;C<p&&f.get(l,C);)y[2]++,C++;if(C===p)return NaN;for(;C<p&&!f.get(l,C)&&y[3]<u;)y[3]++,C++;if(C===p||y[3]>=u)return NaN;for(;C<p&&f.get(l,C)&&y[4]<u;)y[4]++,C++;return y[4]>=u||5*Math.abs(y[0]+y[1]+y[2]+y[3]+y[4]-d)>=2*d?NaN:v.foundPatternCross(y)?v.centerFromEnd(y,C):NaN}crossCheckHorizontal(s,l,u,d){const f=this.image,p=f.getWidth(),y=this.getCrossCheckStateCount();let C=s;for(;C>=0&&f.get(C,l);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!f.get(C,l)&&y[1]<=u;)y[1]++,C--;if(C<0||y[1]>u)return NaN;for(;C>=0&&f.get(C,l)&&y[0]<=u;)y[0]++,C--;if(y[0]>u)return NaN;for(C=s+1;C<p&&f.get(C,l);)y[2]++,C++;if(C===p)return NaN;for(;C<p&&!f.get(C,l)&&y[3]<u;)y[3]++,C++;if(C===p||y[3]>=u)return NaN;for(;C<p&&f.get(C,l)&&y[4]<u;)y[4]++,C++;return y[4]>=u||5*Math.abs(y[0]+y[1]+y[2]+y[3]+y[4]-d)>=d?NaN:v.foundPatternCross(y)?v.centerFromEnd(y,C):NaN}handlePossibleCenter(s,l,u,d){const f=s[0]+s[1]+s[2]+s[3]+s[4];let p=v.centerFromEnd(s,u),y=this.crossCheckVertical(l,Math.floor(p),s[2],f);if(!isNaN(y)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(y),s[2],f),!isNaN(p)&&(!d||this.crossCheckDiagonal(Math.floor(y),Math.floor(p),s[2],f)))){const C=f/7;let E=!1;const _=this.possibleCenters;for(let A=0,I=_.length;A<I;A++){const N=_[A];if(N.aboutEquals(C,y,p)){_[A]=N.combineEstimate(y,p,C),E=!0;break}}if(!E){const A=new be(p,y,C);_.push(A),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=v.CENTER_QUORUM){if(null!=l)return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);l=u}return 0}haveMultiplyConfirmedCenters(){let s=0,l=0;const u=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=v.CENTER_QUORUM&&(s++,l+=p.getEstimatedModuleSize());if(s<3)return!1;const d=l/u;let f=0;for(const p of this.possibleCenters)f+=Math.abs(p.getEstimatedModuleSize()-d);return f<=.05*l}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new W;const l=this.possibleCenters;let u;if(s>3){let d=0,f=0;for(const C of this.possibleCenters){const E=C.getEstimatedModuleSize();d+=E,f+=E*E}u=d/s;let p=Math.sqrt(f/s-u*u);l.sort((C,E)=>{const _=Math.abs(E.getEstimatedModuleSize()-u),A=Math.abs(C.getEstimatedModuleSize()-u);return _<A?-1:_>A?1:0});const y=Math.max(.2*u,p);for(let C=0;C<l.length&&l.length>3;C++)Math.abs(l[C].getEstimatedModuleSize()-u)>y&&(l.splice(C,1),C--)}if(l.length>3){let d=0;for(const f of l)d+=f.getEstimatedModuleSize();u=d/l.length,l.sort((f,p)=>{if(p.getCount()===f.getCount()){const y=Math.abs(p.getEstimatedModuleSize()-u),C=Math.abs(f.getEstimatedModuleSize()-u);return y<C?1:y>C?-1:0}return p.getCount()-f.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}return v.CENTER_QUORUM=2,v.MIN_SKIP=3,v.MAX_MODULES=57,v})();class xs{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=null==o?null:o.get(_t.NEED_RESULT_POINT_CALLBACK);const l=new If(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(l)}processFinderPatternInfo(o){const s=o.getTopLeft(),l=o.getTopRight(),u=o.getBottomLeft(),d=this.calculateModuleSize(s,l,u);if(d<1)throw new W("No pattern found in proccess finder.");const f=xs.computeDimension(s,l,u,d),p=Ce.getProvisionalVersionForDimension(f),y=p.getDimensionForVersion()-7;let C=null;if(p.getAlignmentPatternCenters().length>0){const I=l.getX()-s.getX()+u.getX(),N=l.getY()-s.getY()+u.getY(),O=1-3/y,F=Math.floor(s.getX()+O*(I-s.getX())),U=Math.floor(s.getY()+O*(N-s.getY()));for(let K=4;K<=16;K<<=1)try{C=this.findAlignmentInRegion(d,F,U,K);break}catch(oe){if(!(oe instanceof W))throw oe}}const E=xs.createTransform(s,l,u,C,f),_=xs.sampleGrid(this.image,E,f);let A;return A=null===C?[u,s,l]:[u,s,l,C],new fs(_,A)}static createTransform(o,s,l,u,d){const f=d-3.5;let p,y,C,E;return null!==u?(p=u.getX(),y=u.getY(),C=f-3,E=C):(p=s.getX()-o.getX()+l.getX(),y=s.getY()-o.getY()+l.getY(),C=f,E=f),ar.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,C,E,3.5,f,o.getX(),o.getY(),s.getX(),s.getY(),p,y,l.getX(),l.getY())}static sampleGrid(o,s,l){return Ur.getInstance().sampleGridWithTransform(o,l,l,s)}static computeDimension(o,s,l,u){const d=Qe.round(me.distance(o,s)/u),f=Qe.round(me.distance(o,l)/u);let p=Math.floor((d+f)/2)+7;switch(3&p){case 0:p++;break;case 2:p--;break;case 3:throw new W("Dimensions could be not found.")}return p}calculateModuleSize(o,s,l){return(this.calculateModuleSizeOneWay(o,s)+this.calculateModuleSizeOneWay(o,l))/2}calculateModuleSizeOneWay(o,s){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(o,s,l,u){let d=this.sizeOfBlackWhiteBlackRun(o,s,l,u),f=1,p=o-(l-o);p<0?(f=o/(o-p),p=0):p>=this.image.getWidth()&&(f=(this.image.getWidth()-1-o)/(p-o),p=this.image.getWidth()-1);let y=Math.floor(s-(u-s)*f);return f=1,y<0?(f=s/(s-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-s)/(y-s),y=this.image.getHeight()-1),p=Math.floor(o+(p-o)*f),d+=this.sizeOfBlackWhiteBlackRun(o,s,p,y),d-1}sizeOfBlackWhiteBlackRun(o,s,l,u){const d=Math.abs(u-s)>Math.abs(l-o);if(d){let I=o;o=s,s=I,I=l,l=u,u=I}const f=Math.abs(l-o),p=Math.abs(u-s);let y=-f/2;const C=o<l?1:-1,E=s<u?1:-1;let _=0;const A=l+C;for(let I=o,N=s;I!==A;I+=C){if(1===_===this.image.get(d?N:I,d?I:N)){if(2===_)return Qe.distance(I,N,o,s);_++}if(y+=p,y>0){if(N===u)break;N+=E,y-=f}}return 2===_?Qe.distance(l+C,u,o,s):NaN}findAlignmentInRegion(o,s,l,u){const d=Math.floor(u*o),f=Math.max(0,s-d),p=Math.min(this.image.getWidth()-1,s+d);if(p-f<3*o)throw new W("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),C=Math.min(this.image.getHeight()-1,l+d);if(C-y<3*o)throw new W("Alignment bottom exceeds estimated module size.");return new Li(this.image,f,y,p-f,C-y,o,this.resultPointCallback).find()}}class ai{constructor(){this.decoder=new Wc}getDecoder(){return this.decoder}decode(o,s){let l,u;if(null!=s&&void 0!==s.get(_t.PURE_BARCODE)){const y=ai.extractPureBits(o.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,s),u=ai.NO_POINTS}else{const y=new xs(o.getBlackMatrix()).detect(s);l=this.decoder.decodeBitMatrix(y.getBits(),s),u=y.getPoints()}l.getOther()instanceof Df&&l.getOther().applyMirroredCorrection(u);const d=new Nt(l.getText(),l.getRawBytes(),void 0,u,ue.QR_CODE,void 0),f=l.getByteSegments();null!==f&&d.putMetadata(We.BYTE_SEGMENTS,f);const p=l.getECLevel();return null!==p&&d.putMetadata(We.ERROR_CORRECTION_LEVEL,p),l.hasStructuredAppend()&&(d.putMetadata(We.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(We.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(o){const s=o.getTopLeftOnBit(),l=o.getBottomRightOnBit();if(null===s||null===l)throw new W;const u=this.moduleSize(s,o);let d=s[1],f=l[1],p=s[0],y=l[0];if(p>=y||d>=f)throw new W;if(f-d!=y-p&&(y=p+(f-d),y>=o.getWidth()))throw new W;const C=Math.round((y-p+1)/u),E=Math.round((f-d+1)/u);if(C<=0||E<=0)throw new W;if(E!==C)throw new W;const _=Math.floor(u/2);d+=_,p+=_;const A=p+Math.floor((C-1)*u)-y;if(A>0){if(A>_)throw new W;p-=A}const I=d+Math.floor((E-1)*u)-f;if(I>0){if(I>_)throw new W;d-=I}const N=new rn(C,E);for(let O=0;O<E;O++){const F=d+Math.floor(O*u);for(let U=0;U<C;U++)o.get(p+Math.floor(U*u),F)&&N.set(U,O)}return N}static moduleSize(o,s){const l=s.getHeight(),u=s.getWidth();let d=o[0],f=o[1],p=!0,y=0;for(;d<u&&f<l;){if(p!==s.get(d,f)){if(5==++y)break;p=!p}d++,f++}if(d===u||f===l)throw new W;return(d-o[0])/7}}ai.NO_POINTS=new Array;class _e{PDF417Common(){}static getBitCountSum(o){return Qe.sum(o)}static toIntArray(o){if(null==o||!o.length)return _e.EMPTY_INT_ARRAY;const s=new Int32Array(o.length);let l=0;for(const u of o)s[l++]=u;return s}static getCodeword(o){const s=$t.binarySearch(_e.SYMBOL_TABLE,262143&o);return s<0?-1:(_e.CODEWORD_TABLE[s]-1)%_e.NUMBER_OF_CODEWORDS}}_e.NUMBER_OF_CODEWORDS=929,_e.MAX_CODEWORDS_IN_BARCODE=_e.NUMBER_OF_CODEWORDS-1,_e.MIN_ROWS_IN_BARCODE=3,_e.MAX_ROWS_IN_BARCODE=90,_e.MODULES_IN_CODEWORD=17,_e.MODULES_IN_STOP_PATTERN=18,_e.BARS_IN_MODULE=8,_e.EMPTY_INT_ARRAY=new Int32Array([]),_e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),_e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Un{constructor(o,s){this.bits=o,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Ue{static detectMultiple(o,s,l){let u=o.getBlackMatrix(),d=Ue.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=Ue.detect(l,u)),new Un(u,d)}static detect(o,s){const l=new Array;let u=0,d=0,f=!1;for(;u<s.getHeight();){const p=Ue.findVertices(s,u,d);if(null!=p[0]||null!=p[3]){if(f=!0,l.push(p),!o)break;null!=p[2]?(d=Math.trunc(p[2].getX()),u=Math.trunc(p[2].getY())):(d=Math.trunc(p[4].getX()),u=Math.trunc(p[4].getY()))}else{if(!f)break;f=!1,d=0;for(const y of l)null!=y[1]&&(u=Math.trunc(Math.max(u,y[1].getY()))),null!=y[3]&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=Ue.ROW_STEP}}return l}static findVertices(o,s,l){const u=o.getHeight(),d=o.getWidth(),f=new Array(8);return Ue.copyToResult(f,Ue.findRowsWithPattern(o,u,d,s,l,Ue.START_PATTERN),Ue.INDEXES_START_PATTERN),null!=f[4]&&(l=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY())),Ue.copyToResult(f,Ue.findRowsWithPattern(o,u,d,s,l,Ue.STOP_PATTERN),Ue.INDEXES_STOP_PATTERN),f}static copyToResult(o,s,l){for(let u=0;u<l.length;u++)o[l[u]]=s[u]}static findRowsWithPattern(o,s,l,u,d,f){const p=new Array(4);let y=!1;const C=new Int32Array(f.length);for(;u<s;u+=Ue.ROW_STEP){let _=Ue.findGuardPattern(o,d,u,l,!1,f,C);if(null!=_){for(;u>0;){const A=Ue.findGuardPattern(o,d,--u,l,!1,f,C);if(null==A){u++;break}_=A}p[0]=new me(_[0],u),p[1]=new me(_[1],u),y=!0;break}}let E=u+1;if(y){let _=0,A=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;E<s;E++){const I=Ue.findGuardPattern(o,A[0],E,l,!1,f,C);if(null!=I&&Math.abs(A[0]-I[0])<Ue.MAX_PATTERN_DRIFT&&Math.abs(A[1]-I[1])<Ue.MAX_PATTERN_DRIFT)A=I,_=0;else{if(_>Ue.SKIPPED_ROW_COUNT_MAX)break;_++}}E-=_+1,p[2]=new me(A[0],E),p[3]=new me(A[1],E)}return E-u<Ue.BARCODE_MIN_HEIGHT&&$t.fill(p,null),p}static findGuardPattern(o,s,l,u,d,f,p){$t.fillWithin(p,0,p.length,0);let y=s,C=0;for(;o.get(y,l)&&y>0&&C++<Ue.MAX_PIXEL_DRIFT;)y--;let E=y,_=0,A=f.length;for(let I=d;E<u;E++)if(o.get(E,l)!==I)p[_]++;else{if(_===A-1){if(Ue.patternMatchVariance(p,f,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE)return new Int32Array([y,E]);y+=p[0]+p[1],yt.arraycopy(p,2,p,0,_-1),p[_-1]=0,p[_]=0,_--}else _++;p[_]=1,I=!I}return _===A-1&&Ue.patternMatchVariance(p,f,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE?new Int32Array([y,E-1]):null}static patternMatchVariance(o,s,l){let u=o.length,d=0,f=0;for(let C=0;C<u;C++)d+=o[C],f+=s[C];if(d<f)return 1/0;let p=d/f;l*=p;let y=0;for(let C=0;C<u;C++){let E=o[C],_=s[C]*p,A=E>_?E-_:_-E;if(A>l)return 1/0;y+=A}return y/d}}Ue.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ue.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ue.MAX_AVG_VARIANCE=.42,Ue.MAX_INDIVIDUAL_VARIANCE=.8,Ue.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ue.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ue.MAX_PIXEL_DRIFT=3,Ue.MAX_PATTERN_DRIFT=5,Ue.SKIPPED_ROW_COUNT_MAX=25,Ue.ROW_STEP=5,Ue.BARCODE_MIN_HEIGHT=10;class fn{constructor(o,s){if(0===s.length)throw new ce;this.field=o;let l=s.length;if(l>1&&0===s[0]){let u=1;for(;u<l&&0===s[u];)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),yt.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(0===o)return this.getCoefficient(0);if(1===o){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let s=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)s=this.field.add(this.field.multiply(o,s),this.coefficients[u]);return s}add(o){if(!this.field.equals(o.field))throw new ce("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let s=this.coefficients,l=o.coefficients;if(s.length>l.length){let f=s;s=l,l=f}let u=new Int32Array(l.length),d=l.length-s.length;yt.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=this.field.add(s[f-d],l[f]);return new fn(this.field,u)}subtract(o){if(!this.field.equals(o.field))throw new ce("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof fn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new ce("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new fn(this.field,new Int32Array([0]));let s=this.coefficients,l=s.length,u=o.coefficients,d=u.length,f=new Int32Array(l+d-1);for(let p=0;p<l;p++){let y=s[p];for(let C=0;C<d;C++)f[p+C]=this.field.add(f[p+C],this.field.multiply(y,u[C]))}return new fn(this.field,f)}negative(){let o=this.coefficients.length,s=new Int32Array(o);for(let l=0;l<o;l++)s[l]=this.field.subtract(0,this.coefficients[l]);return new fn(this.field,s)}multiplyScalar(o){if(0===o)return new fn(this.field,new Int32Array([0]));if(1===o)return this;let s=this.coefficients.length,l=new Int32Array(s);for(let u=0;u<s;u++)l[u]=this.field.multiply(this.coefficients[u],o);return new fn(this.field,l)}multiplyByMonomial(o,s){if(o<0)throw new ce;if(0===s)return new fn(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+o);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],s);return new fn(this.field,u)}toString(){let o=new ot;for(let s=this.getDegree();s>=0;s--){let l=this.getCoefficient(s);0!==l&&(l<0?(o.append(" - "),l=-l):o.length()>0&&o.append(" + "),(0===s||1!==l)&&o.append(l),0!==s&&(1===s?o.append("x"):(o.append("x^"),o.append(s))))}return o.toString()}}class N0{add(o,s){return(o+s)%this.modulus}subtract(o,s){return(this.modulus+o-s)%this.modulus}exp(o){return this.expTable[o]}log(o){if(0===o)throw new ce;return this.logTable[o]}inverse(o){if(0===o)throw new No;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,s){return 0===o||0===s?0:this.expTable[(this.logTable[o]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class jr extends N0{constructor(o,s){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let l=1;for(let u=0;u<o;u++)this.expTable[u]=l,l=l*s%o;for(let u=0;u<o-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new fn(this,new Int32Array([0])),this.one=new fn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,s){if(o<0)throw new ce;if(0===s)return this.zero;let l=new Int32Array(o+1);return l[0]=s,new fn(this,l)}}jr.PDF417_GF=new jr(_e.NUMBER_OF_CODEWORDS,3);class Sf{constructor(){this.field=jr.PDF417_GF}decode(o,s,l){let u=new fn(this.field,o),d=new Int32Array(s),f=!1;for(let N=s;N>0;N--){let O=u.evaluateAt(this.field.exp(N));d[s-N]=O,0!==O&&(f=!0)}if(!f)return 0;let p=this.field.getOne();if(null!=l)for(const N of l){let O=this.field.exp(o.length-1-N),F=new fn(this.field,new Int32Array([this.field.subtract(0,O),1]));p=p.multiply(F)}let y=new fn(this.field,d),C=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),y,s),E=C[0],_=C[1],A=this.findErrorLocations(E),I=this.findErrorMagnitudes(_,E,A);for(let N=0;N<A.length;N++){let O=o.length-1-this.field.log(A[N]);if(O<0)throw Yt.getChecksumInstance();o[O]=this.field.subtract(o[O],I[N])}return A.length}runEuclideanAlgorithm(o,s,l){if(o.getDegree()<s.getDegree()){let A=o;o=s,s=A}let u=o,d=s,f=this.field.getZero(),p=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let A=u,I=f;if(u=d,f=p,u.isZero())throw Yt.getChecksumInstance();d=A;let N=this.field.getZero(),O=u.getCoefficient(u.getDegree()),F=this.field.inverse(O);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let U=d.getDegree()-u.getDegree(),K=this.field.multiply(d.getCoefficient(d.getDegree()),F);N=N.add(this.field.buildMonomial(U,K)),d=d.subtract(u.multiplyByMonomial(U,K))}p=N.multiply(f).subtract(I).negative()}let y=p.getCoefficient(0);if(0===y)throw Yt.getChecksumInstance();let C=this.field.inverse(y);return[p.multiply(C),d.multiply(C)]}findErrorLocations(o){let s=o.getDegree(),l=new Int32Array(s),u=0;for(let d=1;d<this.field.getSize()&&u<s;d++)0===o.evaluateAt(d)&&(l[u]=this.field.inverse(d),u++);if(u!==s)throw Yt.getChecksumInstance();return l}findErrorMagnitudes(o,s,l){let u=s.getDegree(),d=new Int32Array(u);for(let C=1;C<=u;C++)d[u-C]=this.field.multiply(C,s.getCoefficient(C));let f=new fn(this.field,d),p=l.length,y=new Int32Array(p);for(let C=0;C<p;C++){let E=this.field.inverse(l[C]),_=this.field.subtract(0,o.evaluateAt(E)),A=this.field.inverse(f.evaluateAt(E));y[C]=this.field.multiply(_,A)}return y}}class oo{constructor(o,s,l,u,d){o instanceof oo?this.constructor_2(o):this.constructor_1(o,s,l,u,d)}constructor_1(o,s,l,u,d){const f=null==s||null==l,p=null==u||null==d;if(f&&p)throw new W;f?(s=new me(0,u.getY()),l=new me(0,d.getY())):p&&(u=new me(o.getWidth()-1,s.getY()),d=new me(o.getWidth()-1,l.getY())),this.image=o,this.topLeft=s,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(s.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(s.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,s){return null==o?s:null==s?o:new oo(o.image,o.topLeft,o.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(o,s,l){let u=this.topLeft,d=this.bottomLeft,f=this.topRight,p=this.bottomRight;if(o>0){let y=l?this.topLeft:this.topRight,C=Math.trunc(y.getY()-o);C<0&&(C=0);let E=new me(y.getX(),C);l?u=E:f=E}if(s>0){let y=l?this.bottomLeft:this.bottomRight,C=Math.trunc(y.getY()+s);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let E=new me(y.getX(),C);l?d=E:p=E}return new oo(this.image,u,d,f,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class R0{constructor(o,s,l,u){this.columnCount=o,this.errorCorrectionLevel=u,this.rowCountUpperPart=s,this.rowCountLowerPart=l,this.rowCount=s+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class _s{constructor(){this.buffer=""}static form(o,s){let l=-1;return o.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function u(f,p,y,C,E,_){if("%%"===f)return"%";if(void 0===s[++l])return;f=C?parseInt(C.substr(1)):void 0;let I,A=E?parseInt(E.substr(1)):void 0;switch(_){case"s":I=s[l];break;case"c":I=s[l][0];break;case"f":I=parseFloat(s[l]).toFixed(f);break;case"p":I=parseFloat(s[l]).toPrecision(f);break;case"e":I=parseFloat(s[l]).toExponential(f);break;case"x":I=parseInt(s[l]).toString(A||16);break;case"d":I=parseFloat(parseInt(s[l],A||10).toPrecision(f)).toFixed(0)}I="object"==typeof I?JSON.stringify(I):(+I).toString(A);let N=parseInt(y),O=y&&y[0]+""=="0"?"0":" ";for(;I.length<N;)I=void 0!==p?I+O:O+I;return I})}format(o,...s){this.buffer+=_s.form(o,s)}toString(){return this.buffer}}let $c=(()=>{class v{constructor(s){this.boundingBox=new oo(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let l=this.getCodeword(s);if(null!=l)return l;for(let u=1;u<v.MAX_NEARBY_DISTANCE;u++){let d=this.imageRowToCodewordIndex(s)-u;if(d>=0&&(l=this.codewords[d],null!=l)||(d=this.imageRowToCodewordIndex(s)+u,d<this.codewords.length&&(l=this.codewords[d],null!=l)))return l}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,l){this.codewords[this.imageRowToCodewordIndex(s)]=l}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new _s;let l=0;for(const u of this.codewords)null!=u?s.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue()):s.format("%3d:    |   %n",l++);return s.toString()}}return v.MAX_NEARBY_DISTANCE=5,v})();class As{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let s=this.values.get(o);null==s&&(s=0),s++,this.values.set(o,s)}getValue(){let o=-1,s=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>o?(o=d.getValue(),s=[],s.push(d.getKey())):d.getValue()===o&&s.push(d.getKey())}return _e.toIntArray(s)}getConfidence(o){return this.values.get(o)}}class qc extends $c{constructor(o,s){super(o),this._isLeft=s}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,o);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,C=1,E=0;for(let _=f;_<p;_++){if(null==s[_])continue;let A=s[_],I=A.getRowNumber()-y;if(0===I)E++;else if(1===I)C=Math.max(C,E),E=1,y=A.getRowNumber();else if(I<0||A.getRowNumber()>=o.getRowCount()||I>_)s[_]=null;else{let N;N=C>2?(C-2)*I:I;let O=N>=_;for(let F=1;F<=N&&!O;F++)O=null!=s[_-F];O?s[_]=null:(y=A.getRowNumber(),E=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(null==o)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let s=new Int32Array(o.getRowCount());for(let l of this.getCodewords())if(null!=l){let u=l.getRowNumber();if(u>=s.length)continue;s[u]++}return s}adjustIncompleteIndicatorColumnRowNumbers(o){let s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.getCodewords(),y=-1;for(let C=d;C<f;C++){if(null==p[C])continue;let E=p[C];E.setRowNumberAsRowIndicatorColumn();let _=E.getRowNumber()-y;0===_||(1===_?y=E.getRowNumber():E.getRowNumber()>=o.getRowCount()?p[C]=null:y=E.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),s=new As,l=new As,u=new As,d=new As;for(let p of o){if(null==p)continue;p.setRowNumberAsRowIndicatorColumn();let y=p.getValue()%30,C=p.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:l.setValue(3*y+1);break;case 1:d.setValue(y/3),u.setValue(y%3);break;case 2:s.setValue(y+1)}}if(0===s.getValue().length||0===l.getValue().length||0===u.getValue().length||0===d.getValue().length||s.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<_e.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>_e.MAX_ROWS_IN_BARCODE)return null;let f=new R0(s.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(o,f),f}removeIncorrectCodewords(o,s){for(let l=0;l<o.length;l++){let u=o[l];if(null==o[l])continue;let d=u.getValue()%30,f=u.getRowNumber();if(f>s.getRowCount())o[l]=null;else switch(this._isLeft||(f+=2),f%3){case 0:3*d+1!==s.getRowCountUpperPart()&&(o[l]=null);break;case 1:(Math.trunc(d/3)!==s.getErrorCorrectionLevel()||d%3!==s.getRowCountLowerPart())&&(o[l]=null);break;case 2:d+1!==s.getColumnCount()&&(o[l]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class bs{constructor(o,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s,o=_e.MAX_CODEWORDS_IN_BARCODE;do{s=o,o=this.adjustRowNumbersAndGetCount()}while(o>0&&o<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(0===o)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let l=this.detectionResultColumns[s].getCodewords();for(let u=0;u<l.length;u++)null!=l[u]&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(s,u,l))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let o=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++)if(null!=o[l]&&null!=s[l]&&o[l].getRowNumber()===s[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];null!=d&&(d.setRowNumber(o[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let o=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++){if(null==s[l])continue;let u=s[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let p=this.detectionResultColumns[f].getCodewords()[l];null!=p&&(d=bs.adjustRowNumberIfValid(u,d,p),p.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let o=0,s=this.detectionResultColumns[0].getCodewords();for(let l=0;l<s.length;l++){if(null==s[l])continue;let u=s[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let p=this.detectionResultColumns[f].getCodewords()[l];null!=p&&(d=bs.adjustRowNumberIfValid(u,d,p),p.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,s,l){return null==l||l.hasValidRowNumber()||(l.isValidRowNumber(o)?(l.setRowNumber(o),s=0):++s),s}adjustRowNumbers(o,s,l){if(!this.detectionResultColumns[o-1])return;let u=l[s],d=this.detectionResultColumns[o-1].getCodewords(),f=d;null!=this.detectionResultColumns[o+1]&&(f=this.detectionResultColumns[o+1].getCodewords());let p=new Array(14);p[2]=d[s],p[3]=f[s],s>0&&(p[0]=l[s-1],p[4]=d[s-1],p[5]=f[s-1]),s>1&&(p[8]=l[s-2],p[10]=d[s-2],p[11]=f[s-2]),s<l.length-1&&(p[1]=l[s+1],p[6]=d[s+1],p[7]=f[s+1]),s<l.length-2&&(p[9]=l[s+2],p[12]=d[s+2],p[13]=f[s+2]);for(let y of p)if(bs.adjustRowNumber(u,y))return}static adjustRowNumber(o,s){return!(null==s||!s.hasValidRowNumber()||s.getBucket()!==o.getBucket()||(o.setRowNumber(s.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,s){this.detectionResultColumns[o]=s}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];null==o&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new _s;for(let l=0;l<o.getCodewords().length;l++){s.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(null==this.detectionResultColumns[u]){s.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];null!=d?s.format(" %3d|%3d",d.getRowNumber(),d.getValue()):s.format("    |   ")}s.format("%n")}return s.toString()}}let Zn=(()=>{class v{constructor(s,l,u,d){this.rowNumber=v.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==v.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}return v.BARCODE_ROW_UNKNOWN=-1,v})();class Me{static initialize(){for(let o=0;o<_e.SYMBOL_TABLE.length;o++){let s=_e.SYMBOL_TABLE[o],l=1&s;for(let u=0;u<_e.BARS_IN_MODULE;u++){let d=0;for(;(1&s)===l;)d+=1,s>>=1;l=1&s,Me.RATIOS_TABLE[o]||(Me.RATIOS_TABLE[o]=new Array(_e.BARS_IN_MODULE)),Me.RATIOS_TABLE[o][_e.BARS_IN_MODULE-u-1]=Math.fround(d/_e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let s=Me.getDecodedCodewordValue(Me.sampleBitCounts(o));return-1!==s?s:Me.getClosestDecodedValue(o)}static sampleBitCounts(o){let s=Qe.sum(o),l=new Int32Array(_e.BARS_IN_MODULE),u=0,d=0;for(let f=0;f<_e.MODULES_IN_CODEWORD;f++)d+o[u]<=s/(2*_e.MODULES_IN_CODEWORD)+f*s/_e.MODULES_IN_CODEWORD&&(d+=o[u],u++),l[u]++;return l}static getDecodedCodewordValue(o){let s=Me.getBitValue(o);return-1===_e.getCodeword(s)?-1:s}static getBitValue(o){let s=0;for(let l=0;l<o.length;l++)for(let u=0;u<o[l];u++)s=s<<1|(l%2==0?1:0);return Math.trunc(s)}static getClosestDecodedValue(o){let s=Qe.sum(o),l=new Array(_e.BARS_IN_MODULE);if(s>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(o[f]/s);let u=$a.MAX_VALUE,d=-1;this.bSymbolTableReady||Me.initialize();for(let f=0;f<Me.RATIOS_TABLE.length;f++){let p=0,y=Me.RATIOS_TABLE[f];for(let C=0;C<_e.BARS_IN_MODULE;C++){let E=Math.fround(y[C]-l[C]);if(p+=Math.fround(E*E),p>=u)break}p<u&&(u=p,d=_e.SYMBOL_TABLE[f])}return d}}Me.bSymbolTableReady=!1,Me.RATIOS_TABLE=new Array(_e.SYMBOL_TABLE.length).map(v=>new Array(_e.BARS_IN_MODULE));class Tf{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Mf{static parseLong(o,s=void 0){return parseInt(o,s)}}let O0=(()=>{class v extends yn{}return v.kind="NullPointerException",v})();class se{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,s,l){if(null==o)throw new O0;if(s<0||s>o.length||l<0||s+l>o.length||s+l<0)throw new za;if(0!==l)for(let u=0;u<l;u++)this.write(o[s+u])}flush(){}close(){}}class P0 extends yn{}class Qn extends se{constructor(o=32){if(super(),this.count=0,o<0)throw new ce("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let l=this.buf.length<<1;if(l-o<0&&(l=o),l<0){if(o<0)throw new P0;l=Te.MAX_VALUE}this.buf=$t.copyOfUint8Array(this.buf,l)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,s,l){if(s<0||s>o.length||l<0||s+l-o.length>0)throw new za;this.ensureCapacity(this.count+l),yt.arraycopy(o,s,this.buf,this.count,l),this.count+=l}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return $t.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?"string"==typeof o?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var at=function(v){return v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT",v}(at||{});function Yc(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Fo;function li(v){if(typeof Fo>"u"&&(Fo=Yc()),null===Fo)throw new Error("BigInt is not supported!");return Fo(v)}class H{static decode(o,s){let l=new ot(""),u=ee.ISO8859_1;l.enableDecoding(u);let d=1,f=o[d++],p=new Tf;for(;d<o[0];){switch(f){case H.TEXT_COMPACTION_MODE_LATCH:d=H.textCompaction(o,d,l);break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:d=H.byteCompaction(f,o,u,d,l);break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[d++]);break;case H.NUMERIC_COMPACTION_MODE_LATCH:d=H.numericCompaction(o,d,l);break;case H.ECI_CHARSET:ee.getCharacterSetECIByValue(o[d++]);break;case H.ECI_GENERAL_PURPOSE:d+=2;break;case H.ECI_USER_DEFINED:d++;break;case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=H.decodeMacroBlock(o,d,p);break;case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:throw new re;default:d--,d=H.textCompaction(o,d,l)}if(!(d<o.length))throw re.getFormatInstance();f=o[d++]}if(0===l.length())throw re.getFormatInstance();let y=new Pt(null,l.toString(),null,s);return y.setOther(p),y}static decodeMacroBlock(o,s,l){if(s+H.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw re.getFormatInstance();let u=new Int32Array(H.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<H.NUMBER_OF_SEQUENCE_CODEWORDS;p++,s++)u[p]=o[s];l.setSegmentIndex(Te.parseInt(H.decodeBase900toBase10(u,H.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new ot;s=H.textCompaction(o,s,d),l.setFileId(d.toString());let f=-1;for(o[s]===H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=s+1);s<o[0];)switch(o[s]){case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o[++s]){case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new ot;s=H.textCompaction(o,s+1,p),l.setFileName(p.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new ot;s=H.textCompaction(o,s+1,y),l.setSender(y.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new ot;s=H.textCompaction(o,s+1,C),l.setAddressee(C.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new ot;s=H.numericCompaction(o,s+1,E),l.setSegmentCount(Te.parseInt(E.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let _=new ot;s=H.numericCompaction(o,s+1,_),l.setTimestamp(Mf.parseLong(_.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new ot;s=H.numericCompaction(o,s+1,A),l.setChecksum(Te.parseInt(A.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let I=new ot;s=H.numericCompaction(o,s+1,I),l.setFileSize(Mf.parseLong(I.toString()));break;default:throw re.getFormatInstance()}break;case H.MACRO_PDF417_TERMINATOR:s++,l.setLastSegment(!0);break;default:throw re.getFormatInstance()}if(-1!==f){let p=s-f;l.isLastSegment()&&p--,l.setOptionalData($t.copyOfRange(o,f,f+p))}return s}static textCompaction(o,s,l){let u=new Int32Array(2*(o[0]-s)),d=new Int32Array(2*(o[0]-s)),f=0,p=!1;for(;s<o[0]&&!p;){let y=o[s++];if(y<H.TEXT_COMPACTION_MODE_LATCH)u[f]=y/30,u[f+1]=y%30,f+=2;else switch(y){case H.TEXT_COMPACTION_MODE_LATCH:u[f++]=H.TEXT_COMPACTION_MODE_LATCH;break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:s--,p=!0;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=o[s++],d[f]=y,f++}}return H.decodeTextCompaction(u,d,f,l),s}static decodeTextCompaction(o,s,l,u){let d=at.ALPHA,f=at.ALPHA,p=0;for(;p<l;){let y=o[p],C="";switch(d){case at.ALPHA:if(y<26)C=String.fromCharCode(65+y);else switch(y){case 26:C=" ";break;case H.LL:d=at.LOWER;break;case H.ML:d=at.MIXED;break;case H.PS:f=d,d=at.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[p]);break;case H.TEXT_COMPACTION_MODE_LATCH:d=at.ALPHA}break;case at.LOWER:if(y<26)C=String.fromCharCode(97+y);else switch(y){case 26:C=" ";break;case H.AS:f=d,d=at.ALPHA_SHIFT;break;case H.ML:d=at.MIXED;break;case H.PS:f=d,d=at.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[p]);break;case H.TEXT_COMPACTION_MODE_LATCH:d=at.ALPHA}break;case at.MIXED:if(y<H.PL)C=H.MIXED_CHARS[y];else switch(y){case H.PL:d=at.PUNCT;break;case 26:C=" ";break;case H.LL:d=at.LOWER;break;case H.AL:d=at.ALPHA;break;case H.PS:f=d,d=at.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[p]);break;case H.TEXT_COMPACTION_MODE_LATCH:d=at.ALPHA}break;case at.PUNCT:if(y<H.PAL)C=H.PUNCT_CHARS[y];else switch(y){case H.PAL:d=at.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[p]);break;case H.TEXT_COMPACTION_MODE_LATCH:d=at.ALPHA}break;case at.ALPHA_SHIFT:if(d=f,y<26)C=String.fromCharCode(65+y);else switch(y){case 26:C=" ";break;case H.TEXT_COMPACTION_MODE_LATCH:d=at.ALPHA}break;case at.PUNCT_SHIFT:if(d=f,y<H.PAL)C=H.PUNCT_CHARS[y];else switch(y){case H.PAL:d=at.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[p]);break;case H.TEXT_COMPACTION_MODE_LATCH:d=at.ALPHA}}""!==C&&u.append(C),p++}}static byteCompaction(o,s,l,u,d){let f=new Qn,p=0,y=0,C=!1;switch(o){case H.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),_=s[u++];for(;u<s[0]&&!C;)switch(E[p++]=_,y=900*y+_,_=s[u++],_){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:u--,C=!0;break;default:if(p%5==0&&p>0){for(let A=0;A<6;++A)f.write(Number(li(y)>>li(8*(5-A))));y=0,p=0}}u===s[0]&&_<H.TEXT_COMPACTION_MODE_LATCH&&(E[p++]=_);for(let A=0;A<p;A++)f.write(E[A]);break;case H.BYTE_COMPACTION_MODE_LATCH_6:for(;u<s[0]&&!C;){let A=s[u++];if(A<H.TEXT_COMPACTION_MODE_LATCH)p++,y=900*y+A;else switch(A){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:u--,C=!0}if(p%5==0&&p>0){for(let I=0;I<6;++I)f.write(Number(li(y)>>li(8*(5-I))));y=0,p=0}}}return d.append(cn.decode(f.toByteArray(),l)),u}static numericCompaction(o,s,l){let u=0,d=!1,f=new Int32Array(H.MAX_NUMERIC_CODEWORDS);for(;s<o[0]&&!d;){let p=o[s++];if(s===o[0]&&(d=!0),p<H.TEXT_COMPACTION_MODE_LATCH)f[u]=p,u++;else switch(p){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:s--,d=!0}(u%H.MAX_NUMERIC_CODEWORDS==0||p===H.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append(H.decodeBase900toBase10(f,u)),u=0)}return s}static decodeBase900toBase10(o,s){let l=li(0);for(let d=0;d<s;d++)l+=H.EXP900[s-d-1]*li(o[d]);let u=l.toString();if("1"!==u.charAt(0))throw new re;return u.substring(1)}}H.TEXT_COMPACTION_MODE_LATCH=900,H.BYTE_COMPACTION_MODE_LATCH=901,H.NUMERIC_COMPACTION_MODE_LATCH=902,H.BYTE_COMPACTION_MODE_LATCH_6=924,H.ECI_USER_DEFINED=925,H.ECI_GENERAL_PURPOSE=926,H.ECI_CHARSET=927,H.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,H.MACRO_PDF417_TERMINATOR=922,H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,H.MAX_NUMERIC_CODEWORDS=15,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,H.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,H.PL=25,H.LL=27,H.AS=27,H.ML=28,H.AL=28,H.PS=29,H.PAL=29,H.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",H.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",H.EXP900=Yc()?function Xc(){let v=[];v[0]=li(1);let o=li(900);v[1]=o;for(let s=2;s<16;s++)v[s]=v[s-1]*o;return v}():[],H.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Le{constructor(){}static decode(o,s,l,u,d,f,p){let _,y=new oo(o,s,l,u,d),C=null,E=null;for(let N=!0;;N=!1){if(null!=s&&(C=Le.getRowIndicatorColumn(o,y,s,!0,f,p)),null!=u&&(E=Le.getRowIndicatorColumn(o,y,u,!1,f,p)),_=Le.merge(C,E),null==_)throw W.getNotFoundInstance();let O=_.getBoundingBox();if(!N||null==O||!(O.getMinY()<y.getMinY()||O.getMaxY()>y.getMaxY()))break;y=O}_.setBoundingBox(y);let A=_.getBarcodeColumnCount()+1;_.setDetectionResultColumn(0,C),_.setDetectionResultColumn(A,E);let I=null!=C;for(let N=1;N<=A;N++){let F,O=I?N:A-N;if(void 0!==_.getDetectionResultColumn(O))continue;F=0===O||O===A?new qc(y,0===O):new $c(y),_.setDetectionResultColumn(O,F);let U=-1,K=U;for(let oe=y.getMinY();oe<=y.getMaxY();oe++){if(U=Le.getStartColumn(_,O,oe,I),U<0||U>y.getMaxX()){if(-1===K)continue;U=K}let j=Le.detectCodeword(o,y.getMinX(),y.getMaxX(),I,U,oe,f,p);null!=j&&(F.setCodeword(oe,j),K=U,f=Math.min(f,j.getWidth()),p=Math.max(p,j.getWidth()))}}return Le.createDecoderResult(_)}static merge(o,s){if(null==o&&null==s)return null;let l=Le.getBarcodeMetadata(o,s);if(null==l)return null;let u=oo.merge(Le.adjustBoundingBox(o),Le.adjustBoundingBox(s));return new bs(l,u)}static adjustBoundingBox(o){if(null==o)return null;let s=o.getRowHeights();if(null==s)return null;let l=Le.getMax(s),u=0;for(let p of s)if(u+=l-p,p>0)break;let d=o.getCodewords();for(let p=0;u>0&&null==d[p];p++)u--;let f=0;for(let p=s.length-1;p>=0&&(f+=l-s[p],!(s[p]>0));p--);for(let p=d.length-1;f>0&&null==d[p];p--)f--;return o.getBoundingBox().addMissingRows(u,f,o.isLeft())}static getMax(o){let s=-1;for(let l of o)s=Math.max(s,l);return s}static getBarcodeMetadata(o,s){let l,u;return null==o||null==(l=o.getBarcodeMetadata())?null==s?null:s.getBarcodeMetadata():null==s||null==(u=s.getBarcodeMetadata())?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(o,s,l,u,d,f){let p=new qc(s,u);for(let y=0;y<2;y++){let C=0===y?1:-1,E=Math.trunc(Math.trunc(l.getX()));for(let _=Math.trunc(Math.trunc(l.getY()));_<=s.getMaxY()&&_>=s.getMinY();_+=C){let A=Le.detectCodeword(o,0,o.getWidth(),u,E,_,d,f);null!=A&&(p.setCodeword(_,A),E=u?A.getStartX():A.getEndX())}}return p}static adjustCodewordCount(o,s){let l=s[0][1],u=l.getValue(),d=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Le.getNumberOfECCodeWords(o.getBarcodeECLevel());if(0===u.length){if(d<1||d>_e.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(o){let s=Le.createBarcodeMatrix(o);Le.adjustCodewordCount(o,s);let l=new Array,u=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),d=[],f=new Array;for(let y=0;y<o.getBarcodeRowCount();y++)for(let C=0;C<o.getBarcodeColumnCount();C++){let E=s[y][C+1].getValue(),_=y*o.getBarcodeColumnCount()+C;0===E.length?l.push(_):1===E.length?u[_]=E[0]:(f.push(_),d.push(E))}let p=new Array(d.length);for(let y=0;y<p.length;y++)p[y]=d[y];return Le.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),u,_e.toIntArray(l),_e.toIntArray(f),p)}static createDecoderResultFromAmbiguousValues(o,s,l,u,d){let f=new Int32Array(u.length),p=100;for(;p-- >0;){for(let y=0;y<f.length;y++)s[u[y]]=d[y][f[y]];try{return Le.decodeCodewords(s,o,l)}catch(y){if(!(y instanceof Yt))throw y}if(0===f.length)throw Yt.getChecksumInstance();for(let y=0;y<f.length;y++){if(f[y]<d[y].length-1){f[y]++;break}if(f[y]=0,y===f.length-1)throw Yt.getChecksumInstance()}}throw Yt.getChecksumInstance()}static createBarcodeMatrix(o){let s=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let u=0;u<s.length;u++)for(let d=0;d<s[u].length;d++)s[u][d]=new As;let l=0;for(let u of o.getDetectionResultColumns()){if(null!=u)for(let d of u.getCodewords())if(null!=d){let f=d.getRowNumber();if(f>=0){if(f>=s.length)continue;s[f][l].setValue(d.getValue())}}l++}return s}static isValidBarcodeColumn(o,s){return s>=0&&s<=o.getBarcodeColumnCount()+1}static getStartColumn(o,s,l,u){let d=u?1:-1,f=null;if(Le.isValidBarcodeColumn(o,s-d)&&(f=o.getDetectionResultColumn(s-d).getCodeword(l)),null!=f)return u?f.getEndX():f.getStartX();if(f=o.getDetectionResultColumn(s).getCodewordNearby(l),null!=f)return u?f.getStartX():f.getEndX();if(Le.isValidBarcodeColumn(o,s-d)&&(f=o.getDetectionResultColumn(s-d).getCodewordNearby(l)),null!=f)return u?f.getEndX():f.getStartX();let p=0;for(;Le.isValidBarcodeColumn(o,s-d);){s-=d;for(let y of o.getDetectionResultColumn(s).getCodewords())if(null!=y)return(u?y.getEndX():y.getStartX())+d*p*(y.getEndX()-y.getStartX());p++}return u?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,s,l,u,d,f,p,y){d=Le.adjustCodewordStartColumn(o,s,l,u,d,f);let C=Le.getModuleBitCount(o,s,l,u,d,f);if(null==C)return null;let E,_=Qe.sum(C);if(u)E=d+_;else{for(let N=0;N<C.length/2;N++){let O=C[N];C[N]=C[C.length-1-N],C[C.length-1-N]=O}E=d,d=E-_}if(!Le.checkCodewordSkew(_,p,y))return null;let A=Me.getDecodedValue(C),I=_e.getCodeword(A);return-1===I?null:new Zn(d,E,Le.getCodewordBucketNumber(A),I)}static getModuleBitCount(o,s,l,u,d,f){let p=d,y=new Int32Array(8),C=0,E=u?1:-1,_=u;for(;(u?p<l:p>=s)&&C<y.length;)o.get(p,f)===_?(y[C]++,p+=E):(C++,_=!_);return C===y.length||p===(u?l:s)&&C===y.length-1?y:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,s,l,u,d,f){let p=d,y=u?-1:1;for(let C=0;C<2;C++){for(;(u?p>=s:p<l)&&u===o.get(p,f);){if(Math.abs(d-p)>Le.CODEWORD_SKEW_SIZE)return d;p+=y}y=-y,u=!u}return p}static checkCodewordSkew(o,s,l){return s-Le.CODEWORD_SKEW_SIZE<=o&&o<=l+Le.CODEWORD_SKEW_SIZE}static decodeCodewords(o,s,l){if(0===o.length)throw re.getFormatInstance();let u=1<<s+1,d=Le.correctErrors(o,l,u);Le.verifyCodewordCount(o,u);let f=H.decode(o,""+s);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(o,s,l){if(null!=s&&s.length>l/2+Le.MAX_ERRORS||l<0||l>Le.MAX_EC_CODEWORDS)throw Yt.getChecksumInstance();return Le.errorCorrection.decode(o,l,s)}static verifyCodewordCount(o,s){if(o.length<4)throw re.getFormatInstance();let l=o[0];if(l>o.length)throw re.getFormatInstance();if(0===l){if(!(s<o.length))throw re.getFormatInstance();o[0]=o.length-s}}static getBitCountForCodeword(o){let s=new Int32Array(8),l=0,u=s.length-1;for(;!((1&o)!==l&&(l=1&o,u--,u<0));)s[u]++,o>>=1;return s}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Le.getCodewordBucketNumber(Le.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let s=new _s;for(let l=0;l<o.length;l++){s.format("Row %2d: ",l);for(let u=0;u<o[l].length;u++){let d=o[l][u];0===d.getValue().length?s.format("        ",null):s.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}s.format("%n")}return s.toString()}}Le.CODEWORD_SKEW_SIZE=2,Le.MAX_ERRORS=3,Le.MAX_EC_CODEWORDS=512,Le.errorCorrection=new Sf;class sn{decode(o,s=null){let l=sn.decode(o,s,!1);if(null==l||0===l.length||null==l[0])throw W.getNotFoundInstance();return l[0]}decodeMultiple(o,s=null){try{return sn.decode(o,s,!0)}catch(l){throw l instanceof re||l instanceof Yt?W.getNotFoundInstance():l}}static decode(o,s,l){const u=new Array,d=Ue.detectMultiple(o,s,l);for(const f of d.getPoints()){const p=Le.decode(d.getBits(),f[4],f[5],f[6],f[7],sn.getMinCodewordWidth(f),sn.getMaxCodewordWidth(f)),y=new Nt(p.getText(),p.getRawBytes(),void 0,f,ue.PDF_417);y.putMetadata(We.ERROR_CORRECTION_LEVEL,p.getECLevel());const C=p.getOther();null!=C&&y.putMetadata(We.PDF417_EXTRA_METADATA,C),u.push(y)}return u.map(f=>f)}static getMaxWidth(o,s){return null==o||null==s?0:Math.trunc(Math.abs(o.getX()-s.getX()))}static getMinWidth(o,s){return null==o||null==s?Te.MAX_VALUE:Math.trunc(Math.abs(o.getX()-s.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(sn.getMaxWidth(o[0],o[4]),sn.getMaxWidth(o[6],o[2])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN),Math.max(sn.getMaxWidth(o[1],o[5]),sn.getMaxWidth(o[7],o[3])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(sn.getMinWidth(o[0],o[4]),sn.getMinWidth(o[6],o[2])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN),Math.min(sn.getMinWidth(o[1],o[5]),sn.getMinWidth(o[7],o[3])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN)))}reset(){}}let Ja=(()=>{class v extends yn{}return v.kind="ReaderException",v})();class Be{constructor(o,s){this.verbose=!0===o,s&&this.setHints(s)}decode(o,s){return s&&this.setHints(s),this.decodeInternal(o)}decodeWithState(o){return null==this.readers&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const s=!Ze(o)&&!0===o.get(_t.TRY_HARDER),l=Ze(o)?null:o.get(_t.POSSIBLE_FORMATS),u=new Array;if(!Ze(l)){const d=l.some(f=>f===ue.UPC_A||f===ue.UPC_E||f===ue.EAN_13||f===ue.EAN_8||f===ue.CODABAR||f===ue.CODE_39||f===ue.CODE_93||f===ue.CODE_128||f===ue.ITF||f===ue.RSS_14||f===ue.RSS_EXPANDED);d&&!s&&u.push(new io(o,this.verbose)),l.includes(ue.QR_CODE)&&u.push(new ai),l.includes(ue.DATA_MATRIX)&&u.push(new Ee),l.includes(ue.AZTEC)&&u.push(new gs),l.includes(ue.PDF_417)&&u.push(new sn),d&&s&&u.push(new io(o,this.verbose))}0===u.length&&(s||u.push(new io(o,this.verbose)),u.push(new ai),u.push(new Ee),u.push(new gs),u.push(new sn),s&&u.push(new io(o,this.verbose))),this.readers=u}reset(){if(null!==this.readers)for(const o of this.readers)o.reset()}decodeInternal(o){if(null===this.readers)throw new Ja("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(o,this.hints)}catch(l){if(l instanceof Ja)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}var tl=function(v){return v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION",v}(tl||{}),an=tl;class ct{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new Ie(o,Int32Array.from([1])))}buildGenerator(o){const s=this.cachedGenerators;if(o>=s.length){let l=s[s.length-1];const u=this.field;for(let d=s.length;d<=o;d++){const f=l.multiply(new Ie(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));s.push(f),l=f}}return s[o]}encode(o,s){if(0===s)throw new ce("No error correction bytes");const l=o.length-s;if(l<=0)throw new ce("No data bytes provided");const u=this.buildGenerator(s),d=new Int32Array(l);yt.arraycopy(o,0,d,0,l);let f=new Ie(this.field,d);f=f.multiplyByMonomial(s,1);const y=f.divide(u)[1].getCoefficients(),C=s-y.length;for(let E=0;E<C;E++)o[l+E]=0;yt.arraycopy(y,0,o,l+C,y.length)}}let ko=(()=>{class v{constructor(){}static applyMaskPenaltyRule1(s){return v.applyMaskPenaltyRule1Internal(s,!0)+v.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let l=0;const u=s.getArray(),d=s.getWidth(),f=s.getHeight();for(let p=0;p<f-1;p++){const y=u[p];for(let C=0;C<d-1;C++){const E=y[C];E===y[C+1]&&E===u[p+1][C]&&E===u[p+1][C+1]&&l++}}return v.N2*l}static applyMaskPenaltyRule3(s){let l=0;const u=s.getArray(),d=s.getWidth(),f=s.getHeight();for(let p=0;p<f;p++)for(let y=0;y<d;y++){const C=u[p];y+6<d&&1===C[y]&&0===C[y+1]&&1===C[y+2]&&1===C[y+3]&&1===C[y+4]&&0===C[y+5]&&1===C[y+6]&&(v.isWhiteHorizontal(C,y-4,y)||v.isWhiteHorizontal(C,y+7,y+11))&&l++,p+6<f&&1===u[p][y]&&0===u[p+1][y]&&1===u[p+2][y]&&1===u[p+3][y]&&1===u[p+4][y]&&0===u[p+5][y]&&1===u[p+6][y]&&(v.isWhiteVertical(u,y,p-4,p)||v.isWhiteVertical(u,y,p+7,p+11))&&l++}return l*v.N3}static isWhiteHorizontal(s,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let d=l;d<u;d++)if(1===s[d])return!1;return!0}static isWhiteVertical(s,l,u,d){u=Math.max(u,0),d=Math.min(d,s.length);for(let f=u;f<d;f++)if(1===s[f][l])return!1;return!0}static applyMaskPenaltyRule4(s){let l=0;const u=s.getArray(),d=s.getWidth(),f=s.getHeight();for(let C=0;C<f;C++){const E=u[C];for(let _=0;_<d;_++)1===E[_]&&l++}const p=s.getHeight()*s.getWidth();return Math.floor(10*Math.abs(2*l-p)/p)*v.N4}static getDataMaskBit(s,l,u){let d,f;switch(s){case 0:d=u+l&1;break;case 1:d=1&u;break;case 2:d=l%3;break;case 3:d=(u+l)%3;break;case 4:d=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:f=u*l,d=(1&f)+f%3;break;case 6:f=u*l,d=(1&f)+f%3&1;break;case 7:f=u*l,d=f%3+(u+l&1)&1;break;default:throw new ce("Invalid mask pattern: "+s)}return 0===d}static applyMaskPenaltyRule1Internal(s,l){let u=0;const d=l?s.getHeight():s.getWidth(),f=l?s.getWidth():s.getHeight(),p=s.getArray();for(let y=0;y<d;y++){let C=0,E=-1;for(let _=0;_<f;_++){const A=l?p[y][_]:p[_][y];A===E?C++:(C>=5&&(u+=v.N1+(C-5)),C=1,E=A)}C>=5&&(u+=v.N1+(C-5))}return u}}return v.N1=3,v.N2=3,v.N3=40,v.N4=10,v})();class nl{constructor(o,s){this.width=o,this.height=s;const l=new Array(s);for(let u=0;u!==s;u++)l[u]=new Uint8Array(o);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(o,s){return this.bytes[s][o]}getArray(){return this.bytes}setNumber(o,s,l){this.bytes[s][o]=l}setBoolean(o,s,l){this.bytes[s][o]=l?1:0}clear(o){for(const s of this.bytes)$t.fill(s,o)}equals(o){if(!(o instanceof nl))return!1;const s=o;if(this.width!==s.width||this.height!==s.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],f=s.bytes[l];for(let p=0,y=this.width;p<y;++p)if(d[p]!==f[p])return!1}return!0}toString(){const o=new ot;for(let s=0,l=this.height;s<l;++s){const u=this.bytes[s];for(let d=0,f=this.width;d<f;++d)switch(u[d]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ")}o.append("\n")}return o.toString()}}let rl=(()=>{class v{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ot;return s.append("<<\n"),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append("\n ecLevel: "),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append("\n version: "),s.append(this.version?this.version.toString():"null"),s.append("\n maskPattern: "),s.append(this.maskPattern.toString()),this.matrix?(s.append("\n matrix:\n"),s.append(this.matrix.toString())):s.append("\n matrix: null\n"),s.append(">>\n"),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<v.NUM_MASK_PATTERNS}}return v.NUM_MASK_PATTERNS=8,v})(),lt=(()=>{class v extends yn{}return v.kind="WriterException",v})();class xe{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,s,l,u,d){xe.clearMatrix(d),xe.embedBasicPatterns(l,d),xe.embedTypeInfo(s,u,d),xe.maybeEmbedVersionInfo(l,d),xe.embedDataBits(o,u,d)}static embedBasicPatterns(o,s){xe.embedPositionDetectionPatternsAndSeparators(s),xe.embedDarkDotAtLeftBottomCorner(s),xe.maybeEmbedPositionAdjustmentPatterns(o,s),xe.embedTimingPatterns(s)}static embedTypeInfo(o,s,l){const u=new Ct;xe.makeTypeInfoBits(o,s,u);for(let d=0,f=u.getSize();d<f;++d){const p=u.get(u.getSize()-1-d),y=xe.TYPE_INFO_COORDINATES[d];if(l.setBoolean(y[0],y[1],p),d<8){const _=l.getWidth()-d-1;l.setBoolean(_,8,p)}else{const A=l.getHeight()-7+(d-8);l.setBoolean(8,A,p)}}}static maybeEmbedVersionInfo(o,s){if(o.getVersionNumber()<7)return;const l=new Ct;xe.makeVersionInfoBits(o,l);let u=17;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const p=l.get(u);u--,s.setBoolean(d,s.getHeight()-11+f,p),s.setBoolean(s.getHeight()-11+f,d,p)}}static embedDataBits(o,s,l){let u=0,d=-1,f=l.getWidth()-1,p=l.getHeight()-1;for(;f>0;){for(6===f&&(f-=1);p>=0&&p<l.getHeight();){for(let y=0;y<2;++y){const C=f-y;if(!xe.isEmpty(l.get(C,p)))continue;let E;u<o.getSize()?(E=o.get(u),++u):E=!1,255!==s&&ko.getDataMaskBit(s,C,p)&&(E=!E),l.setBoolean(C,p,E)}p+=d}d=-d,p+=d,f-=2}if(u!==o.getSize())throw new lt("Not all bits consumed: "+u+"/"+o.getSize())}static findMSBSet(o){return 32-Te.numberOfLeadingZeros(o)}static calculateBCHCode(o,s){if(0===s)throw new ce("0 polynomial");const l=xe.findMSBSet(s);for(o<<=l-1;xe.findMSBSet(o)>=l;)o^=s<<xe.findMSBSet(o)-l;return o}static makeTypeInfoBits(o,s,l){if(!rl.isValidMaskPattern(s))throw new lt("Invalid mask pattern");const u=o.getBits()<<3|s;l.appendBits(u,5);const d=xe.calculateBCHCode(u,xe.TYPE_INFO_POLY);l.appendBits(d,10);const f=new Ct;if(f.appendBits(xe.TYPE_INFO_MASK_PATTERN,15),l.xor(f),15!==l.getSize())throw new lt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(o,s){s.appendBits(o.getVersionNumber(),6);const l=xe.calculateBCHCode(o.getVersionNumber(),xe.VERSION_INFO_POLY);if(s.appendBits(l,12),18!==s.getSize())throw new lt("should not happen but we got: "+s.getSize())}static isEmpty(o){return 255===o}static embedTimingPatterns(o){for(let s=8;s<o.getWidth()-8;++s){const l=(s+1)%2;xe.isEmpty(o.get(s,6))&&o.setNumber(s,6,l),xe.isEmpty(o.get(6,s))&&o.setNumber(6,s,l)}}static embedDarkDotAtLeftBottomCorner(o){if(0===o.get(8,o.getHeight()-8))throw new lt;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,s,l){for(let u=0;u<8;++u){if(!xe.isEmpty(l.get(o+u,s)))throw new lt;l.setNumber(o+u,s,0)}}static embedVerticalSeparationPattern(o,s,l){for(let u=0;u<7;++u){if(!xe.isEmpty(l.get(o,s+u)))throw new lt;l.setNumber(o,s+u,0)}}static embedPositionAdjustmentPattern(o,s,l){for(let u=0;u<5;++u){const d=xe.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)l.setNumber(o+f,s+u,d[f])}}static embedPositionDetectionPattern(o,s,l){for(let u=0;u<7;++u){const d=xe.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)l.setNumber(o+f,s+u,d[f])}}static embedPositionDetectionPatternsAndSeparators(o){const s=xe.POSITION_DETECTION_PATTERN[0].length;xe.embedPositionDetectionPattern(0,0,o),xe.embedPositionDetectionPattern(o.getWidth()-s,0,o),xe.embedPositionDetectionPattern(0,o.getWidth()-s,o);xe.embedHorizontalSeparationPattern(0,7,o),xe.embedHorizontalSeparationPattern(o.getWidth()-8,7,o),xe.embedHorizontalSeparationPattern(0,o.getWidth()-8,o);xe.embedVerticalSeparationPattern(7,0,o),xe.embedVerticalSeparationPattern(o.getHeight()-7-1,0,o),xe.embedVerticalSeparationPattern(7,o.getHeight()-7,o)}static maybeEmbedPositionAdjustmentPatterns(o,s){if(o.getVersionNumber()<2)return;const l=o.getVersionNumber()-1,u=xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=u.length;d!==f;d++){const p=u[d];if(p>=0)for(let y=0;y!==f;y++){const C=u[y];C>=0&&xe.isEmpty(s.get(C,p))&&xe.embedPositionAdjustmentPattern(C-2,p-2,s)}}}}xe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),xe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),xe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),xe.VERSION_INFO_POLY=7973,xe.TYPE_INFO_POLY=1335,xe.TYPE_INFO_MASK_PATTERN=21522;class Ds{constructor(o,s){this.dataBytes=o,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class It{constructor(){}static calculateMaskPenalty(o){return ko.applyMaskPenaltyRule1(o)+ko.applyMaskPenaltyRule2(o)+ko.applyMaskPenaltyRule3(o)+ko.applyMaskPenaltyRule4(o)}static encode(o,s,l=null){let u=It.DEFAULT_BYTE_MODE_ENCODING;const d=null!==l&&void 0!==l.get(an.CHARACTER_SET);d&&(u=l.get(an.CHARACTER_SET).toString());const f=this.chooseMode(o,u),p=new Ct;if(f===we.BYTE&&(d||It.DEFAULT_BYTE_MODE_ENCODING!==u)){const oe=ee.getCharacterSetECIByName(u);void 0!==oe&&this.appendECI(oe,p)}this.appendModeInfo(f,p);const y=new Ct;let C;if(this.appendBytes(o,f,y,u),null!==l&&void 0!==l.get(an.QR_VERSION)){const oe=Number.parseInt(l.get(an.QR_VERSION).toString(),10);C=Ce.getVersionForNumber(oe);const j=this.calculateBitsNeeded(f,p,y,C);if(!this.willFit(j,C,s))throw new lt("Data too big for requested version")}else C=this.recommendVersion(s,f,p,y);const E=new Ct;E.appendBitArray(p);const _=f===we.BYTE?y.getSizeInBytes():o.length;this.appendLengthInfo(_,C,f,E),E.appendBitArray(y);const A=C.getECBlocksForLevel(s),I=C.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(I,E);const N=this.interleaveWithECBytes(E,C.getTotalCodewords(),I,A.getNumBlocks()),O=new rl;O.setECLevel(s),O.setMode(f),O.setVersion(C);const F=C.getDimensionForVersion(),U=new nl(F,F),K=this.chooseMaskPattern(N,s,C,U);return O.setMaskPattern(K),xe.buildMatrix(N,s,C,K,U),O.setMatrix(U),O}static recommendVersion(o,s,l,u){const d=this.calculateBitsNeeded(s,l,u,Ce.getVersionForNumber(1)),f=this.chooseVersion(d,o),p=this.calculateBitsNeeded(s,l,u,f);return this.chooseVersion(p,o)}static calculateBitsNeeded(o,s,l,u){return s.getSize()+o.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(o){return o<It.ALPHANUMERIC_TABLE.length?It.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,s=null){if(ee.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(o))return we.KANJI;let l=!1,u=!1;for(let d=0,f=o.length;d<f;++d){const p=o.charAt(d);if(It.isDigit(p))l=!0;else{if(-1===this.getAlphanumericCode(p.charCodeAt(0)))return we.BYTE;u=!0}}return u?we.ALPHANUMERIC:l?we.NUMERIC:we.BYTE}static isOnlyDoubleByteKanji(o){let s;try{s=cn.encode(o,ee.SJIS)}catch{return!1}const l=s.length;if(l%2!=0)return!1;for(let u=0;u<l;u+=2){const d=255&s[u];if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(o,s,l,u){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let p=0;p<rl.NUM_MASK_PATTERNS;p++){xe.buildMatrix(o,s,l,p,u);let y=this.calculateMaskPenalty(u);y<d&&(d=y,f=p)}return f}static chooseVersion(o,s){for(let l=1;l<=40;l++){const u=Ce.getVersionForNumber(l);if(It.willFit(o,u,s))return u}throw new lt("Data too big")}static willFit(o,s,l){return s.getTotalCodewords()-s.getECBlocksForLevel(l).getTotalECCodewords()>=(o+7)/8}static terminateBits(o,s){const l=8*o;if(s.getSize()>l)throw new lt("data bits cannot fit in the QR Code"+s.getSize()+" > "+l);for(let f=0;f<4&&s.getSize()<l;++f)s.appendBit(!1);const u=7&s.getSize();if(u>0)for(let f=u;f<8;f++)s.appendBit(!1);const d=o-s.getSizeInBytes();for(let f=0;f<d;++f)s.appendBits(1&f?17:236,8);if(s.getSize()!==l)throw new lt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,s,l,u,d,f){if(u>=l)throw new lt("Block ID too large");const p=o%l,y=l-p,C=Math.floor(o/l),E=C+1,_=Math.floor(s/l),A=_+1,I=C-_,N=E-A;if(I!==N)throw new lt("EC bytes mismatch");if(l!==y+p)throw new lt("RS blocks mismatch");if(o!==(_+I)*y+(A+N)*p)throw new lt("Total bytes mismatch");u<y?(d[0]=_,f[0]=I):(d[0]=A,f[0]=N)}static interleaveWithECBytes(o,s,l,u){if(o.getSizeInBytes()!==l)throw new lt("Number of bits and data bytes does not match");let d=0,f=0,p=0;const y=new Array;for(let E=0;E<u;++E){const _=new Int32Array(1),A=new Int32Array(1);It.getNumDataBytesAndNumECBytesForBlockID(s,l,u,E,_,A);const I=_[0],N=new Uint8Array(I);o.toBytes(8*d,N,0,I);const O=It.generateECBytes(N,A[0]);y.push(new Ds(N,O)),f=Math.max(f,I),p=Math.max(p,O.length),d+=_[0]}if(l!==d)throw new lt("Data bytes does not match offset");const C=new Ct;for(let E=0;E<f;++E)for(const _ of y){const A=_.getDataBytes();E<A.length&&C.appendBits(A[E],8)}for(let E=0;E<p;++E)for(const _ of y){const A=_.getErrorCorrectionBytes();E<A.length&&C.appendBits(A[E],8)}if(s!==C.getSizeInBytes())throw new lt("Interleaving error: "+s+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(o,s){const l=o.length,u=new Int32Array(l+s);for(let f=0;f<l;f++)u[f]=255&o[f];new ct(et.QR_CODE_FIELD_256).encode(u,s);const d=new Uint8Array(s);for(let f=0;f<s;f++)d[f]=u[l+f];return d}static appendModeInfo(o,s){s.appendBits(o.getBits(),4)}static appendLengthInfo(o,s,l,u){const d=l.getCharacterCountBits(s);if(o>=1<<d)throw new lt(o+" is bigger than "+((1<<d)-1));u.appendBits(o,d)}static appendBytes(o,s,l,u){switch(s){case we.NUMERIC:It.appendNumericBytes(o,l);break;case we.ALPHANUMERIC:It.appendAlphanumericBytes(o,l);break;case we.BYTE:It.append8BitBytes(o,l,u);break;case we.KANJI:It.appendKanjiBytes(o,l);break;default:throw new lt("Invalid mode: "+s)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const s=It.getDigit(o);return s>=0&&s<=9}static appendNumericBytes(o,s){const l=o.length;let u=0;for(;u<l;){const d=It.getDigit(o.charAt(u));if(u+2<l){const f=It.getDigit(o.charAt(u+1)),p=It.getDigit(o.charAt(u+2));s.appendBits(100*d+10*f+p,10),u+=3}else if(u+1<l){const f=It.getDigit(o.charAt(u+1));s.appendBits(10*d+f,7),u+=2}else s.appendBits(d,4),u++}}static appendAlphanumericBytes(o,s){const l=o.length;let u=0;for(;u<l;){const d=It.getAlphanumericCode(o.charCodeAt(u));if(-1===d)throw new lt;if(u+1<l){const f=It.getAlphanumericCode(o.charCodeAt(u+1));if(-1===f)throw new lt;s.appendBits(45*d+f,11),u+=2}else s.appendBits(d,6),u++}}static append8BitBytes(o,s,l){let u;try{u=cn.encode(o,l)}catch(d){throw new lt(d)}for(let d=0,f=u.length;d!==f;d++)s.appendBits(u[d],8)}static appendKanjiBytes(o,s){let l;try{l=cn.encode(o,ee.SJIS)}catch(d){throw new lt(d)}const u=l.length;for(let d=0;d<u;d+=2){const y=(255&l[d])<<8&4294967295|255&l[d+1];let C=-1;if(y>=33088&&y<=40956?C=y-33088:y>=57408&&y<=60351&&(C=y-49472),-1===C)throw new lt("Invalid byte sequence");s.appendBits(192*(C>>8)+(255&C),13)}}static appendECI(o,s){s.appendBits(we.ECI.getBits(),4),s.appendBits(o.getValue(),8)}}It.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),It.DEFAULT_BYTE_MODE_ENCODING=ee.UTF8.getName();let Nf=(()=>{class v{write(s,l,u,d=null){if(0===s.length)throw new ce("Found empty contents");if(l<0||u<0)throw new ce("Requested dimensions are too small: "+l+"x"+u);let f=ke.L,p=v.QUIET_ZONE_SIZE;null!==d&&(void 0!==d.get(an.ERROR_CORRECTION)&&(f=ke.fromString(d.get(an.ERROR_CORRECTION).toString())),void 0!==d.get(an.MARGIN)&&(p=Number.parseInt(d.get(an.MARGIN).toString(),10)));const y=It.encode(s,f,d);return this.renderResult(y,l,u,p)}writeToDom(s,l,u,d,f=null){"string"==typeof s&&(s=document.querySelector(s));const p=this.write(l,u,d,f);s&&s.appendChild(p)}renderResult(s,l,u,d){const f=s.getMatrix();if(null===f)throw new Vr;const p=f.getWidth(),y=f.getHeight(),C=p+2*d,E=y+2*d,_=Math.max(l,C),A=Math.max(u,E),I=Math.min(Math.floor(_/C),Math.floor(A/E)),N=Math.floor((_-p*I)/2),O=Math.floor((A-y*I)/2),F=this.createSVGElement(_,A);for(let U=0,K=O;U<y;U++,K+=I)for(let oe=0,j=N;oe<p;oe++,j+=I)if(1===f.get(oe,U)){const je=this.createSvgRectElement(j,K,I,I);F.appendChild(je)}return F}createSVGElement(s,l){const u=document.createElementNS(v.SVG_NS,"svg");return u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(s,l,u,d){const f=document.createElementNS(v.SVG_NS,"rect");return f.setAttributeNS(null,"x",s.toString()),f.setAttributeNS(null,"y",l.toString()),f.setAttributeNS(null,"height",u.toString()),f.setAttributeNS(null,"width",d.toString()),f.setAttributeNS(null,"fill","#000000"),f}}return v.QUIET_ZONE_SIZE=4,v.SVG_NS="http://www.w3.org/2000/svg",v})(),Qc=(()=>{class v{encode(s,l,u,d,f){if(0===s.length)throw new ce("Found empty contents");if(l!==ue.QR_CODE)throw new ce("Can only encode QR_CODE, but got "+l);if(u<0||d<0)throw new ce(`Requested dimensions are too small: ${u}x${d}`);let p=ke.L,y=v.QUIET_ZONE_SIZE;null!==f&&(void 0!==f.get(an.ERROR_CORRECTION)&&(p=ke.fromString(f.get(an.ERROR_CORRECTION).toString())),void 0!==f.get(an.MARGIN)&&(y=Number.parseInt(f.get(an.MARGIN).toString(),10)));const C=It.encode(s,p,f);return v.renderResult(C,u,d,y)}static renderResult(s,l,u,d){const f=s.getMatrix();if(null===f)throw new Vr;const p=f.getWidth(),y=f.getHeight(),C=p+2*d,E=y+2*d,_=Math.max(l,C),A=Math.max(u,E),I=Math.min(Math.floor(_/C),Math.floor(A/E)),N=Math.floor((_-p*I)/2),O=Math.floor((A-y*I)/2),F=new rn(_,A);for(let U=0,K=O;U<y;U++,K+=I)for(let oe=0,j=N;oe<p;oe++,j+=I)1===f.get(oe,U)&&F.setRegion(j,K,I,I);return F}}return v.QUIET_ZONE_SIZE=4,v})();let so=(()=>{class v extends to{constructor(s,l,u,d,f,p,y,C){if(super(p,y),this.yuvData=s,this.dataWidth=l,this.dataHeight=u,this.left=d,this.top=f,d+p>l||f+y>u)throw new ce("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(p,y)}getRow(s,l){if(s<0||s>=this.getHeight())throw new ce("Requested row is outside the image: "+s);const u=this.getWidth();return(null==l||l.length<u)&&(l=new Uint8ClampedArray(u)),yt.arraycopy(this.yuvData,(s+this.top)*this.dataWidth+this.left,l,0,u),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=s*l,d=new Uint8ClampedArray(u);let f=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return yt.arraycopy(this.yuvData,f,d,0,u),d;for(let p=0;p<l;p++)yt.arraycopy(this.yuvData,f,d,p*s,s),f+=this.dataWidth;return d}isCropSupported(){return!0}crop(s,l,u,d){return new v(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+l,u,d,!1)}renderThumbnail(){const s=this.getWidth()/v.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/v.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(s*l),d=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let p=0;p<l;p++){const y=p*s;for(let C=0;C<s;C++)u[y+C]=4278190080|65793*(255&d[f+C*v.THUMBNAIL_SCALE_FACTOR]);f+=this.dataWidth*v.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/v.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/v.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,l){const u=this.yuvData;for(let d=0,f=this.top*this.dataWidth+this.left;d<l;d++,f+=this.dataWidth){const p=f+s/2;for(let y=f,C=f+s-1;y<p;y++,C--){const E=u[y];u[y]=u[C],u[C]=E}}}invert(){return new ht(this)}}return v.THUMBNAIL_SCALE_FACTOR=2,v})();class il extends to{constructor(o,s,l,u,d,f,p){if(super(s,l),this.dataWidth=u,this.dataHeight=d,this.left=f,this.top=p,4===o.BYTES_PER_ELEMENT){const y=s*l,C=new Uint8ClampedArray(y);for(let E=0;E<y;E++){const _=o[E];C[E]=((_>>16&255)+(_>>7&510)+(255&_))/4&255}this.luminances=C}else this.luminances=o;if(void 0===u&&(this.dataWidth=s),void 0===d&&(this.dataHeight=l),void 0===f&&(this.left=0),void 0===p&&(this.top=0),this.left+s>this.dataWidth||this.top+l>this.dataHeight)throw new ce("Crop rectangle does not fit within image data.")}getRow(o,s){if(o<0||o>=this.getHeight())throw new ce("Requested row is outside the image: "+o);const l=this.getWidth();return(null==s||s.length<l)&&(s=new Uint8ClampedArray(l)),yt.arraycopy(this.luminances,(o+this.top)*this.dataWidth+this.left,s,0,l),s}getMatrix(){const o=this.getWidth(),s=this.getHeight();if(o===this.dataWidth&&s===this.dataHeight)return this.luminances;const l=o*s,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return yt.arraycopy(this.luminances,d,u,0,l),u;for(let f=0;f<s;f++)yt.arraycopy(this.luminances,d,u,f*o,o),d+=this.dataWidth;return u}isCropSupported(){return!0}crop(o,s,l,u){return new il(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+o,this.top+s)}invert(){return new ht(this)}}class zr extends ee{static forName(o){return this.getCharacterSetECIByName(o)}}class ol{}ol.ISO_8859_1=ee.ISO8859_1;class te{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class sl{static singletonList(o){return[o]}static min(o,s){return o.sort(s)[0]}}class ae{constructor(o){this.previous=o}getPrevious(){return this.previous}}class Gr extends ae{constructor(o,s,l){super(o),this.value=s,this.bitCount=l}appendTo(o,s){o.appendBits(this.value,this.bitCount)}add(o,s){return new Gr(this,o,s)}addBinaryShift(o,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Gr(this,o,s)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+Te.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class Bo extends Gr{constructor(o,s,l){super(o,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=l}appendTo(o,s){for(let l=0;l<this.binaryShiftByteCount;l++)(0===l||31===l&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):o.appendBits(0===l?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),o.appendBits(s[this.binaryShiftStart+l],8)}addBinaryShift(o,s){return new Bo(this,o,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Uo(v,o,s){return new Gr(v,o,s)}const Rf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ke=new Gr(null,0,0),ao=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const Is=function al(v){for(let o of v)$t.fill(o,-1);return v[0][4]=0,v[1][4]=0,v[1][0]=28,v[3][4]=0,v[2][4]=0,v[2][0]=15,v}($t.createInt32Array(6,6));class dr{constructor(o,s,l,u){this.token=o,this.mode=s,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,s){let l=this.bitCount,u=this.token;if(o!==this.mode){let f=ao[this.mode][o];u=Uo(u,65535&f,f>>16),l+=f>>16}let d=2===o?4:5;return u=Uo(u,s,d),new dr(u,o,0,l+d)}shiftAndAppend(o,s){let l=this.token,u=2===this.mode?4:5;return l=Uo(l,Is[this.mode][o],u),l=Uo(l,s,5),new dr(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(o){let s=this.token,l=this.mode,u=this.bitCount;if(4===this.mode||2===this.mode){let p=ao[l][0];s=Uo(s,65535&p,p>>16),u+=p>>16,l=0}let f=new dr(s,l,this.binaryShiftByteCount+1,u+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===f.binaryShiftByteCount&&(f=f.endBinaryShift(o+1)),f}endBinaryShift(o){if(0===this.binaryShiftByteCount)return this;let s=this.token;return s=function Vo(v,o,s){return new Bo(v,o,s)}(s,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new dr(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let s=this.bitCount+(ao[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?s+=dr.calculateBinaryShiftCost(o)-dr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(s+=10),s<=o.bitCount}toBitArray(o){let s=[];for(let u=this.endBinaryShift(o.length).token;null!==u;u=u.getPrevious())s.unshift(u);let l=new Ct;for(const u of s)u.appendTo(l,o);return l}toString(){return De.format("%s bits=%d bytes=%d",Rf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}dr.INITIAL_STATE=new dr(Ke,0,0,0);const Fi=function Wr(v){const o=De.getCharCode(" "),s=De.getCharCode("."),l=De.getCharCode(",");v[0][o]=1;const u=De.getCharCode("Z"),d=De.getCharCode("A");for(let A=d;A<=u;A++)v[0][A]=A-d+2;v[1][o]=1;const f=De.getCharCode("z"),p=De.getCharCode("a");for(let A=p;A<=f;A++)v[1][A]=A-p+2;v[2][o]=1;const y=De.getCharCode("9"),C=De.getCharCode("0");for(let A=C;A<=y;A++)v[2][A]=A-C+2;v[2][l]=12,v[2][s]=13;const E=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let A=0;A<E.length;A++)v[3][De.getCharCode(E[A])]=A;const _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<_.length;A++)De.getCharCode(_[A])>0&&(v[4][De.getCharCode(_[A])]=A);return v}($t.createInt32Array(5,256));class lo{constructor(o){this.text=o}encode(){const o=De.getCharCode(" "),s=De.getCharCode("\n");let l=sl.singletonList(dr.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,p=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case De.getCharCode("\r"):f=p===s?2:0;break;case De.getCharCode("."):f=p===o?3:0;break;case De.getCharCode(","):f=p===o?4:0;break;case De.getCharCode(":"):f=p===o?5:0;break;default:f=0}f>0?(l=lo.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return sl.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,s){const l=[];for(let u of o)this.updateStateForChar(u,s,l);return lo.simplifyStates(l)}updateStateForChar(o,s,l){let u=255&this.text[s],d=Fi[o.getMode()][u]>0,f=null;for(let p=0;p<=4;p++){let y=Fi[p][u];if(y>0){if(null==f&&(f=o.endBinaryShift(s)),!d||p===o.getMode()||2===p){const C=f.latchAndAppend(p,y);l.push(C)}if(!d&&Is[o.getMode()][p]>=0){const C=f.shiftAndAppend(p,y);l.push(C)}}}if(o.getBinaryShiftByteCount()>0||0===Fi[o.getMode()][u]){let p=o.addBinaryShiftChar(s);l.push(p)}}static updateStateListForPair(o,s,l){const u=[];for(let d of o)this.updateStateForPair(d,s,l,u);return this.simplifyStates(u)}static updateStateForPair(o,s,l,u){let d=o.endBinaryShift(s);if(u.push(d.latchAndAppend(4,l)),4!==o.getMode()&&u.push(d.shiftAndAppend(4,l)),3===l||4===l){let f=d.latchAndAppend(2,16-l).latchAndAppend(2,1);u.push(f)}if(o.getBinaryShiftByteCount()>0){let f=o.addBinaryShiftChar(s).addBinaryShiftChar(s+1);u.push(f)}}static simplifyStates(o){let s=[];for(const l of o){let u=!0;for(const d of s){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(s=s.filter(f=>f!==d))}u&&s.push(l)}return s}}class Xe{constructor(){}static encodeBytes(o){return Xe.encode(o,Xe.DEFAULT_EC_PERCENT,Xe.DEFAULT_AZTEC_LAYERS)}static encode(o,s,l){let p,y,C,E,_,u=new lo(o).encode(),d=Te.truncDivision(u.getSize()*s,100)+11,f=u.getSize()+d;if(l!==Xe.DEFAULT_AZTEC_LAYERS){if(p=l<0,y=Math.abs(l),y>(p?Xe.MAX_NB_BITS_COMPACT:Xe.MAX_NB_BITS))throw new ce(De.format("Illegal value %s for layers",l));C=Xe.totalBitsInLayer(y,p),E=Xe.WORD_SIZE[y];let j=C-C%E;if(_=Xe.stuffBits(u,E),_.getSize()+d>j)throw new ce("Data to large for user specified layer");if(p&&_.getSize()>64*E)throw new ce("Data to large for user specified layer")}else{E=0,_=null;for(let j=0;;j++){if(j>Xe.MAX_NB_BITS)throw new ce("Data too large for an Aztec code");if(p=j<=3,y=p?j+1:j,C=Xe.totalBitsInLayer(y,p),f>C)continue;(null==_||E!==Xe.WORD_SIZE[y])&&(E=Xe.WORD_SIZE[y],_=Xe.stuffBits(u,E));let je=C-C%E;if(!(p&&_.getSize()>64*E)&&_.getSize()+d<=je)break}}let U,A=Xe.generateCheckWords(_,C,E),I=_.getSize()/E,N=Xe.generateModeMessage(p,y,I),O=(p?11:14)+4*y,F=new Int32Array(O);if(p){U=O;for(let j=0;j<F.length;j++)F[j]=j}else{U=O+1+2*Te.truncDivision(Te.truncDivision(O,2)-1,15);let j=Te.truncDivision(O,2),je=Te.truncDivision(U,2);for(let Ne=0;Ne<j;Ne++){let Nn=Ne+Te.truncDivision(Ne,15);F[j-Ne-1]=je-Nn-1,F[j+Ne]=je+Nn+1}}let K=new rn(U);for(let j=0,je=0;j<y;j++){let Ne=4*(y-j)+(p?9:12);for(let Nn=0;Nn<Ne;Nn++){let Ht=2*Nn;for(let Rn=0;Rn<2;Rn++)A.get(je+Ht+Rn)&&K.set(F[2*j+Rn],F[2*j+Nn]),A.get(je+2*Ne+Ht+Rn)&&K.set(F[2*j+Nn],F[O-1-2*j-Rn]),A.get(je+4*Ne+Ht+Rn)&&K.set(F[O-1-2*j-Rn],F[O-1-2*j-Nn]),A.get(je+6*Ne+Ht+Rn)&&K.set(F[O-1-2*j-Nn],F[2*j+Rn])}je+=8*Ne}if(Xe.drawModeMessage(K,p,U,N),p)Xe.drawBullsEye(K,Te.truncDivision(U,2),5);else{Xe.drawBullsEye(K,Te.truncDivision(U,2),7);for(let j=0,je=0;j<Te.truncDivision(O,2)-1;j+=15,je+=16)for(let Ne=1&Te.truncDivision(U,2);Ne<U;Ne+=2)K.set(Te.truncDivision(U,2)-je,Ne),K.set(Te.truncDivision(U,2)+je,Ne),K.set(Ne,Te.truncDivision(U,2)-je),K.set(Ne,Te.truncDivision(U,2)+je)}let oe=new te;return oe.setCompact(p),oe.setSize(U),oe.setLayers(y),oe.setCodeWords(I),oe.setMatrix(K),oe}static drawBullsEye(o,s,l){for(let u=0;u<l;u+=2)for(let d=s-u;d<=s+u;d++)o.set(d,s-u),o.set(d,s+u),o.set(s-u,d),o.set(s+u,d);o.set(s-l,s-l),o.set(s-l+1,s-l),o.set(s-l,s-l+1),o.set(s+l,s-l),o.set(s+l,s-l+1),o.set(s+l,s+l-1)}static generateModeMessage(o,s,l){let u=new Ct;return o?(u.appendBits(s-1,2),u.appendBits(l-1,6),u=Xe.generateCheckWords(u,28,4)):(u.appendBits(s-1,5),u.appendBits(l-1,11),u=Xe.generateCheckWords(u,40,4)),u}static drawModeMessage(o,s,l,u){let d=Te.truncDivision(l,2);if(s)for(let f=0;f<7;f++){let p=d-3+f;u.get(f)&&o.set(p,d-5),u.get(f+7)&&o.set(d+5,p),u.get(20-f)&&o.set(p,d+5),u.get(27-f)&&o.set(d-5,p)}else for(let f=0;f<10;f++){let p=d-5+f+Te.truncDivision(f,5);u.get(f)&&o.set(p,d-7),u.get(f+10)&&o.set(d+7,p),u.get(29-f)&&o.set(p,d+7),u.get(39-f)&&o.set(d-7,p)}}static generateCheckWords(o,s,l){let u=o.getSize()/l,d=new ct(Xe.getGF(l)),f=Te.truncDivision(s,l),p=Xe.bitsToWords(o,l,f);d.encode(p,f-u);let y=s%l,C=new Ct;C.appendBits(0,y);for(const E of Array.from(p))C.appendBits(E,l);return C}static bitsToWords(o,s,l){let d,f,u=new Int32Array(l);for(d=0,f=o.getSize()/s;d<f;d++){let p=0;for(let y=0;y<s;y++)p|=o.get(d*s+y)?1<<s-y-1:0;u[d]=p}return u}static getGF(o){switch(o){case 4:return et.AZTEC_PARAM;case 6:return et.AZTEC_DATA_6;case 8:return et.AZTEC_DATA_8;case 10:return et.AZTEC_DATA_10;case 12:return et.AZTEC_DATA_12;default:throw new ce("Unsupported word size "+o)}}static stuffBits(o,s){let l=new Ct,u=o.getSize(),d=(1<<s)-2;for(let f=0;f<u;f+=s){let p=0;for(let y=0;y<s;y++)(f+y>=u||o.get(f+y))&&(p|=1<<s-1-y);(p&d)===d?(l.appendBits(p&d,s),f--):p&d?l.appendBits(p,s):(l.appendBits(1|p,s),f--)}return l}static totalBitsInLayer(o,s){return((s?88:112)+16*o)*o}}Xe.DEFAULT_EC_PERCENT=33,Xe.DEFAULT_AZTEC_LAYERS=0,Xe.MAX_NB_BITS=32,Xe.MAX_NB_BITS_COMPACT=4,Xe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class co{encode(o,s,l,u){return this.encodeWithHints(o,s,l,u,null)}encodeWithHints(o,s,l,u,d){let f=ol.ISO_8859_1,p=Xe.DEFAULT_EC_PERCENT,y=Xe.DEFAULT_AZTEC_LAYERS;return null!=d&&(d.has(an.CHARACTER_SET)&&(f=zr.forName(d.get(an.CHARACTER_SET).toString())),d.has(an.ERROR_CORRECTION)&&(p=Te.parseInt(d.get(an.ERROR_CORRECTION).toString())),d.has(an.AZTEC_LAYERS)&&(y=Te.parseInt(d.get(an.AZTEC_LAYERS).toString()))),co.encodeLayers(o,s,l,u,f,p,y)}static encodeLayers(o,s,l,u,d,f,p){if(s!==ue.AZTEC)throw new ce("Can only encode AZTEC, but got "+s);let y=Xe.encode(De.getBytes(o,d),f,p);return co.renderResult(y,l,u)}static renderResult(o,s,l){let u=o.getMatrix();if(null==u)throw new Vr;let d=u.getWidth(),f=u.getHeight(),p=Math.max(s,d),y=Math.max(l,f),C=Math.min(p/d,y/f),E=(p-d*C)/2,_=(y-f*C)/2,A=new rn(p,y);for(let I=0,N=_;I<f;I++,N+=C)for(let O=0,F=E;O<d;O++,F+=C)u.get(O,I)&&A.setRegion(F,N,C,C);return A}}X.AbstractExpandedDecoder=Xa,X.ArgumentException=Vn,X.ArithmeticException=No,X.AztecCode=te,X.AztecCodeReader=gs,X.AztecCodeWriter=co,X.AztecDecoder=Oc,X.AztecDetector=Pc,X.AztecDetectorResult=qa,X.AztecEncoder=Xe,X.AztecHighLevelEncoder=lo,X.AztecPoint=An,X.BarcodeFormat=ue,X.Binarizer=ja,X.BinaryBitmap=Fr,X.BitArray=Ct,X.BitMatrix=rn,X.BitSource=ws,X.BrowserAztecCodeReader=class ni extends Ti{constructor(o=500){super(new gs,o)}},X.BrowserBarcodeReader=class zc extends Ti{constructor(o=500,s){super(new io(s),o,s)}},X.BrowserCodeReader=Ti,X.BrowserDatamatrixCodeReader=class Gc extends Ti{constructor(o=500){super(new Ee,o)}},X.BrowserMultiFormatReader=class el extends Ti{constructor(o=null,s=500){const l=new Be;l.setHints(o),super(l,s)}decodeBitmap(o){return this.reader.decodeWithState(o)}},X.BrowserPDF417Reader=class Zc extends Ti{constructor(o=500){super(new sn,o)}},X.BrowserQRCodeReader=class Mn extends Ti{constructor(o=500){super(new ai,o)}},X.BrowserQRCodeSvgWriter=Nf,X.CharacterSetECI=ee,X.ChecksumException=Yt,X.Code128Reader=ne,X.Code39Reader=ms,X.DataMatrixDecodedBitStreamParser=si,X.DataMatrixReader=Ee,X.DecodeHintType=_t,X.DecoderResult=Pt,X.DefaultGridSampler=ps,X.DetectorResult=fs,X.EAN13Reader=ys,X.EncodeHintType=an,X.Exception=yn,X.FormatException=re,X.GenericGF=et,X.GenericGFPoly=Ie,X.GlobalHistogramBinarizer=Dt,X.GridSampler=Oo,X.GridSamplerInstance=Ur,X.HTMLCanvasElementLuminanceSource=Br,X.HybridBinarizer=Fe,X.ITFReader=vt,X.IllegalArgumentException=ce,X.IllegalStateException=Vr,X.InvertedLuminanceSource=ht,X.LuminanceSource=to,X.MathUtils=Qe,X.MultiFormatOneDReader=io,X.MultiFormatReader=Be,X.MultiFormatWriter=class Kc{encode(o,s,l,u,d){let f;if(s!==ue.QR_CODE)throw new ce("No encoder available for format "+s);return f=new Qc,f.encode(o,s,l,u,d)}},X.NotFoundException=W,X.OneDReader=Vt,X.PDF417DecodedBitStreamParser=H,X.PDF417DecoderErrorCorrection=Sf,X.PDF417Reader=sn,X.PDF417ResultMetadata=Tf,X.PerspectiveTransform=ar,X.PlanarYUVLuminanceSource=so,X.QRCodeByteMatrix=nl,X.QRCodeDataMask=Tn,X.QRCodeDecodedBitStreamParser=Es,X.QRCodeDecoderErrorCorrectionLevel=ke,X.QRCodeDecoderFormatInformation=vn,X.QRCodeEncoder=It,X.QRCodeEncoderQRCode=rl,X.QRCodeMaskUtil=ko,X.QRCodeMatrixUtil=xe,X.QRCodeMode=we,X.QRCodeReader=ai,X.QRCodeVersion=Ce,X.QRCodeWriter=Qc,X.RGBLuminanceSource=il,X.RSS14Reader=At,X.RSSExpandedReader=q,X.ReaderException=Ja,X.ReedSolomonDecoder=Ro,X.ReedSolomonEncoder=ct,X.ReedSolomonException=Mi,X.Result=Nt,X.ResultMetadataType=We,X.ResultPoint=me,X.StringUtils=De,X.UnsupportedOperationException=kr,X.VideoInputDevice=Rc,X.WhiteRectangleDetector=hs,X.WriterException=lt,X.ZXingArrays=$t,X.ZXingCharset=zr,X.ZXingInteger=Te,X.ZXingStandardCharsets=ol,X.ZXingStringBuilder=ot,X.ZXingStringEncoding=cn,X.ZXingSystem=yt,X.createAbstractExpandedDecoder=Af,Object.defineProperty(X,"__esModule",{value:!0})}(Sc)}},Ic=>{Ic(Ic.s=553)}]);