(self.webpackChunkduck_go=self.webpackChunkduck_go||[]).push([[179],{28:(Bc,Vc,Q)=>{"use strict";function et(e){return"function"==typeof e}function $a(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const qa=$a(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ya(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Jn{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(et(r))try{r()}catch(s){n=s instanceof qa?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Gn(s)}catch(c){n=n??[],c instanceof qa?n=[...n,...c.errors]:n.push(c)}}if(n)throw new qa(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Gn(n);else{if(n instanceof Jn){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ya(t,n)}remove(n){const{_finalizers:t}=this;t&&Ya(t,n),n instanceof Jn&&n._removeParent(this)}}Jn.EMPTY=(()=>{const e=new Jn;return e.closed=!0,e})();const Uc=Jn.EMPTY;function wn(e){return e instanceof Jn||e&&"closed"in e&&et(e.remove)&&et(e.add)&&et(e.unsubscribe)}function Gn(e){et(e)?e():e.unsubscribe()}const fe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Vr={setTimeout(e,n,...t){const{delegate:r}=Vr;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Vr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Kt(e){Vr.setTimeout(()=>{const{onUnhandledError:n}=fe;if(!n)throw e;n(e)})}function Xa(){}const _t=Zt("C",void 0,void 0);function Zt(e,n,t){return{kind:e,value:n,error:t}}let Ne=null;function Et(e){if(fe.useDeprecatedSynchronousErrorHandling){const n=!Ne;if(n&&(Ne={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=Ne;if(Ne=null,t)throw r}}else e()}class St extends Jn{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,wn(n)&&n.add(this)):this.destination=an}static create(n,t,r){return new Ur(n,t,r)}next(n){this.isStopped?ut(function Hc(e){return Zt("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ut(function Za(e){return Zt("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ut(_t,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const oe=Function.prototype.bind;function ct(e,n){return oe.call(e,n)}class te{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){hn(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){hn(r)}else hn(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){hn(t)}}}class Ur extends St{constructor(n,t,r){let i;if(super(),et(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&fe.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&ct(n.next,s),error:n.error&&ct(n.error,s),complete:n.complete&&ct(n.complete,s)}):i=n}this.destination=new te(i)}}function hn(e){fe.useDeprecatedSynchronousErrorHandling?function jc(e){fe.useDeprecatedSynchronousErrorHandling&&Ne&&(Ne.errorThrown=!0,Ne.error=e)}(e):Kt(e)}function ut(e,n){const{onStoppedNotification:t}=fe;t&&Vr.setTimeout(()=>t(e,n))}const an={closed:!0,next:Xa,error:function Se(e){throw e},complete:Xa},Y="function"==typeof Symbol&&Symbol.observable||"@@observable";function Mt(e){return e}function so(e){return 0===e.length?Mt:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let vt=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function Dn(e){return e&&e instanceof St||function zc(e){return e&&et(e.next)&&et(e.error)&&et(e.complete)}(e)&&wn(e)}(t)?t:new Ur(t,r,i);return Et(()=>{const{operator:c,source:h}=this;s.add(c?c.call(s,h):h?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Hr(r))((i,s)=>{const c=new Ur({next:h=>{try{t(h)}catch(g){s(g),c.unsubscribe()}},error:s,complete:i});this.subscribe(c)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Y](){return this}pipe(...t){return so(t)(this)}toPromise(t){return new(t=Hr(t))((r,i)=>{let s;this.subscribe(c=>s=c,c=>i(c),()=>r(s))})}}return e.create=n=>new e(n),e})();function Hr(e){var n;return null!==(n=e??fe.Promise)&&void 0!==n?n:Promise}const Pi=$a(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ot=(()=>{class e extends vt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Qa(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Pi}next(t){Et(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Et(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Et(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Uc:(this.currentObservers=null,s.push(t),new Jn(()=>{this.currentObservers=null,Ya(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new vt;return t.source=this,t}}return e.create=(n,t)=>new Qa(n,t),e})();class Qa extends Ot{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Uc}}class he extends Ot{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Ka(e){return et(e?.lift)}function Xe(e){return n=>{if(Ka(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ft(e,n,t,r,i){return new Vo(e,n,t,r,i)}class Vo extends St{constructor(n,t,r,i,s,c){super(n),this.onFinalize=s,this.shouldUnsubscribe=c,this._next=t?function(h){try{t(h)}catch(g){n.error(g)}}:super._next,this._error=i?function(h){try{i(h)}catch(g){n.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Te(e,n){return Xe((t,r)=>{let i=0;t.subscribe(Ft(r,s=>{r.next(e.call(n,s,i++))}))})}function ai(e){return this instanceof ai?(this.v=e,this):new ai(e)}function bs(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Es(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(c){return new Promise(function(h,g){!function i(s,c,h,g){Promise.resolve(g).then(function(m){s({value:m,done:h})},c)}(h,g,(c=e[s](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const li=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Fi(e){return et(e?.then)}function Go(e){return et(e[Y])}function hr(e){return Symbol.asyncIterator&&et(e?.[Symbol.asyncIterator])}function Zc(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ds=function ki(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function er(e){return et(e?.[Ds])}function ci(e){return function jt(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),s=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(S){r[S]&&(i[S]=function(N){return new Promise(function(F,L){s.push([S,N,F,L])>1||h(S,N)})})}function h(S,N){try{!function g(S){S.value instanceof ai?Promise.resolve(S.value.v).then(m,w):E(s[0][2],S)}(r[S](N))}catch(F){E(s[0][3],F)}}function m(S){h("next",S)}function w(S){h("throw",S)}function E(S,N){S(N),s.shift(),s.length&&h(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield ai(t.read());if(i)return yield ai(void 0);yield yield ai(r)}}finally{t.releaseLock()}})}function Bi(e){return et(e?.getReader)}function se(e){if(e instanceof vt)return e;if(null!=e){if(Go(e))return function ao(e){return new vt(n=>{const t=e[Y]();if(et(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(li(e))return function nl(e){return new vt(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Fi(e))return function pr(e){return new vt(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Kt)})}(e);if(hr(e))return Qc(e);if(er(e))return function Tf(e){return new vt(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Bi(e))return function Is(e){return Qc(ci(e))}(e)}throw Zc(e)}function Qc(e){return new vt(n=>{(function Kc(e,n){var t,r,i,s;return function el(e,n,t,r){return new(t||(t=Promise))(function(s,c){function h(w){try{m(r.next(w))}catch(E){c(E)}}function g(w){try{m(r.throw(w))}catch(E){c(E)}}function m(w){w.done?s(w.value):function i(s){return s instanceof t?s:new t(function(c){c(s)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=bs(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Gr(e,n,t,r=0,i=!1){const s=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function pn(e,n,t=1/0){return et(n)?pn((r,i)=>Te((s,c)=>n(r,s,i,c))(se(e(r,i))),t):("number"==typeof n&&(t=n),Xe((r,i)=>function Mf(e,n,t,r,i,s,c,h){const g=[];let m=0,w=0,E=!1;const S=()=>{E&&!g.length&&!m&&n.complete()},N=L=>m<r?F(L):g.push(L),F=L=>{s&&n.next(L),m++;let H=!1;se(t(L,w++)).subscribe(Ft(n,$=>{i?.($),s?N($):n.next($)},()=>{H=!0},void 0,()=>{if(H)try{for(m--;g.length&&m<r;){const $=g.shift();c?Gr(n,c,()=>F($)):F($)}S()}catch($){n.error($)}}))};return e.subscribe(Ft(n,N,()=>{E=!0,S()})),()=>{h?.()}}(r,i,e,t)))}function lo(e=1/0){return pn(Mt,e)}const gn=new vt(e=>e.complete());function X(e){return e[e.length-1]}function Jc(e){return et(X(e))?e.pop():void 0}function Tt(e){return function rl(e){return e&&et(e.schedule)}(X(e))?e.pop():void 0}function eu(e,n=0){return Xe((t,r)=>{t.subscribe(Ft(r,i=>Gr(r,e,()=>r.next(i),n),()=>Gr(r,e,()=>r.complete(),n),i=>Gr(r,e,()=>r.error(i),n)))})}function st(e,n=0){return Xe((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Ss(e,n){if(!e)throw new Error("Iterable cannot be null");return new vt(t=>{Gr(t,n,()=>{const r=e[Symbol.asyncIterator]();Gr(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Jt(e,n){return n?function di(e,n){if(null!=e){if(Go(e))return function at(e,n){return se(e).pipe(st(n),eu(n))}(e,n);if(li(e))return function il(e,n){return new vt(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Fi(e))return function Ze(e,n){return se(e).pipe(st(n),eu(n))}(e,n);if(hr(e))return Ss(e,n);if(er(e))return function ol(e,n){return new vt(t=>{let r;return Gr(t,n,()=>{r=e[Ds](),Gr(t,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(c){return void t.error(c)}s?t.complete():t.next(i)},0,!0)}),()=>et(r?.return)&&r.return()})}(e,n);if(Bi(e))return function ln(e,n){return Ss(ci(e),n)}(e,n)}throw Zc(e)}(e,n):se(e)}function Ee(...e){return Jt(e,Tt(e))}function tu(e={}){const{connector:n=(()=>new Ot),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let c,h,g,m=0,w=!1,E=!1;const S=()=>{h?.unsubscribe(),h=void 0},N=()=>{S(),c=g=void 0,w=E=!1},F=()=>{const L=c;N(),L?.unsubscribe()};return Xe((L,H)=>{m++,!E&&!w&&S();const $=g=g??n();H.add(()=>{m--,0===m&&!E&&!w&&(h=Vi(F,i))}),$.subscribe(H),!c&&m>0&&(c=new Ur({next:V=>$.next(V),error:V=>{E=!0,S(),h=Vi(N,t,V),$.error(V)},complete:()=>{w=!0,S(),h=Vi(N,r),$.complete()}}),se(L).subscribe(c))})(s)}}function Vi(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new Ur({next:()=>{r.unsubscribe(),e()}});return se(n(...t)).subscribe(r)}function Ve(e,n){return Xe((t,r)=>{let i=null,s=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe(Ft(r,g=>{i?.unsubscribe();let m=0;const w=s++;se(e(g,w)).subscribe(i=Ft(r,E=>r.next(n?n(g,E,w,m++):E),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function U(e,n){return e===n}function T(e){for(let n in e)if(e[n]===T)return n;throw Error("Could not find renamed property on target object.")}function _e(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Qe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Qe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Rn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Rf=T({__forward_ref__:T});function Ct(e){return e.__forward_ref__=Ct,e.toString=function(){return Qe(this())},e}function xe(e){return be(e)?e():e}function be(e){return"function"==typeof e&&e.hasOwnProperty(Rf)&&e.__forward_ref__===Ct}function Ts(e){return e&&!!e.\u0275providers}const nu="https://g.co/ng/security#xss";class K extends Error{constructor(n,t){super(function Ui(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Ie(e){return"string"==typeof e?e:null==e?"":String(e)}function De(e,n){throw new K(-201,!1)}function tr(e,n){null==e&&function Re(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function nr(e){return{providers:e.providers||[],imports:e.imports||[]}}function ft(e){return Wo(e,z)||Wo(e,cn)}function Wo(e,n){return e.hasOwnProperty(n)?e[n]:null}function su(e){return e&&(e.hasOwnProperty(ke)||e.hasOwnProperty(sl))?e[ke]:null}const z=T({\u0275prov:T}),ke=T({\u0275inj:T}),cn=T({ngInjectableDef:T}),sl=T({ngInjectorDef:T});var Ue=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ue||{});let al;function On(e){const n=al;return al=e,n}function ll(e,n,t){const r=ft(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ue.Optional?null:void 0!==n?n:void De(Qe(e))}const pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ht={},Ae="__NG_DI_FLAG__",Ps="ngTempTokenPath",Bf=/\n/gm,cu="__source";let fo;function $r(e){const n=fo;return fo=e,n}function fl(e,n=Ue.Default){if(void 0===fo)throw new K(-203,!1);return null===fo?ll(e,void 0,n):fo.get(e,n&Ue.Optional?null:void 0,n)}function ne(e,n=Ue.Default){return(function au(){return al}()||fl)(xe(e),n)}function ue(e,n=Ue.Default){return ne(e,qr(n))}function qr(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function qo(e){const n=[];for(let t=0;t<e.length;t++){const r=xe(e[t]);if(Array.isArray(r)){if(0===r.length)throw new K(900,!1);let i,s=Ue.Default;for(let c=0;c<r.length;c++){const h=r[c],g=Xo(h);"number"==typeof g?-1===g?i=h.token:s|=g:i=h}n.push(ne(i,s))}else n.push(ne(r))}return n}function Yo(e,n){return e[Ae]=n,e.prototype[Ae]=n,e}function Xo(e){return e[Ae]}function rr(e){return{toString:e}.toString()}var Sn=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Sn||{}),ir=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ir||{});const en={},nt=[],ho=T({\u0275cmp:T}),pl=T({\u0275dir:T}),Ls=T({\u0275pipe:T}),gr=T({\u0275mod:T}),Yr=T({\u0275fac:T}),Hi=T({__NG_ELEMENT_ID__:T}),po=T({__NG_ENV_ID__:T});function Je(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}t=i+1}}function go(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],c=t[r++],h=t[r++];e.setAttribute(n,c,h,s)}else{const s=i,c=t[++r];o(s)?e.setProperty(n,s,c):e.setAttribute(n,s,c),r++}}return r}function C(e){return 3===e||4===e||6===e}function o(e){return 64===e.charCodeAt(0)}function a(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||l(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function l(e,n,t,r,i){let s=0,c=e.length;if(-1===n)c=-1;else for(;s<e.length;){const h=e[s++];if("number"==typeof h){if(h===n){c=-1;break}if(h>n){c=s-1;break}}}for(;s<e.length;){const h=e[s];if("number"==typeof h)break;if(h===t){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==c&&(e.splice(c,0,n),s=c+1),e.splice(s++,0,t),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const u="ng-template";function d(e,n,t){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const c=e[r++];if(t&&"class"===s&&-1!==Je(c.toLowerCase(),n,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function f(e){return 4===e.type&&e.value!==u}function p(e,n,t){return n===(4!==e.type||t?e.value:u)}function y(e,n,t){let r=4;const i=e.attrs||[],s=function M(e){for(let n=0;n<e.length;n++)if(C(e[n]))return n;return e.length}(i);let c=!1;for(let h=0;h<n.length;h++){const g=n[h];if("number"!=typeof g){if(!c)if(4&r){if(r=2|1&r,""!==g&&!p(e,g,t)||""===g&&1===n.length){if(v(r))return!1;c=!0}}else{const m=8&r?g:n[++h];if(8&r&&null!==e.attrs){if(!d(e.attrs,m,t)){if(v(r))return!1;c=!0}continue}const E=_(8&r?"class":g,i,f(e),t);if(-1===E){if(v(r))return!1;c=!0;continue}if(""!==m){let S;S=E>s?"":i[E+1].toLowerCase();const N=8&r?S:null;if(N&&-1!==Je(N,m,0)||2&r&&m!==S){if(v(r))return!1;c=!0}}}}else{if(!c&&!v(r)&&!v(g))return!1;if(c&&v(g))continue;c=!1,r=g|1&r}}return v(r)||c}function v(e){return 0==(1&e)}function _(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let s=!1;for(;i<n.length;){const c=n[i];if(c===e)return i;if(3===c||6===c)s=!0;else{if(1===c||2===c){let h=n[++i];for(;"string"==typeof h;)h=n[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=s?1:2}return-1}return function O(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function A(e,n,t=!1){for(let r=0;r<n.length;r++)if(y(e,n[r],t))return!0;return!1}function B(e,n){return e?":not("+n.trim()+")":n}function j(e){let n=e[0],t=1,r=2,i="",s=!1;for(;t<e.length;){let c=e[t];if("string"==typeof c)if(2&r){const h=e[++t];i+="["+c+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!v(c)&&(n+=B(s,i),i=""),r=c,s=s||!v(r);t++}return""!==i&&(n+=B(s,i)),n}function G(e){return rr(()=>{const n=j1(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Sn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ir.Emulated,styles:e.styles||nt,_:null,schemas:e.schemas||null,tView:null,id:""};z1(t);const r=e.dependencies;return t.directiveDefs=uu(r,!1),t.pipeDefs=uu(r,!0),t.id=function Kx(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function Oe(e){return Ye(e)||Wt(e)}function Pn(e){return null!==e}function Gt(e){return rr(()=>({type:e.type,bootstrap:e.bootstrap||nt,declarations:e.declarations||nt,imports:e.imports||nt,exports:e.exports||nt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function wt(e,n){if(null==e)return en;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,n&&(n[i]=s)}return t}function ve(e){return rr(()=>{const n=j1(e);return z1(n),n})}function bt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ye(e){return e[ho]||null}function Wt(e){return e[pl]||null}function Fn(e){return e[Ls]||null}function mr(e,n){const t=e[gr]||null;if(!t&&!0===n)throw new Error(`Type ${Qe(e)} does not have '\u0275mod' property.`);return t}function j1(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||en,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||nt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wt(e.inputs,n),outputs:wt(e.outputs)}}function z1(e){e.features?.forEach(n=>n(e))}function uu(e,n){if(!e)return null;const t=n?Fn:Oe;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(Pn)}const yn=0,de=1,Pe=2,$t=3,Xr=4,gl=5,kn=6,Fs=7,tn=8,ks=9,Zo=10,Le=11,ml=12,G1=13,Bs=14,nn=15,yl=16,Vs=17,gi=18,vl=19,W1=20,yo=21,ji=22,du=23,fu=24,Ke=25,Uf=1,$1=2,mi=7,Us=9,Bn=11;function yr(e){return Array.isArray(e)&&"object"==typeof e[Uf]}function or(e){return Array.isArray(e)&&!0===e[Uf]}function Hf(e){return 0!=(4&e.flags)}function Qo(e){return e.componentOffset>-1}function pu(e){return 1==(1&e.flags)}function Zr(e){return!!e.template}function jf(e){return 0!=(512&e[Pe])}function Ko(e,n){return e.hasOwnProperty(Yr)?e[Yr]:null}let ib=pt.WeakRef??class rb{constructor(n){this.ref=n}deref(){return this.ref}},sb=0,yi=null,gu=!1;function xn(e){const n=yi;return yi=e,n}class Q1{constructor(){this.id=sb++,this.ref=function ob(e){return new ib(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,t]of this.producers){const r=t.producerNode.deref();if(null!=r&&t.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=gu;gu=!0;try{for(const[t,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),i?.producers.delete(this.id))}}finally{gu=n}}producerAccessed(){if(gu)throw new Error("");if(null===yi)return;let n=yi.producers.get(this.id);void 0===n?(n={consumerNode:yi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:yi.trackingVersion},yi.producers.set(this.id,n),this.consumers.set(yi.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=yi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==yi?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let K1=null;const eg=()=>{};class ub extends Q1{constructor(n,t,r){super(),this.watch=n,this.schedule=t,this.dirty=!1,this.cleanupFn=eg,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=xn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=eg,this.watch(this.registerOnCleanup)}finally{xn(n)}}cleanup(){this.cleanupFn()}}class db{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Nr(){return tg}function tg(e){return e.type.prototype.ngOnChanges&&(e.setInput=hb),fb}function fb(){const e=rg(this),n=e?.current;if(n){const t=e.previous;if(t===en)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function hb(e,n,t,r){const i=this.declaredInputs[t],s=rg(e)||function pb(e,n){return e[ng]=n}(e,{previous:en,current:null}),c=s.current||(s.current={}),h=s.previous,g=h[i];c[i]=new db(g&&g.currentValue,n,h===en),e[r]=n}Nr.ngInherit=!0;const ng="__ngSimpleChanges__";function rg(e){return e[ng]||null}const vi=function(e,n,t){},ig="svg";function kt(e){for(;Array.isArray(e);)e=e[yn];return e}function vu(e,n){return kt(n[e])}function sr(e,n){return kt(n[e.index])}function sg(e,n){return e.data[n]}function Hs(e,n){return e[n]}function vr(e,n){const t=n[e];return yr(t)?t:t[yn]}function vo(e,n){return null==n?null:e[n]}function ag(e){e[Vs]=0}function _b(e){1024&e[Pe]||(e[Pe]|=1024,cg(e,1))}function lg(e){1024&e[Pe]&&(e[Pe]&=-1025,cg(e,-1))}function cg(e,n){let t=e[$t];if(null===t)return;t[gl]+=n;let r=t;for(t=t[$t];null!==t&&(1===n&&1===r[gl]||-1===n&&0===r[gl]);)t[gl]+=n,r=t,t=t[$t]}const Me={lFrame:wg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fg(){return Me.bindingsEnabled}function Z(){return Me.lFrame.lView}function rt(){return Me.lFrame.tView}function We(e){return Me.lFrame.contextLView=e,e[tn]}function $e(e){return Me.lFrame.contextLView=null,e}function Tn(){let e=hg();for(;null!==e&&64===e.type;)e=e.parent;return e}function hg(){return Me.lFrame.currentTNode}function Ci(e,n){const t=Me.lFrame;t.currentTNode=e,t.isParent=n}function Yf(){return Me.lFrame.isParent}function $n(){const e=Me.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function zs(){return Me.lFrame.bindingIndex++}function Gi(e){const n=Me.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Ob(e,n){const t=Me.lFrame;t.bindingIndex=t.bindingRootIndex=e,Zf(n)}function Zf(e){Me.lFrame.currentDirectiveIndex=e}function Kf(e){Me.lFrame.currentQueryIndex=e}function Lb(e){const n=e[de];return 2===n.type?n.declTNode:1===n.type?e[kn]:null}function vg(e,n,t){if(t&Ue.SkipSelf){let i=n,s=e;for(;!(i=i.parent,null!==i||t&Ue.Host||(i=Lb(s),null===i||(s=s[Bs],10&i.type))););if(null===i)return!1;n=i,e=s}const r=Me.lFrame=Cg();return r.currentTNode=n,r.lView=e,!0}function Jf(e){const n=Cg(),t=e[de];Me.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Cg(){const e=Me.lFrame,n=null===e?null:e.child;return null===n?wg(e):n}function wg(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function _g(){const e=Me.lFrame;return Me.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Eg=_g;function eh(){const e=_g();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qn(){return Me.lFrame.selectedIndex}function Jo(e){Me.lFrame.selectedIndex=e}function qt(){const e=Me.lFrame;return sg(e.tView,e.selectedIndex)}function Qr(){Me.lFrame.currentNamespace=ig}function Co(){!function Vb(){Me.lFrame.currentNamespace=null}()}let bg=!0;function Cu(){return bg}function wo(e){bg=e}function wu(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:h,ngAfterViewInit:g,ngAfterViewChecked:m,ngOnDestroy:w}=s;c&&(e.contentHooks??=[]).push(-t,c),h&&((e.contentHooks??=[]).push(t,h),(e.contentCheckHooks??=[]).push(t,h)),g&&(e.viewHooks??=[]).push(-t,g),m&&((e.viewHooks??=[]).push(t,m),(e.viewCheckHooks??=[]).push(t,m)),null!=w&&(e.destroyHooks??=[]).push(t,w)}}function _u(e,n,t){Ag(e,n,3,t)}function Eu(e,n,t,r){(3&e[Pe])===t&&Ag(e,n,t,r)}function th(e,n){let t=e[Pe];(3&t)===n&&(t&=8191,t+=1,e[Pe]=t)}function Ag(e,n,t,r){const s=r??-1,c=n.length-1;let h=0;for(let g=void 0!==r?65535&e[Vs]:0;g<c;g++)if("number"==typeof n[g+1]){if(h=n[g],null!=r&&h>=r)break}else n[g]<0&&(e[Vs]+=65536),(h<s||-1==s)&&(Hb(e,t,n,g),e[Vs]=(4294901760&e[Vs])+g+2),g++}function Dg(e,n){vi(4,e,n);const t=xn(null);try{n.call(e)}finally{xn(t),vi(5,e,n)}}function Hb(e,n,t,r){const i=t[r]<0,s=t[r+1],h=e[i?-t[r]:t[r]];i?e[Pe]>>13<e[Vs]>>16&&(3&e[Pe])===n&&(e[Pe]+=8192,Dg(h,s)):Dg(h,s)}const Gs=-1;class _l{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Ig(e){return e!==Gs}function xu(e){return 32767&e}function bu(e,n){let t=function Wb(e){return e>>16}(e),r=n;for(;t>0;)r=r[Bs],t--;return r}let rh=!0;function Au(e){const n=rh;return rh=e,n}const Sg=255,Tg=5;let $b=0;const wi={};function Du(e,n){const t=Mg(e,n);if(-1!==t)return t;const r=n[de];r.firstCreatePass&&(e.injectorIndex=n.length,ih(r.data,e),ih(n,null),ih(r.blueprint,null));const i=oh(e,n),s=e.injectorIndex;if(Ig(i)){const c=xu(i),h=bu(i,n),g=h[de].data;for(let m=0;m<8;m++)n[s+m]=h[c+m]|g[c+m]}return n[s+8]=i,s}function ih(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Mg(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function oh(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=kg(i),null===r)return Gs;if(t++,i=i[Bs],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Gs}function sh(e,n,t){!function qb(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Hi)&&(r=t[Hi]),null==r&&(r=t[Hi]=$b++);const i=r&Sg;n.data[e+(i>>Tg)]|=1<<i}(e,n,t)}function Ng(e,n,t){if(t&Ue.Optional||void 0!==e)return e;De()}function Rg(e,n,t,r){if(t&Ue.Optional&&void 0===r&&(r=null),!(t&(Ue.Self|Ue.Host))){const i=e[ks],s=On(void 0);try{return i?i.get(n,r,t&Ue.Optional):ll(n,r,t&Ue.Optional)}finally{On(s)}}return Ng(r,0,t)}function Og(e,n,t,r=Ue.Default,i){if(null!==e){if(2048&n[Pe]&&!(r&Ue.Self)){const c=function Kb(e,n,t,r,i){let s=e,c=n;for(;null!==s&&null!==c&&2048&c[Pe]&&!(512&c[Pe]);){const h=Pg(s,c,t,r|Ue.Self,wi);if(h!==wi)return h;let g=s.parent;if(!g){const m=c[W1];if(m){const w=m.get(t,wi,r);if(w!==wi)return w}g=kg(c),c=c[Bs]}s=g}return i}(e,n,t,r,wi);if(c!==wi)return c}const s=Pg(e,n,t,r,wi);if(s!==wi)return s}return Rg(n,t,r,i)}function Pg(e,n,t,r,i){const s=function Zb(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Hi)?e[Hi]:void 0;return"number"==typeof n?n>=0?n&Sg:Qb:n}(t);if("function"==typeof s){if(!vg(n,e,r))return r&Ue.Host?Ng(i,0,r):Rg(n,t,r,i);try{const c=s(r);if(null!=c||r&Ue.Optional)return c;De()}finally{Eg()}}else if("number"==typeof s){let c=null,h=Mg(e,n),g=Gs,m=r&Ue.Host?n[nn][kn]:null;for((-1===h||r&Ue.SkipSelf)&&(g=-1===h?oh(e,n):n[h+8],g!==Gs&&Fg(r,!1)?(c=n[de],h=xu(g),n=bu(g,n)):h=-1);-1!==h;){const w=n[de];if(Lg(s,h,w.data)){const E=Xb(h,n,t,c,r,m);if(E!==wi)return E}g=n[h+8],g!==Gs&&Fg(r,n[de].data[h+8]===m)&&Lg(s,h,n)?(c=w,h=xu(g),n=bu(g,n)):h=-1}}return i}function Xb(e,n,t,r,i,s){const c=n[de],h=c.data[e+8],w=function Iu(e,n,t,r,i){const s=e.providerIndexes,c=n.data,h=1048575&s,g=e.directiveStart,w=s>>20,S=i?h+w:e.directiveEnd;for(let N=r?h:h+w;N<S;N++){const F=c[N];if(N<g&&t===F||N>=g&&F.type===t)return N}if(i){const N=c[g];if(N&&Zr(N)&&N.type===t)return g}return null}(h,c,t,null==r?Qo(h)&&rh:r!=c&&0!=(3&h.type),i&Ue.Host&&s===h);return null!==w?es(n,c,w,h):wi}function es(e,n,t,r){let i=e[t];const s=n.data;if(function jb(e){return e instanceof _l}(i)){const c=i;c.resolving&&function Pf(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new K(-200,`Circular dependency in DI detected for ${e}${t}`)}(function dt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ie(e)}(s[t]));const h=Au(c.canSeeViewProviders);c.resolving=!0;const g=c.injectImpl?On(c.injectImpl):null;vg(e,r,Ue.Default);try{i=e[t]=c.factory(void 0,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&function Ub(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const c=tg(n);(t.preOrderHooks??=[]).push(e,c),(t.preOrderCheckHooks??=[]).push(e,c)}i&&(t.preOrderHooks??=[]).push(0-e,i),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],n)}finally{null!==g&&On(g),Au(h),c.resolving=!1,Eg()}}return i}function Lg(e,n,t){return!!(t[n+(e>>Tg)]&1<<e)}function Fg(e,n){return!(e&Ue.Self||e&Ue.Host&&n)}class Ws{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Og(this._tNode,this._lView,n,qr(r),t)}}function Qb(){return new Ws(Tn(),Z())}function Mn(e){return rr(()=>{const n=e.prototype.constructor,t=n[Yr]||ah(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[Yr]||ah(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ah(e){return be(e)?()=>{const n=ah(xe(e));return n&&n()}:Ko(e)}function kg(e){const n=e[de],t=n.type;return 2===t?n.declTNode:1===t?e[kn]:null}const qs="__parameters__";function Xs(e,n,t){return rr(()=>{const r=function lh(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const c=new i(...s);return h.annotation=c,h;function h(g,m,w){const E=g.hasOwnProperty(qs)?g[qs]:Object.defineProperty(g,qs,{value:[]})[qs];for(;E.length<=w;)E.push(null);return(E[w]=E[w]||[]).push(c),g}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function xl(e,n){e.forEach(t=>Array.isArray(t)?xl(t,n):n(t))}function Vg(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Tu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Cr(e,n,t){let r=Qs(e,n);return r>=0?e[1|r]=t:(r=~r,function oA(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function ch(e,n){const t=Qs(e,n);if(t>=0)return e[1|t]}function Qs(e,n){return function Ug(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const s=r+(i-r>>1),c=e[s<<t];if(n===c)return s<<t;c>n?i=s:r=s+1}return~(i<<t)}(e,n,1)}const Nu=Yo(Xs("Optional"),8),Ru=Yo(Xs("SkipSelf"),4);function ku(e){return 128==(128&e.flags)}var _o=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(_o||{});const ph=new Map;let TA=0;const mh="__ngContext__";function Vn(e,n){yr(n)?(e[mh]=n[vl],function NA(e){ph.set(e[vl],e)}(n)):e[mh]=n}let yh;function vh(e,n){return yh(e,n)}function Il(e){const n=e[$t];return or(n)?n[$t]:n}function sm(e){return lm(e[ml])}function am(e){return lm(e[Xr])}function lm(e){for(;null!==e&&!or(e);)e=e[Xr];return e}function ea(e,n,t,r,i){if(null!=r){let s,c=!1;or(r)?s=r:yr(r)&&(c=!0,r=r[yn]);const h=kt(r);0===e&&null!==t?null==i?hm(n,t,h):ts(n,t,h,i||null,!0):1===e&&null!==t?ts(n,t,h,i||null,!0):2===e?function zu(e,n,t){const r=Hu(e,n);r&&function ZA(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,h,c):3===e&&n.destroyNode(h),null!=s&&function JA(e,n,t,r,i){const s=t[mi];s!==kt(t)&&ea(n,e,r,s,i);for(let h=Bn;h<t.length;h++){const g=t[h];Tl(g[de],g,e,n,r,s)}}(n,e,s,t,i)}}function Uu(e,n,t){return e.createElement(n,t)}function um(e,n){const t=e[Us],r=t.indexOf(n);lg(n),t.splice(r,1)}function wh(e,n){if(e.length<=Bn)return;const t=Bn+n,r=e[t];if(r){const i=r[yl];null!==i&&i!==e&&um(i,r),n>0&&(e[t-1][Xr]=r[Xr]);const s=Tu(e,Bn+n);!function jA(e,n){Tl(e,n,n[Le],2,null,null),n[yn]=null,n[kn]=null}(r[de],r);const c=s[gi];null!==c&&c.detachView(s[de]),r[$t]=null,r[Xr]=null,r[Pe]&=-129}return r}function dm(e,n){if(!(256&n[Pe])){const t=n[Le];n[du]?.destroy(),n[fu]?.destroy(),t.destroyNode&&Tl(e,n,t,3,null,null),function WA(e){let n=e[ml];if(!n)return _h(e[de],e);for(;n;){let t=null;if(yr(n))t=n[ml];else{const r=n[Bn];r&&(t=r)}if(!t){for(;n&&!n[Xr]&&n!==e;)yr(n)&&_h(n[de],n),n=n[$t];null===n&&(n=e),yr(n)&&_h(n[de],n),t=n&&n[Xr]}n=t}}(n)}}function _h(e,n){if(!(256&n[Pe])){n[Pe]&=-129,n[Pe]|=256,function XA(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof _l)){const s=t[r+1];if(Array.isArray(s))for(let c=0;c<s.length;c+=2){const h=i[s[c]],g=s[c+1];vi(4,h,g);try{g.call(h)}finally{vi(5,h,g)}}else{vi(4,i,s);try{s.call(i)}finally{vi(5,i,s)}}}}}(e,n),function YA(e,n){const t=e.cleanup,r=n[Fs];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(n[Fs]=null);const i=n[yo];if(null!==i){n[yo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,n),1===n[de].type&&n[Le].destroy();const t=n[yl];if(null!==t&&or(n[$t])){t!==n[$t]&&um(t,n);const r=n[gi];null!==r&&r.detachView(e)}!function RA(e){ph.delete(e[vl])}(n)}}function Eh(e,n,t){return function fm(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[yn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===ir.None||s===ir.Emulated)return null}return sr(r,t)}}(e,n.parent,t)}function ts(e,n,t,r,i){e.insertBefore(n,t,r,i)}function hm(e,n,t){e.appendChild(n,t)}function pm(e,n,t,r,i){null!==r?ts(e,n,t,r,i):hm(e,n,t)}function Hu(e,n){return e.parentNode(n)}let xh,Ih,Wu,ym=function mm(e,n,t){return 40&e.type?sr(e,t):null};function ju(e,n,t,r){const i=Eh(e,r,n),s=n[Le],h=function gm(e,n,t){return ym(e,n,t)}(r.parent||n[kn],r,n);if(null!=i)if(Array.isArray(t))for(let g=0;g<t.length;g++)pm(s,i,t[g],h,!1);else pm(s,i,t,h,!1);void 0!==xh&&xh(s,r,n,t,i)}function Sl(e,n){if(null!==n){const t=n.type;if(3&t)return sr(n,e);if(4&t)return bh(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Sl(e,r);{const i=e[n.index];return or(i)?bh(-1,i):kt(i)}}if(32&t)return vh(n,e)()||kt(e[n.index]);{const r=Cm(e,n);return null!==r?Array.isArray(r)?r[0]:Sl(Il(e[nn]),r):Sl(e,n.next)}}return null}function Cm(e,n){return null!==n?e[nn][kn].projection[n.projection]:null}function bh(e,n){const t=Bn+e+1;if(t<n.length){const r=n[t],i=r[de].firstChild;if(null!==i)return Sl(r,i)}return n[mi]}function Ah(e,n,t,r,i,s,c){for(;null!=t;){const h=r[t.index],g=t.type;if(c&&0===n&&(h&&Vn(kt(h),r),t.flags|=2),32!=(32&t.flags))if(8&g)Ah(e,n,t.child,r,i,s,!1),ea(n,e,i,h,s);else if(32&g){const m=vh(t,r);let w;for(;w=m();)ea(n,e,i,w,s);ea(n,e,i,h,s)}else 16&g?_m(e,n,r,t,i,s):ea(n,e,i,h,s);t=c?t.projectionNext:t.next}}function Tl(e,n,t,r,i,s){Ah(t,r,e.firstChild,n,i,s,!1)}function _m(e,n,t,r,i,s){const c=t[nn],g=c[kn].projection[r.projection];if(Array.isArray(g))for(let m=0;m<g.length;m++)ea(n,e,i,g[m],s);else{let m=g;const w=c[$t];ku(r)&&(m.flags|=128),Ah(e,n,m,w,i,s,!0)}}function Em(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function xm(e,n,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&go(e,n,r),null!==i&&Em(e,n,i),null!==s&&function tD(e,n,t){e.setAttribute(n,"style",t)}(e,n,s)}function Dm(e){return function Sh(){if(void 0===Wu&&(Wu=null,pt.trustedTypes))try{Wu=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Wu}()?.createScriptURL(e)||e}class Im{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nu})`}}function Eo(e){return e instanceof Im?e.changingThisBreaksApplicationSecurity:e}function Nl(e,n){const t=function dD(e){return e instanceof Im&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${nu})`)}return t===n}const gD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var na=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(na||{});function Un(e){const n=Ol();return n?n.sanitize(na.URL,e)||"":Nl(e,"URL")?Eo(e):function Th(e){return(e=String(e)).match(gD)?e:"unsafe:"+e}(Ie(e))}function Pm(e){const n=Ol();if(n)return Dm(n.sanitize(na.RESOURCE_URL,e)||"");if(Nl(e,"ResourceURL"))return Dm(Eo(e));throw new K(904,!1)}function Ol(){const e=Z();return e&&e[Zo].sanitizer}class pe{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Pl=new pe("ENVIRONMENT_INITIALIZER"),Fm=new pe("INJECTOR",-1),km=new pe("INJECTOR_DEF_TYPES");class Bm{get(n,t=ht){if(t===ht){const r=new Error(`NullInjectorError: No provider for ${Qe(n)}!`);throw r.name="NullInjectorError",r}return t}}function SD(...e){return{\u0275providers:Vm(0,e),\u0275fromNgModule:!0}}function Vm(e,...n){const t=[],r=new Set;let i;return xl(n,s=>{const c=s;Ph(c,t,[],r)&&(i||=[],i.push(c))}),void 0!==i&&Um(i,t),t}function Um(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];Lh(i,s=>{n.push(s)})}}function Ph(e,n,t,r){if(!(e=xe(e)))return!1;let i=null,s=su(e);const c=!s&&Ye(e);if(s||c){if(c&&!c.standalone)return!1;i=e}else{const g=e.ngModule;if(s=su(g),!s)return!1;i=g}const h=r.has(i);if(c){if(h)return!1;if(r.add(i),c.dependencies){const g="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const m of g)Ph(m,n,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!h){let m;r.add(i);try{xl(s.imports,w=>{Ph(w,n,t,r)&&(m||=[],m.push(w))})}finally{}void 0!==m&&Um(m,n)}if(!h){const m=Ko(i)||(()=>new i);n.push({provide:i,useFactory:m,deps:nt},{provide:km,useValue:i,multi:!0},{provide:Pl,useValue:()=>ne(i),multi:!0})}const g=s.providers;null==g||h||Lh(g,w=>{n.push(w)})}}return i!==e&&void 0!==e.providers}function Lh(e,n){for(let t of e)Ts(t)&&(t=t.\u0275providers),Array.isArray(t)?Lh(t,n):n(t)}const TD=T({provide:String,useValue:T});function Fh(e){return null!==e&&"object"==typeof e&&TD in e}function ns(e){return"function"==typeof e}const kh=new pe("Set Injector scope."),qu={},ND={};let Bh;function Yu(){return void 0===Bh&&(Bh=new Bm),Bh}class _i{}class Vh extends _i{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hh(n,c=>this.processProvider(c)),this.records.set(Fm,ra(void 0,this)),i.has("environment")&&this.records.set(_i,ra(void 0,this));const s=this.records.get(kh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(km.multi,nt,Ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=$r(this),r=On(void 0);try{return n()}finally{$r(t),On(r)}}get(n,t=ht,r=Ue.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(po))return n[po](this);r=qr(r);const i=$r(this),s=On(void 0);try{if(!(r&Ue.SkipSelf)){let h=this.records.get(n);if(void 0===h){const g=function FD(e){return"function"==typeof e||"object"==typeof e&&e instanceof pe}(n)&&ft(n);h=g&&this.injectableDefInScope(g)?ra(Uh(n),qu):null,this.records.set(n,h)}if(null!=h)return this.hydrate(n,h)}return(r&Ue.Self?Yu():this.parent).get(n,t=r&Ue.Optional&&t===ht?null:t)}catch(c){if("NullInjectorError"===c.name){if((c[Ps]=c[Ps]||[]).unshift(Qe(n)),i)throw c;return function Vf(e,n,t,r){const i=e[Ps];throw n[cu]&&i.unshift(n[cu]),e.message=function pi(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Qe(n);if(Array.isArray(n))i=n.map(Qe).join(" -> ");else if("object"==typeof n){let s=[];for(let c in n)if(n.hasOwnProperty(c)){let h=n[c];s.push(c+":"+("string"==typeof h?JSON.stringify(h):Qe(h)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(Bf,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Ps]=null,e}(c,n,"R3InjectorError",this.source)}throw c}finally{On(s),$r(i)}}resolveInjectorInitializers(){const n=$r(this),t=On(void 0);try{const r=this.get(Pl.multi,nt,Ue.Self);for(const i of r)i()}finally{$r(n),On(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Qe(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(n){let t=ns(n=xe(n))?n:xe(n&&n.provide);const r=function OD(e){return Fh(e)?ra(void 0,e.useValue):ra(zm(e),qu)}(n);if(ns(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ra(void 0,qu,!0),i.factory=()=>qo(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===qu&&(t.value=ND,t.value=t.factory()),"object"==typeof t.value&&t.value&&function LD(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=xe(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Uh(e){const n=ft(e),t=null!==n?n.factory:Ko(e);if(null!==t)return t;if(e instanceof pe)throw new K(204,!1);if(e instanceof Function)return function RD(e){const n=e.length;if(n>0)throw function bl(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new K(204,!1);const t=function hi(e){return e&&(e[z]||e[cn])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new K(204,!1)}function zm(e,n,t){let r;if(ns(e)){const i=xe(e);return Ko(i)||Uh(i)}if(Fh(e))r=()=>xe(e.useValue);else if(function jm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...qo(e.deps||[]));else if(function Hm(e){return!(!e||!e.useExisting)}(e))r=()=>ne(xe(e.useExisting));else{const i=xe(e&&(e.useClass||e.provide));if(!function PD(e){return!!e.deps}(e))return Ko(i)||Uh(i);r=()=>new i(...qo(e.deps))}return r}function ra(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Hh(e,n){for(const t of e)Array.isArray(t)?Hh(t,n):t&&Ts(t)?Hh(t.\u0275providers,n):n(t)}const Xu=new pe("AppId",{providedIn:"root",factory:()=>kD}),kD="ng",Gm=new pe("Platform Initializer"),rs=new pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wm=new pe("CSP nonce",{providedIn:"root",factory:()=>function Ml(){if(void 0!==Ih)return Ih;if(typeof document<"u")return document;throw new K(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qm=(e,n)=>null;function Ym(e,n){return qm(e,n)}class $D{}class Qm{}class YD{resolveComponentFactory(n){throw function qD(e){const n=Error(`No component factory found for ${Qe(e)}.`);return n.ngComponent=e,n}(n)}}let ed=(()=>{class e{}return e.NULL=new YD,e})();function XD(){return oa(Tn(),Z())}function oa(e,n){return new wr(sr(e,n))}let wr=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=XD,e})();class Jm{}let $i=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function QD(){const e=Z(),t=vr(Tn().index,e);return(yr(t)?t:e)[Le]}(),e})(),KD=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>null}),e})();class kl{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const JD=new kl("16.1.7"),Kh={};function Bl(e){for(;e;){e[Pe]|=64;const n=Il(e);if(jf(e)&&!n)return e;e=n}return null}function Jh(e){return e.ngOriginalError}class is{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Jh(n);for(;t&&Jh(t);)t=Jh(t);return t||null}}const ny=new pe("",{providedIn:"root",factory:()=>!1});function qi(e){return e instanceof Function?e():e}class ay extends Q1{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Bl(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,t,r){const i=xn(this);this.trackingVersion++;try{n(t,r)}finally{xn(i)}}destroy(){this.trackingVersion++}}let nd=null;function ly(){return nd??=new ay,nd}function cy(e,n){return e[n]??ly()}function uy(e,n){const t=ly();t.hasReadASignal&&(e[n]=nd,t.lView=e,nd=new ay)}const Fe={};function R(e){dy(rt(),Z(),qn()+e,!1)}function dy(e,n,t,r){if(!r)if(3==(3&n[Pe])){const s=e.preOrderCheckHooks;null!==s&&_u(n,s,t)}else{const s=e.preOrderHooks;null!==s&&Eu(n,s,0,t)}Jo(t)}function gy(e,n=null,t=null,r){const i=my(e,n,t,r);return i.resolveInjectorInitializers(),i}function my(e,n=null,t=null,r,i=new Set){const s=[t||nt,SD(e)];return r=r||("object"==typeof e?void 0:Qe(e)),new Vh(s,n||Yu(),r||null,i)}let Ei=(()=>{class e{static create(t,r){if(Array.isArray(t))return gy({name:""},r,t,"");{const i=t.name??"";return gy({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=ht,e.NULL=new Bm,e.\u0275prov=ce({token:e,providedIn:"any",factory:()=>ne(Fm)}),e.__NG_ELEMENT_ID__=-1,e})();function W(e,n=Ue.Default){const t=Z();return null===t?ne(e,n):Og(Tn(),t,xe(e),n)}function rd(e,n,t,r,i,s,c,h,g,m,w){const E=n.blueprint.slice();return E[yn]=i,E[Pe]=140|r,(null!==m||e&&2048&e[Pe])&&(E[Pe]|=2048),ag(E),E[$t]=E[Bs]=e,E[tn]=t,E[Zo]=c||e&&e[Zo],E[Le]=h||e&&e[Le],E[ks]=g||e&&e[ks]||null,E[kn]=s,E[vl]=function MA(){return TA++}(),E[ji]=w,E[W1]=m,E[nn]=2==n.type?e[nn]:E,E}function aa(e,n,t,r,i){let s=e.data[n];if(null===s)s=function ep(e,n,t,r,i){const s=hg(),c=Yf(),g=e.data[n]=function wI(e,n,t,r,i,s){let c=n?n.injectorIndex:-1,h=0;return function js(){return null!==Me.skipHydrationRootTNode}()&&(h|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?s:s&&s.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=g),null!==s&&(c?null==s.child&&null!==g.parent&&(s.child=g):null===s.next&&(s.next=g,g.prev=s)),g}(e,n,t,r,i),function Rb(){return Me.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const c=function wl(){const e=Me.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===c?-1:c.injectorIndex}return Ci(s,!0),s}function Vl(e,n,t,r){if(0===t)return-1;const i=n.length;for(let s=0;s<t;s++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function vy(e,n,t,r,i){const s=cy(n,du),c=qn(),h=2&r;try{if(Jo(-1),h&&n.length>Ke&&dy(e,n,Ke,!1),vi(h?2:0,i),h)s.runInContext(t,r,i);else{const m=xn(null);try{t(r,i)}finally{xn(m)}}}finally{h&&null===n[du]&&uy(n,du),Jo(c),vi(h?3:1,i)}}function tp(e,n,t){if(Hf(n)){const r=xn(null);try{const s=n.directiveEnd;for(let c=n.directiveStart;c<s;c++){const h=e.data[c];h.contentQueries&&h.contentQueries(1,t[c],c)}}finally{xn(r)}}}function np(e,n,t){fg()&&(function II(e,n,t,r){const i=t.directiveStart,s=t.directiveEnd;Qo(t)&&function PI(e,n,t){const r=sr(n,e),i=Cy(t);let c=16;t.signals?c=4096:t.onPush&&(c=64);const h=id(e,rd(e,i,null,c,r,n,null,e[Zo].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=h}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Du(t,n),Vn(r,n);const c=t.initialInputs;for(let h=i;h<s;h++){const g=e.data[h],m=es(n,e,h,t);Vn(m,n),null!==c&&LI(0,h-i,m,g,0,c),Zr(g)&&(vr(t.index,n)[tn]=es(n,e,h,t))}}(e,n,t,sr(t,n)),64==(64&t.flags)&&by(e,n,t))}function rp(e,n,t=sr){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const c=r[s+1],h=-1===c?t(n,e):e[c];e[i++]=h}}}function Cy(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=ip(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function ip(e,n,t,r,i,s,c,h,g,m,w){const E=Ke+r,S=E+i,N=function pI(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:Fe);return t}(E,S),F="function"==typeof m?m():m;return N[de]={type:e,blueprint:N,template:t,queries:null,viewQuery:h,declTNode:n,data:N.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:g,consts:F,incompleteFirstPass:!1,ssrId:w}}let wy=e=>null;function _y(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const s=e[i];null===r?Ey(t,n,i,s):r.hasOwnProperty(i)&&Ey(t,n,r[i],s)}return t}function Ey(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function _r(e,n,t,r,i,s,c,h){const g=sr(n,t);let w,m=n.inputs;!h&&null!=m&&(w=m[r])?(cp(e,t,w,r,i),Qo(n)&&function xI(e,n){const t=vr(n,e);16&t[Pe]||(t[Pe]|=64)}(t,n.index)):3&n.type&&(r=function EI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=c?c(i,n.value||"",r):i,s.setProperty(g,r,i))}function op(e,n,t,r){if(fg()){const i=null===r?null:{"":-1},s=function TI(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const c=t[s];if(A(n,c.selectors,!1))if(r||(r=[]),Zr(c))if(null!==c.findHostDirectiveDefs){const h=[];i=i||new Map,c.findHostDirectiveDefs(c,h,i),r.unshift(...h,c),sp(e,n,h.length)}else r.unshift(c),sp(e,n,0);else i=i||new Map,c.findHostDirectiveDefs?.(c,r,i),r.push(c)}return null===r?null:[r,i]}(e,t);let c,h;null===s?c=h=null:[c,h]=s,null!==c&&xy(e,n,t,c,i,h),i&&function MI(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const s=t[n[i+1]];if(null==s)throw new K(-301,!1);r.push(n[i],s)}}}(t,r,i)}t.mergedAttrs=a(t.mergedAttrs,t.attrs)}function xy(e,n,t,r,i,s){for(let m=0;m<r.length;m++)sh(Du(t,n),e,r[m].type);!function RI(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let m=0;m<r.length;m++){const w=r[m];w.providersResolver&&w.providersResolver(w)}let c=!1,h=!1,g=Vl(e,n,r.length,null);for(let m=0;m<r.length;m++){const w=r[m];t.mergedAttrs=a(t.mergedAttrs,w.hostAttrs),OI(e,t,n,g,w),NI(g,w,i),null!==w.contentQueries&&(t.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(t.flags|=64);const E=w.type.prototype;!c&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!h&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),h=!0),g++}!function _I(e,n,t){const i=n.directiveEnd,s=e.data,c=n.attrs,h=[];let g=null,m=null;for(let w=n.directiveStart;w<i;w++){const E=s[w],S=t?t.get(E):null,F=S?S.outputs:null;g=_y(E.inputs,w,g,S?S.inputs:null),m=_y(E.outputs,w,m,F);const L=null===g||null===c||f(n)?null:FI(g,w,c);h.push(L)}null!==g&&(g.hasOwnProperty("class")&&(n.flags|=8),g.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=h,n.inputs=g,n.outputs=m}(e,t,s)}function by(e,n,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,c=function Pb(){return Me.lFrame.currentDirectiveIndex}();try{Jo(s);for(let h=r;h<i;h++){const g=e.data[h],m=n[h];Zf(h),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&SI(g,m)}}finally{Jo(-1),Zf(c)}}function SI(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function sp(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function NI(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Zr(n)&&(t[""]=e)}}function OI(e,n,t,r,i){e.data[r]=i;const s=i.factory||(i.factory=Ko(i.type)),c=new _l(s,Zr(i),W);e.blueprint[r]=c,t[r]=c,function AI(e,n,t,r,i){const s=i.hostBindings;if(s){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const h=~n.index;(function DI(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(c)!=h&&c.push(h),c.push(t,r,s)}}(e,n,r,Vl(e,t,i.hostVars,Fe),i)}function xi(e,n,t,r,i,s){const c=sr(e,n);!function ap(e,n,t,r,i,s,c){if(null==s)e.removeAttribute(n,i,t);else{const h=null==c?Ie(s):c(s,r||"",i);e.setAttribute(n,i,h,t)}}(n[Le],c,s,e.value,t,r,i)}function LI(e,n,t,r,i,s){const c=s[n];if(null!==c)for(let h=0;h<c.length;)Ay(r,t,c[h++],c[h++],c[h++])}function Ay(e,n,t,r,i){const s=xn(null);try{const c=e.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(i=c[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{xn(s)}}function FI(e,n,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const c=e[s];for(let h=0;h<c.length;h+=2)if(c[h]===n){r.push(s,c[h+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Dy(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function Iy(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const c=e.data[s];Kf(t[r]),c.contentQueries(2,n[s],s)}}}function id(e,n){return e[ml]?e[G1][Xr]=n:e[ml]=n,e[G1]=n,n}function lp(e,n,t){Kf(0);const r=xn(null);try{n(e,t)}finally{xn(r)}}function Ny(e,n){const t=e[ks],r=t?t.get(is,null):null;r&&r.handleError(n)}function cp(e,n,t,r,i){for(let s=0;s<t.length;){const c=t[s++],h=t[s++];Ay(e.data[c],n[c],r,h,i)}}function Yi(e,n,t){const r=vu(n,e);!function cm(e,n,t){e.setValue(n,t)}(e[Le],r,t)}function kI(e,n){const t=vr(n,e),r=t[de];!function BI(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[yn];null!==i&&null===t[ji]&&(t[ji]=Ym(i,t[ks])),up(r,t,t[tn])}function up(e,n,t){Jf(n);try{const r=e.viewQuery;null!==r&&lp(1,r,t);const i=e.template;null!==i&&vy(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Iy(e,n),e.staticViewQueries&&lp(2,e.viewQuery,t);const s=e.components;null!==s&&function VI(e,n){for(let t=0;t<n.length;t++)kI(e,n[t])}(n,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[Pe]&=-5,eh()}}let Ry=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,c=new ub(t,m=>{this.all.has(m)&&this.queue.set(m,s)},i);let h;this.all.add(c),c.notify();const g=()=>{c.cleanup(),h?.(),this.all.delete(c),this.queue.delete(c)};return h=r?.onDestroy(g),{destroy:g}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new e}),e})();function od(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,s=0;if(null!==n)for(let c=0;c<n.length;c++){const h=n[c];"number"==typeof h?s=h:1==s?i=Rn(i,h):2==s&&(r=Rn(r,h+": "+n[++c]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Ul(e,n,t,r,i=!1){for(;null!==t;){const s=n[t.index];if(null!==s&&r.push(kt(s)),or(s)){for(let h=Bn;h<s.length;h++){const g=s[h],m=g[de].firstChild;null!==m&&Ul(g[de],g,m,r)}s[mi]!==s[yn]&&r.push(s[mi])}const c=t.type;if(8&c)Ul(e,n,t.child,r);else if(32&c){const h=vh(t,n);let g;for(;g=h();)r.push(g)}else if(16&c){const h=Cm(n,t);if(Array.isArray(h))r.push(...h);else{const g=Il(n[nn]);Ul(g[de],g,h,r,!0)}}t=i?t.projectionNext:t.next}return r}function sd(e,n,t,r=!0){const i=n[Zo].rendererFactory;i.begin&&i.begin();try{Oy(e,n,e.template,t)}catch(c){throw r&&Ny(n,c),c}finally{i.end&&i.end(),n[Zo].effectManager?.flush()}}function Oy(e,n,t,r){const i=n[Pe];if(256!=(256&i)){n[Zo].effectManager?.flush(),Jf(n);try{ag(n),function gg(e){return Me.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&vy(e,n,t,2,r);const c=3==(3&i);if(c){const m=e.preOrderCheckHooks;null!==m&&_u(n,m,null)}else{const m=e.preOrderHooks;null!==m&&Eu(n,m,0,null),th(n,0)}if(function GI(e){for(let n=sm(e);null!==n;n=am(n)){if(!n[$1])continue;const t=n[Us];for(let r=0;r<t.length;r++){_b(t[r])}}}(n),Py(n,2),null!==e.contentQueries&&Iy(e,n),c){const m=e.contentCheckHooks;null!==m&&_u(n,m)}else{const m=e.contentHooks;null!==m&&Eu(n,m,1),th(n,1)}!function hI(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=cy(n,fu);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Jo(~s);else{const c=s,h=t[++i],g=t[++i];Ob(h,c),r.runInContext(g,2,n[c])}}}finally{null===n[fu]&&uy(n,fu),Jo(-1)}}(e,n);const h=e.components;null!==h&&Fy(n,h,0);const g=e.viewQuery;if(null!==g&&lp(2,g,r),c){const m=e.viewCheckHooks;null!==m&&_u(n,m)}else{const m=e.viewHooks;null!==m&&Eu(n,m,2),th(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Pe]&=-73,lg(n)}finally{eh()}}}function Py(e,n){for(let t=sm(e);null!==t;t=am(t))for(let r=Bn;r<t.length;r++)Ly(t[r],n)}function WI(e,n,t){Ly(vr(n,e),t)}function Ly(e,n){if(!function Cb(e){return 128==(128&e[Pe])}(e))return;const t=e[de];if(80&e[Pe]&&0===n||1024&e[Pe]||2===n)Oy(t,e,t.template,e[tn]);else if(e[gl]>0){Py(e,1);const i=e[de].components;null!==i&&Fy(e,i,1)}}function Fy(e,n,t){for(let r=0;r<n.length;r++)WI(e,n[r],t)}class Hl{get rootNodes(){const n=this._lView,t=n[de];return Ul(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(n){this._lView[tn]=n}get destroyed(){return 256==(256&this._lView[Pe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[$t];if(or(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(wh(n,r),Tu(t,r))}this._attachedToViewContainer=!1}dm(this._lView[de],this._lView)}onDestroy(n){!function ug(e,n){if(256==(256&e[Pe]))throw new K(911,!1);null===e[yo]&&(e[yo]=[]),e[yo].push(n)}(this._lView,n)}markForCheck(){Bl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pe]&=-129}reattach(){this._lView[Pe]|=128}detectChanges(){sd(this._lView[de],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function GA(e,n){Tl(e,n,n[Le],2,null,null)}(this._lView[de],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=n}}class $I extends Hl{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;sd(n[de],n,n[tn],!1)}checkNoChanges(){}get context(){return null}}class ky extends ed{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Ye(n);return new jl(t,this.ngModule)}}function By(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class YI{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=qr(r);const i=this.injector.get(n,Kh,r);return i!==Kh||t===Kh?i:this.parentInjector.get(n,t,r)}}class jl extends Qm{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=By(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return By(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function J(e){return e.map(j).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let s=(i=i||this.ngModule)instanceof _i?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const c=s?new YI(n,s):n,h=c.get(Jm,null);if(null===h)throw new K(407,!1);const w={rendererFactory:h,sanitizer:c.get(KD,null),effectManager:c.get(Ry,null)},E=h.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=r?function gI(e,n,t,r){const s=r.get(ny,!1)||t===ir.ShadowDom,c=e.selectRootElement(n,s);return function mI(e){wy(e)}(c),c}(E,r,this.componentDef.encapsulation,c):Uu(E,S,function qI(e){const n=e.toLowerCase();return"svg"===n?ig:"math"===n?"math":null}(S)),H=this.componentDef.signals?4608:this.componentDef.onPush?576:528,$=ip(0,null,null,1,0,null,null,null,null,null,null),V=rd(null,$,null,H,null,null,w,E,c,null,null);let ee,ge;Jf(V);try{const me=this.componentDef;let yt,An=null;me.findHostDirectiveDefs?(yt=[],An=new Map,me.findHostDirectiveDefs(me,yt,An),yt.push(me)):yt=[me];const oo=function ZI(e,n){const t=e[de],r=Ke;return e[r]=n,aa(t,r,2,"#host",null)}(V,N),ur=function QI(e,n,t,r,i,s,c){const h=i[de];!function KI(e,n,t,r){for(const i of e)n.mergedAttrs=a(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(od(n,n.mergedAttrs,!0),null!==t&&xm(r,t,n))}(r,e,n,c);let g=null;null!==n&&(g=Ym(n,i[ks]));const m=s.rendererFactory.createRenderer(n,t);let w=16;t.signals?w=4096:t.onPush&&(w=64);const E=rd(i,Cy(t),null,w,i[e.index],e,s,m,null,null,g);return h.firstCreatePass&&sp(h,e,r.length-1),id(i,E),i[e.index]=E}(oo,N,me,yt,V,w,E);ge=sg($,Ke),N&&function eS(e,n,t,r){if(r)go(e,t,["ng-version",JD.full]);else{const{attrs:i,classes:s}=function ae(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&n.push(s,e[++r]):8===i&&t.push(s);else{if(!v(i))break;i=s}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&go(e,t,i),s&&s.length>0&&Em(e,t,s.join(" "))}}(E,me,N,r),void 0!==t&&function tS(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(ge,this.ngContentSelectors,t),ee=function JI(e,n,t,r,i,s){const c=Tn(),h=i[de],g=sr(c,i);xy(h,i,c,t,null,r);for(let w=0;w<t.length;w++)Vn(es(i,h,c.directiveStart+w,c),i);by(h,i,c),g&&Vn(g,i);const m=es(i,h,c.directiveStart+c.componentOffset,c);if(e[tn]=i[tn]=m,null!==s)for(const w of s)w(m,n);return tp(h,c,e),m}(ur,me,yt,An,V,[nS]),up($,V,null)}finally{eh()}return new XI(this.componentType,ee,oa(ge,V),V,ge)}}class XI extends $D{constructor(n,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new $I(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const s=this._rootLView;cp(s[de],s,i,n,t),this.previousInputValues.set(n,t),Bl(vr(this._tNode.index,s))}}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function nS(){const e=Tn();wu(Z()[de],e)}function At(e){let n=function Vy(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Zr(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new K(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const c=e;c.inputs=ad(e.inputs),c.inputTransforms=ad(e.inputTransforms),c.declaredInputs=ad(e.declaredInputs),c.outputs=ad(e.outputs);const h=i.hostBindings;h&&sS(e,h);const g=i.viewQuery,m=i.contentQueries;if(g&&iS(e,g),m&&oS(e,m),_e(e.inputs,i.inputs),_e(e.declaredInputs,i.declaredInputs),_e(e.outputs,i.outputs),null!==i.inputTransforms&&(null===c.inputTransforms&&(c.inputTransforms={}),_e(c.inputTransforms,i.inputTransforms)),Zr(i)&&i.data.animation){const w=e.data;w.animation=(w.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let c=0;c<s.length;c++){const h=s[c];h&&h.ngInherit&&h(e),h===At&&(t=!1)}}n=Object.getPrototypeOf(n)}!function rS(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=a(i.hostAttrs,t=a(t,i.hostAttrs))}}(r)}function ad(e){return e===en?{}:e===nt?[]:e}function iS(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function oS(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,s)=>{n(r,i,s),t(r,i,s)}:n}function sS(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function zy(e){const n=e.inputConfig,t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}e.inputTransforms=t}function ld(e){return!!dp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function dp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function bi(e,n,t){return e[n]=t}function Hn(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function os(e,n,t,r){const i=Hn(e,n,t);return Hn(e,n+1,r)||i}function Ai(e,n,t,r){const i=Z();return Hn(i,zs(),n)&&(rt(),xi(qt(),i,e,n,t,r)),Ai}function ca(e,n,t,r){return Hn(e,zs(),t)?n+Ie(t)+r:Fe}function ua(e,n,t,r,i,s){const h=os(e,function zi(){return Me.lFrame.bindingIndex}(),t,i);return Gi(2),h?n+Ie(t)+r+Ie(i)+s:Fe}function q(e,n,t,r,i,s,c,h){const g=Z(),m=rt(),w=e+Ke,E=m.firstCreatePass?function NS(e,n,t,r,i,s,c,h,g){const m=n.consts,w=aa(n,e,4,c||null,vo(m,h));op(n,t,w,vo(m,g)),wu(n,w);const E=w.tView=ip(2,w,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,m,null);return null!==n.queries&&(n.queries.template(n,w),E.queries=n.queries.embeddedTView(w)),w}(w,m,g,n,t,r,i,s,c):m.data[w];Ci(E,!1);const S=n2(m,g,E,e);Cu()&&ju(m,g,S,E),Vn(S,g),id(g,g[w]=Dy(S,g,S,E)),pu(E)&&np(m,g,E),null!=c&&rp(g,E,h)}let n2=function r2(e,n,t,r){return wo(!0),n[Le].createComment("")};function k(e,n,t){const r=Z();return Hn(r,zs(),n)&&_r(rt(),qt(),r,e,n,r[Le],t,!1),k}function yp(e,n,t,r,i){const c=i?"class":"style";cp(e,t,n.inputs[c],c,r)}function b(e,n,t,r){const i=Z(),s=rt(),c=Ke+e,h=i[Le],g=s.firstCreatePass?function FS(e,n,t,r,i,s){const c=n.consts,g=aa(n,e,2,r,vo(c,i));return op(n,t,g,vo(c,s)),null!==g.attrs&&od(g,g.attrs,!1),null!==g.mergedAttrs&&od(g,g.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,g),g}(c,s,i,n,t,r):s.data[c],m=i2(s,i,g,h,n,e);i[c]=m;const w=pu(g);return Ci(g,!0),xm(h,m,g),32!=(32&g.flags)&&Cu()&&ju(s,i,m,g),0===function xb(){return Me.lFrame.elementDepthCount}()&&Vn(m,i),function bb(){Me.lFrame.elementDepthCount++}(),w&&(np(s,i,g),tp(s,g,i)),null!==r&&rp(i,g),b}function x(){let e=Tn();Yf()?function Xf(){Me.lFrame.isParent=!1}():(e=e.parent,Ci(e,!1));const n=e;(function Db(e){return Me.skipHydrationRootTNode===e})(n)&&function Mb(){Me.skipHydrationRootTNode=null}(),function Ab(){Me.lFrame.elementDepthCount--}();const t=rt();return t.firstCreatePass&&(wu(t,e),Hf(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function zb(e){return 0!=(8&e.flags)}(n)&&yp(t,n,Z(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Gb(e){return 0!=(16&e.flags)}(n)&&yp(t,n,Z(),n.stylesWithoutHost,!1),x}function le(e,n,t,r){return b(e,n,t,r),x(),le}let i2=(e,n,t,r,i,s)=>(wo(!0),Uu(r,i,function xg(){return Me.lFrame.currentNamespace}()));function lt(){return Z()}function ql(e){return!!e&&"function"==typeof e.then}function a2(e){return!!e&&"function"==typeof e.subscribe}function Ce(e,n,t,r){const i=Z(),s=rt(),c=Tn();return function c2(e,n,t,r,i,s,c){const h=pu(r),m=e.firstCreatePass&&function Ty(e){return e.cleanup||(e.cleanup=[])}(e),w=n[tn],E=function Sy(e){return e[Fs]||(e[Fs]=[])}(n);let S=!0;if(3&r.type||c){const L=sr(r,n),H=c?c(L):L,$=E.length,V=c?ge=>c(kt(ge[r.index])):r.index;let ee=null;if(!c&&h&&(ee=function jS(e,n,t,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const c=i[s];if(c===t&&i[s+1]===r){const h=n[Fs],g=i[s+2];return h.length>g?h[g]:null}"string"==typeof c&&(s+=2)}return null}(e,n,i,r.index)),null!==ee)(ee.__ngLastListenerFn__||ee).__ngNextListenerFn__=s,ee.__ngLastListenerFn__=s,S=!1;else{s=d2(r,n,w,s,!1);const ge=t.listen(H,i,s);E.push(s,ge),m&&m.push(i,V,$,$+1)}}else s=d2(r,n,w,s,!1);const N=r.outputs;let F;if(S&&null!==N&&(F=N[i])){const L=F.length;if(L)for(let H=0;H<L;H+=2){const me=n[F[H]][F[H+1]].subscribe(s),yt=E.length;E.push(s,me),m&&m.push(i,r.index,yt,-(yt+1))}}}(s,i,i[Le],c,e,n,r),Ce}function u2(e,n,t,r){try{return vi(6,n,t),!1!==t(r)}catch(i){return Ny(e,i),!1}finally{vi(7,n,t)}}function d2(e,n,t,r,i){return function s(c){if(c===Function)return r;Bl(e.componentOffset>-1?vr(e.index,n):n);let g=u2(n,t,r,c),m=s.__ngNextListenerFn__;for(;m;)g=u2(n,t,m,c)&&g,m=m.__ngNextListenerFn__;return i&&!1===g&&c.preventDefault(),g}}function ie(e=1){return function Fb(e){return(Me.lFrame.contextLView=function kb(e,n){for(;e>0;)n=n[Bs],e--;return n}(e,Me.lFrame.contextLView))[tn]}(e)}function bn(e,n,t){return hd(e,"",n,"",t),bn}function hd(e,n,t,r,i){const s=Z(),c=ca(s,n,t,r);return c!==Fe&&_r(rt(),qt(),s,e,c,s[Le],i,!1),hd}function pd(e,n){return e<<17|n<<2}function xo(e){return e>>17&32767}function wp(e){return 2|e}function ss(e){return(131068&e)>>2}function _p(e,n){return-131069&e|n<<2}function Ep(e){return 1|e}function w2(e,n,t,r,i){const s=e[t+1],c=null===n;let h=r?xo(s):ss(s),g=!1;for(;0!==h&&(!1===g||c);){const w=e[h+1];QS(e[h],n)&&(g=!0,e[h+1]=r?Ep(w):wp(w)),h=r?xo(w):ss(w)}g&&(e[t+1]=r?wp(s):Ep(s))}function QS(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Qs(e,n)>=0}function gd(e,n){return function Kr(e,n,t,r){const i=Z(),s=rt(),c=Gi(2);s.firstUpdatePass&&function T2(e,n,t,r){const i=e.data;if(null===i[t+1]){const s=i[qn()],c=function S2(e,n){return n>=e.expandoStartIndex}(e,t);(function O2(e,n){return 0!=(e.flags&(n?8:16))})(s,r)&&null===n&&!c&&(n=!1),n=function s3(e,n,t,r){const i=function Qf(e){const n=Me.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Yl(t=xp(null,e,n,t,r),n.attrs,r),s=null);else{const c=n.directiveStylingLast;if(-1===c||e[c]!==i)if(t=xp(i,e,n,t,r),null===s){let g=function a3(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==ss(r))return e[xo(r)]}(e,n,r);void 0!==g&&Array.isArray(g)&&(g=xp(null,e,n,g[1],r),g=Yl(g,n.attrs,r),function l3(e,n,t,r){e[xo(t?n.classBindings:n.styleBindings)]=r}(e,n,r,g))}else s=function c3(e,n,t){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=Yl(r,e[s].hostAttrs,t);return Yl(r,n.attrs,t)}(e,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),t}(i,s,n,r),function XS(e,n,t,r,i,s){let c=s?n.classBindings:n.styleBindings,h=xo(c),g=ss(c);e[r]=t;let w,m=!1;if(Array.isArray(t)?(w=t[1],(null===w||Qs(t,w)>0)&&(m=!0)):w=t,i)if(0!==g){const S=xo(e[h+1]);e[r+1]=pd(S,h),0!==S&&(e[S+1]=_p(e[S+1],r)),e[h+1]=function qS(e,n){return 131071&e|n<<17}(e[h+1],r)}else e[r+1]=pd(h,0),0!==h&&(e[h+1]=_p(e[h+1],r)),h=r;else e[r+1]=pd(g,0),0===h?h=r:e[g+1]=_p(e[g+1],r),g=r;m&&(e[r+1]=wp(e[r+1])),w2(e,w,r,!0),w2(e,w,r,!1),function ZS(e,n,t,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&Qs(s,n)>=0&&(t[r+1]=Ep(t[r+1]))}(n,w,e,r,s),c=pd(h,g),s?n.classBindings=c:n.styleBindings=c}(i,s,n,t,c,r)}}(s,e,c,r),n!==Fe&&Hn(i,c,n)&&function N2(e,n,t,r,i,s,c,h){if(!(3&n.type))return;const g=e.data,m=g[h+1],w=function YS(e){return 1==(1&e)}(m)?R2(g,n,t,i,ss(m),c):void 0;md(w)||(md(s)||function $S(e){return 2==(2&e)}(m)&&(s=R2(g,null,t,i,h,c)),function eD(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:_o.DashCase;null==i?e.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=_o.Important),e.setStyle(t,r,i,s))}}(r,c,vu(qn(),t),i,s))}(s,s.data[qn()],i,i[Le],e,i[c+1]=function h3(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Qe(Eo(e)))),e}(n,t),r,c)}(e,n,null,!0),gd}function xp(e,n,t,r,i){let s=null;const c=t.directiveEnd;let h=t.directiveStylingLast;for(-1===h?h=t.directiveStart:h++;h<c&&(s=n[h],r=Yl(r,s.hostAttrs,i),s!==e);)h++;return null!==e&&(t.directiveStylingLast=h),r}function Yl(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c?i=c:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Cr(e,c,!!t||n[++s]))}return void 0===e?null:e}function R2(e,n,t,r,i,s){const c=null===n;let h;for(;i>0;){const g=e[i],m=Array.isArray(g),w=m?g[1]:g,E=null===w;let S=t[i+1];S===Fe&&(S=E?nt:void 0);let N=E?ch(S,r):w===r?S:void 0;if(m&&!md(N)&&(N=ch(g,r)),md(N)&&(h=N,c))return h;const F=e[i+1];i=c?xo(F):ss(F)}if(null!==n){let g=s?n.residualClasses:n.residualStyles;null!=g&&(h=ch(g,r))}return h}function md(e){return void 0!==e}function D(e,n=""){const t=Z(),r=rt(),i=e+Ke,s=r.firstCreatePass?aa(r,i,1,n,null):r.data[i],c=P2(r,t,s,n,e);t[i]=c,Cu()&&ju(r,t,c,s),Ci(s,!1)}let P2=(e,n,t,r,i)=>(wo(!0),function Vu(e,n){return e.createText(n)}(n[Le],r));function Er(e){return qe("",e,""),Er}function qe(e,n,t){const r=Z(),i=ca(r,e,n,t);return i!==Fe&&Yi(r,qn(),i),qe}function Xl(e,n,t,r,i){const s=Z(),c=ua(s,e,n,t,r,i);return c!==Fe&&Yi(s,qn(),c),Xl}const as=void 0;var L3=["en",[["a","p"],["AM","PM"],as],[["AM","PM"],as,as],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],as,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],as,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",as,"{1} 'at' {0}",as],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function P3(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let va={};function Yn(e){const n=function F3(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=ev(n);if(t)return t;const r=n.split("-")[0];if(t=ev(r),t)return t;if("en"===r)return L3;throw new K(701,!1)}function ev(e){return e in va||(va[e]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[e]),va[e]}var Pt=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Pt||{});const Ca="en-US";let tv=Ca;function Dp(e,n,t,r,i){if(e=xe(e),Array.isArray(e))for(let s=0;s<e.length;s++)Dp(e[s],n,t,r,i);else{const s=rt(),c=Z();let h=ns(e)?e:xe(e.provide),g=zm(e);const m=Tn(),w=1048575&m.providerIndexes,E=m.directiveStart,S=m.providerIndexes>>20;if(ns(e)||!e.multi){const N=new _l(g,i,W),F=Sp(h,n,i?w:w+S,E);-1===F?(sh(Du(m,c),s,h),Ip(s,e,n.length),n.push(h),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),t.push(N),c.push(N)):(t[F]=N,c[F]=N)}else{const N=Sp(h,n,w+S,E),F=Sp(h,n,w,w+S),H=F>=0&&t[F];if(i&&!H||!i&&!(N>=0&&t[N])){sh(Du(m,c),s,h);const $=function OT(e,n,t,r,i){const s=new _l(e,t,W);return s.multi=[],s.index=n,s.componentProviders=0,Dv(s,i,r&&!t),s}(i?RT:NT,t.length,i,r,g);!i&&H&&(t[F].providerFactory=$),Ip(s,e,n.length,0),n.push(h),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),t.push($),c.push($)}else Ip(s,e,N>-1?N:F,Dv(t[i?F:N],g,!i&&r));!i&&r&&H&&t[F].componentProviders++}}}function Ip(e,n,t,r){const i=ns(n),s=function MD(e){return!!e.useClass}(n);if(i||s){const g=(s?xe(n.useClass):n).prototype.ngOnDestroy;if(g){const m=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const w=m.indexOf(t);-1===w?m.push(t,[r,g]):m[w+1].push(r,g)}else m.push(t,g)}}}function Dv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Sp(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function NT(e,n,t,r){return Tp(this.multi,[])}function RT(e,n,t,r){const i=this.multi;let s;if(this.providerFactory){const c=this.providerFactory.componentProviders,h=es(t,t[de],this.providerFactory.index,r);s=h.slice(0,c),Tp(i,s);for(let g=c;g<h.length;g++)s.push(h[g])}else s=[],Tp(i,s);return s}function Tp(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Vt(e,n=[]){return t=>{t.providersResolver=(r,i)=>function MT(e,n,t){const r=rt();if(r.firstCreatePass){const i=Zr(e);Dp(t,r.data,r.blueprint,i,!0),Dp(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class wa{}class Iv{}class Mp extends wa{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ky(this);const i=mr(n);this._bootstrapComponents=qi(i.bootstrap),this._r3Injector=my(n,t,[{provide:wa,useValue:this},{provide:ed,useValue:this.componentFactoryResolver},...r],Qe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Np extends Iv{constructor(n){super(),this.moduleType=n}create(n){return new Mp(this.moduleType,n,[])}}class Sv extends wa{constructor(n){super(),this.componentFactoryResolver=new ky(this),this.instance=null;const t=new Vh([...n.providers,{provide:wa,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],n.parent||Yu(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Rp(e,n,t=null){return new Sv({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let FT=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Vm(0,t.type),i=r.length>0?Rp([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ce({token:e,providedIn:"environment",factory:()=>new e(ne(_i))}),e})();function Tv(e){e.getStandaloneInjector=n=>n.get(FT).getOrCreateStandaloneInjector(e)}function dn(e,n,t,r){return Fv(Z(),$n(),e,n,t,r)}function Yt(e,n,t,r,i){return kv(Z(),$n(),e,n,t,r,i)}function tc(e,n){const t=e[n];return t===Fe?void 0:t}function Fv(e,n,t,r,i,s){const c=n+t;return Hn(e,c,i)?bi(e,c+1,s?r.call(s,i):r(i)):tc(e,c+1)}function kv(e,n,t,r,i,s,c){const h=n+t;return os(e,h,i,s)?bi(e,h+2,c?r.call(c,i,s):r(i,s)):tc(e,h+2)}function nc(e,n){const t=rt();let r;const i=e+Ke;t.firstCreatePass?(r=function JT(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Ko(r.type)),c=On(W);try{const h=Au(!1),g=s();return Au(h),function PS(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,Z(),i,g),g}finally{On(c)}}function _d(e,n,t,r){const i=e+Ke,s=Z(),c=Hs(s,i);return rc(s,i)?kv(s,$n(),n,c.transform,t,r,c):c.transform(t,r)}function rc(e,n){return e[de].data[n].pure}function Pp(e){return n=>{setTimeout(e,void 0,n)}}const Qt=class rM extends Ot{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,s=t||(()=>null),c=r;if(n&&"object"==typeof n){const g=n;i=g.next?.bind(g),s=g.error?.bind(g),c=g.complete?.bind(g)}this.__isAsync&&(s=Pp(s),i&&(i=Pp(i)),c&&(c=Pp(c)));const h=super.subscribe({next:i,error:s,complete:c});return n instanceof Jn&&n.add(h),h}};let Xi=(()=>{class e{}return e.__NG_ELEMENT_ID__=aM,e})();const oM=Xi,sM=class extends oM{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t,null)}createEmbeddedViewImpl(n,t,r){const c=this._declarationTContainer.tView,h=rd(this._declarationLView,c,n,4096&this._declarationLView[Pe]?4096:16,null,c.declTNode,null,null,null,t||null,r||null);h[yl]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[gi];return null!==m&&(h[gi]=m.createEmbeddedView(c)),up(c,h,n),new Hl(h)}};function aM(){return function Ed(e,n){return 4&e.type?new sM(n,e,oa(e,n)):null}(Tn(),Z())}let ei=(()=>{class e{}return e.__NG_ELEMENT_ID__=pM,e})();function pM(){return function qv(e,n){let t;const r=n[e.index];return or(r)?t=r:(t=Dy(r,n,null,e),n[e.index]=t,id(n,t)),Yv(t,n,e,r),new Wv(t,e,n)}(Tn(),Z())}const gM=ei,Wv=class extends gM{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return oa(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const n=oh(this._hostTNode,this._hostLView);if(Ig(n)){const t=bu(n,this._hostLView),r=xu(n);return new Ws(t[de].data[r+8],t)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=$v(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Bn}createEmbeddedView(n,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const h=n.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(h,i,false),h}createComponent(n,t,r,i,s){const c=n&&!function El(e){return"function"==typeof e}(n);let h;if(c)h=t;else{const L=t||{};h=L.index,r=L.injector,i=L.projectableNodes,s=L.environmentInjector||L.ngModuleRef}const g=c?n:new jl(Ye(n)),m=r||this.parentInjector;if(!s&&null==g.ngModule){const H=(c?m:this.parentInjector).get(_i,null);H&&(s=H)}Ye(g.componentType??{});const N=g.create(m,i,null,s);return this.insertImpl(N.hostView,h,false),N}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView,s=i[de];if(function wb(e){return or(e[$t])}(i)){const g=this.indexOf(n);if(-1!==g)this.detach(g);else{const m=i[$t],w=new Wv(m,m[kn],m[$t]);w.detach(w.indexOf(n))}}const c=this._adjustIndex(t),h=this._lContainer;if(function $A(e,n,t,r){const i=Bn+r,s=t.length;r>0&&(t[i-1][Xr]=n),r<s-Bn?(n[Xr]=t[i],Vg(t,Bn+r,n)):(t.push(n),n[Xr]=null),n[$t]=t;const c=n[yl];null!==c&&t!==c&&function qA(e,n){const t=e[Us];n[nn]!==n[$t][$t][nn]&&(e[$1]=!0),null===t?e[Us]=[n]:t.push(n)}(c,n);const h=n[gi];null!==h&&h.insertView(e),n[Pe]|=128}(s,i,h,c),!r){const g=bh(c,h),m=i[Le],w=Hu(m,h[mi]);null!==w&&function zA(e,n,t,r,i,s){r[yn]=i,r[kn]=n,Tl(e,r,t,1,i,s)}(s,h[kn],m,i,w,g)}return n.attachToViewContainerRef(),Vg(kp(h),c,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=$v(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=wh(this._lContainer,t);r&&(Tu(kp(this._lContainer),t),dm(r[de],r))}detach(n){const t=this._adjustIndex(n,-1),r=wh(this._lContainer,t);return r&&null!=Tu(kp(this._lContainer),t)?new Hl(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function $v(e){return e[8]}function kp(e){return e[8]||(e[8]=[])}let Yv=function Xv(e,n,t,r){if(e[mi])return;let i;i=8&t.type?kt(r):function mM(e,n){const t=e[Le],r=t.createComment(""),i=sr(n,e);return ts(t,Hu(t,i),r,function QA(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[mi]=i};const Yp=new pe("Application Initializer");let Xp=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ue(Yp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(ql(s))t.push(s);else if(a2(s)){const c=new Promise((h,g)=>{s.subscribe({complete:h,error:g})});t.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),wC=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Zi=new pe("LocaleId",{providedIn:"root",factory:()=>ue(Zi,Ue.Optional|Ue.SkipSelf)||function qM(){return typeof $localize<"u"&&$localize.locale||Ca}()});let bd=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class ZM{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let _C=(()=>{class e{compileModuleSync(t){return new Np(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=qi(mr(t).declarations).reduce((c,h)=>{const g=Ye(h);return g&&c.push(new jl(g)),c},[]);return new ZM(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bC(...e){}class Xt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qt(!1),this.onMicrotaskEmpty=new Qt(!1),this.onStable=new Qt(!1),this.onError=new Qt(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function JM(){const e="function"==typeof pt.requestAnimationFrame;let n=pt[e?"requestAnimationFrame":"setTimeout"],t=pt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function n4(e){const n=()=>{!function t4(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(pt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Qp(e),e.isCheckStableRunning=!0,Zp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Qp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,c,h)=>{try{return AC(e),t.invokeTask(i,s,c,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),DC(e)}},onInvoke:(t,r,i,s,c,h,g)=>{try{return AC(e),t.invoke(i,s,c,h,g)}finally{e.shouldCoalesceRunChangeDetection&&n(),DC(e)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Qp(e),Zp(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xt.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(Xt.isInAngularZone())throw new K(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const s=this._inner,c=s.scheduleEventTask("NgZoneEvent: "+i,n,e4,bC,bC);try{return s.runTask(c,t,r)}finally{s.cancelTask(c)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const e4={};function Zp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Qp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function AC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function DC(e){e._nesting--,Zp(e)}class r4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qt,this.onMicrotaskEmpty=new Qt,this.onStable=new Qt,this.onError=new Qt}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const IC=new pe("",{providedIn:"root",factory:SC});function SC(){const e=ue(Xt);let n=!0;return function zt(...e){const n=Tt(e),t=function co(e,n){return"number"==typeof X(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?se(r[0]):lo(t)(Jt(r,n)):gn}(new vt(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new vt(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{Xt.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const c=e.onUnstable.subscribe(()=>{Xt.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),c.unsubscribe()}}).pipe(tu()))}const TC=new pe(""),Ad=new pe("");let e0,Kp=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,e0||(function i4(e){e0=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(ne(Xt),ne(Jp),ne(Ad))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Jp=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return e0?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),bo=null;const MC=new pe("AllowMultipleToken"),t0=new pe("PlatformDestroyListeners"),n0=new pe("appBootstrapListener");class RC{constructor(n,t){this.name=n,this.token=t}}function PC(e,n,t=[]){const r=`Platform: ${n}`,i=new pe(r);return(s=[])=>{let c=r0();if(!c||c.injector.get(MC,!1)){const h=[...t,...s,{provide:i,useValue:!0}];e?e(h):function a4(e){if(bo&&!bo.get(MC,!1))throw new K(400,!1);(function NC(){!function lb(e){K1=e}(()=>{throw new K(600,!1)})})(),bo=e;const n=e.get(FC);(function OC(e){e.get(Gm,null)?.forEach(t=>t())})(e)}(function LC(e=[],n){return Ei.create({name:n,providers:[{provide:kh,useValue:"platform"},{provide:t0,useValue:new Set([()=>bo=null])},...e]})}(h,r))}return function c4(e){const n=r0();if(!n)throw new K(401,!1);return n}()}}function r0(){return bo?.get(FC)??null}let FC=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function u4(e="zone.js",n){return"noop"===e?new r4:"zone.js"===e?new Xt(n):e}(r?.ngZone,function kC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function LT(e,n,t){return new Mp(e,n,t)}(t.moduleType,this.injector,function jC(e){return[{provide:Xt,useFactory:e},{provide:Pl,multi:!0,useFactory:()=>{const n=ue(f4,{optional:!0});return()=>n.initialize()}},{provide:HC,useFactory:d4},{provide:IC,useFactory:SC}]}(()=>i)),c=s.injector.get(is,null);return i.runOutsideAngular(()=>{const h=i.onError.subscribe({next:g=>{c.handleError(g)}});s.onDestroy(()=>{Dd(this._modules,s),h.unsubscribe()})}),function BC(e,n,t){try{const r=t();return ql(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(c,i,()=>{const h=s.injector.get(Xp);return h.runInitializers(),h.donePromise.then(()=>(function nv(e){tr(e,"Expected localeId to be defined"),"string"==typeof e&&(tv=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Zi,Ca)||Ca),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=VC({},r);return function o4(e,n,t){const r=new Np(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(xa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new K(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(t0,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(ne(Ei))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function VC(e,n){return Array.isArray(n)?n.reduce(VC,e):{...e,...n}}let xa=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ue(HC),this.zoneIsStable=ue(IC),this.componentTypes=[],this.components=[],this.isStable=ue(bd).hasPendingTasks.pipe(Ve(t=>t?Ee(!1):this.zoneIsStable),function En(e,n=Mt){return e=e??U,Xe((t,r)=>{let i,s=!0;t.subscribe(Ft(r,c=>{const h=n(c);(s||!e(i,h))&&(s=!1,i=h,r.next(c))}))})}(),tu()),this._injector=ue(_i)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Qm;if(!this._injector.get(Xp).done)throw!i&&function mo(e){const n=Ye(e)||Wt(e)||Fn(e);return null!==n&&n.standalone}(t),new K(405,!1);let c;c=i?t:this._injector.get(ed).resolveComponentFactory(t),this.componentTypes.push(c.componentType);const h=function s4(e){return e.isBoundToModule}(c)?void 0:this._injector.get(wa),m=c.create(Ei.NULL,[],r||c.selector,h),w=m.location.nativeElement,E=m.injector.get(TC,null);return E?.registerApplication(w),m.onDestroy(()=>{this.detachView(m.hostView),Dd(this.components,m),E?.unregisterApplication(w)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Dd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(n0,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Dd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Dd(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const HC=new pe("",{providedIn:"root",factory:()=>ue(is).handleError.bind(void 0)});function d4(){const e=ue(Xt),n=ue(is);return t=>e.runOutsideAngular(()=>n.handleError(t))}let f4=(()=>{class e{constructor(){this.zone=ue(Xt),this.applicationRef=ue(xa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let Id=(()=>{class e{}return e.__NG_ELEMENT_ID__=p4,e})();function p4(e){return function g4(e,n,t){if(Qo(e)&&!t){const r=vr(e.index,n);return new Hl(r,r)}return 47&e.type?new Hl(n[nn],n):null}(Tn(),Z(),16==(16&e))}class $C{constructor(){}supports(n){return ld(n)}create(n){return new _4(n)}}const w4=(e,n)=>n;class _4{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||w4}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const c=!r||t&&t.currentIndex<YC(r,i,s)?t:r,h=YC(c,i,s),g=c.currentIndex;if(c===r)i--,r=r._nextRemoved;else if(t=t._next,null==c.previousIndex)i++;else{s||(s=[]);const m=h-i,w=g-i;if(m!=w){for(let S=0;S<m;S++){const N=S<s.length?s[S]:s[S]=0,F=N+S;w<=F&&F<m&&(s[S]=N+1)}s[c.previousIndex]=w-m}}h!==g&&n(c,h,g)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!ld(n))throw new K(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,c,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let h=0;h<this.length;h++)s=n[h],c=this._trackByFn(h,s),null!==t&&Object.is(t.trackById,c)?(r&&(t=this._verifyReinsertion(t,s,c,h)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,c,h),r=!0),t=t._next}else i=0,function hS(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,h=>{c=this._trackByFn(i,h),null!==t&&Object.is(t.trackById,c)?(r&&(t=this._verifyReinsertion(t,h,c,i)),Object.is(t.item,h)||this._addIdentityChange(t,h)):(t=this._mismatch(t,h,c,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,i)):n=this._addAfter(new E4(t,r),s,i),n}_verifyReinsertion(n,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new qC),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class E4{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class x4{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class qC{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new x4,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YC(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class XC{constructor(){}supports(n){return n instanceof Map||dp(n)}create(){return new b4}}class b4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||dp(n)))throw new K(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const s=i._prev,c=i._next;return s&&(s._next=c),c&&(c._prev=s),i._next=null,i._prev=null,i}const r=new A4(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class A4{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ZC(){return new Md([new $C])}let Md=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||ZC()),deps:[[e,new Ru,new Nu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new K(901,!1)}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:ZC}),e})();function QC(){return new oc([new XC])}let oc=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||QC()),deps:[[e,new Ru,new Nu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new K(901,!1)}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:QC}),e})();const S4=PC(null,"core",[]);let T4=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(ne(xa))},e.\u0275mod=Gt({type:e}),e.\u0275inj=nr({}),e})();function ba(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let d0=null;function Ao(){return d0}class H4{}const xr=new pe("DocumentToken");let f0=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return ue(z4)},providedIn:"platform"}),e})();const j4=new pe("Location Initialized");let z4=(()=>{class e extends f0{constructor(){super(),this._doc=ue(xr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ao().getBaseHref(this._doc)}onPopState(t){const r=Ao().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ao().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function h0(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function iw(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Qi(e){return e&&"?"!==e[0]?"?"+e:e}let cs=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return ue(sw)},providedIn:"root"}),e})();const ow=new pe("appBaseHref");let sw=(()=>{class e extends cs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ue(xr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return h0(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const c=this.prepareExternalUrl(i+Qi(s));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){const c=this.prepareExternalUrl(i+Qi(s));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(ne(f0),ne(ow,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),G4=(()=>{class e extends cs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=h0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let c=this.prepareExternalUrl(i+Qi(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,s){let c=this.prepareExternalUrl(i+Qi(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(ne(f0),ne(ow,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),p0=(()=>{class e{constructor(t){this._subject=new Qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function q4(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(iw(aw(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qi(r))}normalize(t){return e.stripTrailingSlash(function $4(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,aw(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=Qi,e.joinWithSlash=h0,e.stripTrailingSlash=iw,e.\u0275fac=function(t){return new(t||e)(ne(cs))},e.\u0275prov=ce({token:e,factory:function(){return function W4(){return new p0(ne(cs))}()},providedIn:"root"}),e})();function aw(e){return e.replace(/\/index.html$/,"")}var Zn=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Zn||{}),Rt=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Rt||{}),br=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(br||{}),rn=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(rn||{});function Od(e,n){return Lr(Yn(e)[Pt.DateFormat],n)}function Pd(e,n){return Lr(Yn(e)[Pt.TimeFormat],n)}function Ld(e,n){return Lr(Yn(e)[Pt.DateTimeFormat],n)}function Pr(e,n){const t=Yn(e),r=t[Pt.NumberSymbols][n];if(typeof r>"u"){if(n===rn.CurrencyDecimal)return t[Pt.NumberSymbols][rn.Decimal];if(n===rn.CurrencyGroup)return t[Pt.NumberSymbols][rn.Group]}return r}function cw(e){if(!e[Pt.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Pt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Lr(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function m0(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const aN=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,sc={},lN=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ki=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Ki||{}),gt=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(gt||{}),mt=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(mt||{});function cN(e,n,t,r){let i=function vN(e){if(fw(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,s=1,c=1]=e.split("-").map(h=>+h);return Fd(i,s-1,c)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(aN))return function CN(e){const n=new Date(0);let t=0,r=0;const i=e[8]?n.setUTCFullYear:n.setFullYear,s=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const c=Number(e[4]||0)-t,h=Number(e[5]||0)-r,g=Number(e[6]||0),m=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(n,c,h,g,m),n}(r)}const n=new Date(e);if(!fw(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=Ji(t,n)||n;let h,c=[];for(;n;){if(h=lN.exec(n),!h){c.push(n);break}{c=c.concat(h.slice(1));const w=c.pop();if(!w)break;n=w}}let g=i.getTimezoneOffset();r&&(g=dw(r,g),i=function yN(e,n,t){const r=t?-1:1,i=e.getTimezoneOffset();return function mN(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,r*(dw(n,i)-i))}(i,r,!0));let m="";return c.forEach(w=>{const E=function gN(e){if(v0[e])return v0[e];let n;switch(e){case"G":case"GG":case"GGG":n=Lt(mt.Eras,Rt.Abbreviated);break;case"GGGG":n=Lt(mt.Eras,Rt.Wide);break;case"GGGGG":n=Lt(mt.Eras,Rt.Narrow);break;case"y":n=fn(gt.FullYear,1,0,!1,!0);break;case"yy":n=fn(gt.FullYear,2,0,!0,!0);break;case"yyy":n=fn(gt.FullYear,3,0,!1,!0);break;case"yyyy":n=fn(gt.FullYear,4,0,!1,!0);break;case"Y":n=Ud(1);break;case"YY":n=Ud(2,!0);break;case"YYY":n=Ud(3);break;case"YYYY":n=Ud(4);break;case"M":case"L":n=fn(gt.Month,1,1);break;case"MM":case"LL":n=fn(gt.Month,2,1);break;case"MMM":n=Lt(mt.Months,Rt.Abbreviated);break;case"MMMM":n=Lt(mt.Months,Rt.Wide);break;case"MMMMM":n=Lt(mt.Months,Rt.Narrow);break;case"LLL":n=Lt(mt.Months,Rt.Abbreviated,Zn.Standalone);break;case"LLLL":n=Lt(mt.Months,Rt.Wide,Zn.Standalone);break;case"LLLLL":n=Lt(mt.Months,Rt.Narrow,Zn.Standalone);break;case"w":n=y0(1);break;case"ww":n=y0(2);break;case"W":n=y0(1,!0);break;case"d":n=fn(gt.Date,1);break;case"dd":n=fn(gt.Date,2);break;case"c":case"cc":n=fn(gt.Day,1);break;case"ccc":n=Lt(mt.Days,Rt.Abbreviated,Zn.Standalone);break;case"cccc":n=Lt(mt.Days,Rt.Wide,Zn.Standalone);break;case"ccccc":n=Lt(mt.Days,Rt.Narrow,Zn.Standalone);break;case"cccccc":n=Lt(mt.Days,Rt.Short,Zn.Standalone);break;case"E":case"EE":case"EEE":n=Lt(mt.Days,Rt.Abbreviated);break;case"EEEE":n=Lt(mt.Days,Rt.Wide);break;case"EEEEE":n=Lt(mt.Days,Rt.Narrow);break;case"EEEEEE":n=Lt(mt.Days,Rt.Short);break;case"a":case"aa":case"aaa":n=Lt(mt.DayPeriods,Rt.Abbreviated);break;case"aaaa":n=Lt(mt.DayPeriods,Rt.Wide);break;case"aaaaa":n=Lt(mt.DayPeriods,Rt.Narrow);break;case"b":case"bb":case"bbb":n=Lt(mt.DayPeriods,Rt.Abbreviated,Zn.Standalone,!0);break;case"bbbb":n=Lt(mt.DayPeriods,Rt.Wide,Zn.Standalone,!0);break;case"bbbbb":n=Lt(mt.DayPeriods,Rt.Narrow,Zn.Standalone,!0);break;case"B":case"BB":case"BBB":n=Lt(mt.DayPeriods,Rt.Abbreviated,Zn.Format,!0);break;case"BBBB":n=Lt(mt.DayPeriods,Rt.Wide,Zn.Format,!0);break;case"BBBBB":n=Lt(mt.DayPeriods,Rt.Narrow,Zn.Format,!0);break;case"h":n=fn(gt.Hours,1,-12);break;case"hh":n=fn(gt.Hours,2,-12);break;case"H":n=fn(gt.Hours,1);break;case"HH":n=fn(gt.Hours,2);break;case"m":n=fn(gt.Minutes,1);break;case"mm":n=fn(gt.Minutes,2);break;case"s":n=fn(gt.Seconds,1);break;case"ss":n=fn(gt.Seconds,2);break;case"S":n=fn(gt.FractionalSeconds,1);break;case"SS":n=fn(gt.FractionalSeconds,2);break;case"SSS":n=fn(gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Bd(Ki.Short);break;case"ZZZZZ":n=Bd(Ki.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Bd(Ki.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Bd(Ki.Long);break;default:return null}return v0[e]=n,n}(w);m+=E?E(i,t,g):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function Fd(e,n,t){const r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Ji(e,n){const t=function X4(e){return Yn(e)[Pt.LocaleId]}(e);if(sc[t]=sc[t]||{},sc[t][n])return sc[t][n];let r="";switch(n){case"shortDate":r=Od(e,br.Short);break;case"mediumDate":r=Od(e,br.Medium);break;case"longDate":r=Od(e,br.Long);break;case"fullDate":r=Od(e,br.Full);break;case"shortTime":r=Pd(e,br.Short);break;case"mediumTime":r=Pd(e,br.Medium);break;case"longTime":r=Pd(e,br.Long);break;case"fullTime":r=Pd(e,br.Full);break;case"short":const i=Ji(e,"shortTime"),s=Ji(e,"shortDate");r=kd(Ld(e,br.Short),[i,s]);break;case"medium":const c=Ji(e,"mediumTime"),h=Ji(e,"mediumDate");r=kd(Ld(e,br.Medium),[c,h]);break;case"long":const g=Ji(e,"longTime"),m=Ji(e,"longDate");r=kd(Ld(e,br.Long),[g,m]);break;case"full":const w=Ji(e,"fullTime"),E=Ji(e,"fullDate");r=kd(Ld(e,br.Full),[w,E])}return r&&(sc[t][n]=r),r}function kd(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return null!=n&&r in n?n[r]:t})),e}function ni(e,n,t="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,s=t));let c=String(e);for(;c.length<n;)c="0"+c;return r&&(c=c.slice(c.length-n)),s+c}function fn(e,n,t=0,r=!1,i=!1){return function(s,c){let h=function dN(e,n){switch(e){case gt.FullYear:return n.getFullYear();case gt.Month:return n.getMonth();case gt.Date:return n.getDate();case gt.Hours:return n.getHours();case gt.Minutes:return n.getMinutes();case gt.Seconds:return n.getSeconds();case gt.FractionalSeconds:return n.getMilliseconds();case gt.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((t>0||h>-t)&&(h+=t),e===gt.Hours)0===h&&-12===t&&(h=12);else if(e===gt.FractionalSeconds)return function uN(e,n){return ni(e,3).substring(0,n)}(h,n);const g=Pr(c,rn.MinusSign);return ni(h,n,g,r,i)}}function Lt(e,n,t=Zn.Format,r=!1){return function(i,s){return function fN(e,n,t,r,i,s){switch(t){case mt.Months:return function K4(e,n,t){const r=Yn(e),s=Lr([r[Pt.MonthsFormat],r[Pt.MonthsStandalone]],n);return Lr(s,t)}(n,i,r)[e.getMonth()];case mt.Days:return function Q4(e,n,t){const r=Yn(e),s=Lr([r[Pt.DaysFormat],r[Pt.DaysStandalone]],n);return Lr(s,t)}(n,i,r)[e.getDay()];case mt.DayPeriods:const c=e.getHours(),h=e.getMinutes();if(s){const m=function nN(e){const n=Yn(e);return cw(n),(n[Pt.ExtraData][2]||[]).map(r=>"string"==typeof r?m0(r):[m0(r[0]),m0(r[1])])}(n),w=function rN(e,n,t){const r=Yn(e);cw(r);const s=Lr([r[Pt.ExtraData][0],r[Pt.ExtraData][1]],n)||[];return Lr(s,t)||[]}(n,i,r),E=m.findIndex(S=>{if(Array.isArray(S)){const[N,F]=S,L=c>=N.hours&&h>=N.minutes,H=c<F.hours||c===F.hours&&h<F.minutes;if(N.hours<F.hours){if(L&&H)return!0}else if(L||H)return!0}else if(S.hours===c&&S.minutes===h)return!0;return!1});if(-1!==E)return w[E]}return function Z4(e,n,t){const r=Yn(e),s=Lr([r[Pt.DayPeriodsFormat],r[Pt.DayPeriodsStandalone]],n);return Lr(s,t)}(n,i,r)[c<12?0:1];case mt.Eras:return function J4(e,n){return Lr(Yn(e)[Pt.Eras],n)}(n,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,e,n,t,r)}}function Bd(e){return function(n,t,r){const i=-1*r,s=Pr(t,rn.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case Ki.Short:return(i>=0?"+":"")+ni(c,2,s)+ni(Math.abs(i%60),2,s);case Ki.ShortGMT:return"GMT"+(i>=0?"+":"")+ni(c,1,s);case Ki.Long:return"GMT"+(i>=0?"+":"")+ni(c,2,s)+":"+ni(Math.abs(i%60),2,s);case Ki.Extended:return 0===r?"Z":(i>=0?"+":"")+ni(c,2,s)+":"+ni(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const hN=0,Vd=4;function uw(e){return Fd(e.getFullYear(),e.getMonth(),e.getDate()+(Vd-e.getDay()))}function y0(e,n=!1){return function(t,r){let i;if(n){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+s)/7)}else{const s=uw(t),c=function pN(e){const n=Fd(e,hN,1).getDay();return Fd(e,0,1+(n<=Vd?Vd:Vd+7)-n)}(s.getFullYear()),h=s.getTime()-c.getTime();i=1+Math.round(h/6048e5)}return ni(i,e,Pr(r,rn.MinusSign))}}function Ud(e,n=!1){return function(t,r){return ni(uw(t).getFullYear(),e,Pr(r,rn.MinusSign),n)}}const v0={};function dw(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function fw(e){return e instanceof Date&&!isNaN(e.valueOf())}function mw(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}const b0=/\s+/,yw=[];let eo=(()=>{class e{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=yw,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(b0):yw}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(b0):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(b0).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(t){return new(t||e)(W(Md),W(oc),W(wr),W($i))},e.\u0275dir=ve({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class RN{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let us=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new RN(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,c),Cw(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Cw(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(W(ei),W(Xi),W(Md))},e.\u0275dir=ve({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Cw(e,n){e.context.$implicit=n.item}let cr=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new ON,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ww("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ww("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(W(ei),W(Xi))},e.\u0275dir=ve({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class ON{constructor(){this.$implicit=null,this.ngIf=null}}function ww(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Qe(n)}'.`)}let Ew=(()=>{class e{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),c=-1===i.indexOf("-")?void 0:_o.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(W(wr),W(oc),W($i))},e.\u0275dir=ve({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})();function ri(e,n){return new K(2100,!1)}const zN=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let xw=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw ri();return t.replace(zN,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=bt({name:"titlecase",type:e,pure:!0,standalone:!0}),e})();const $N=new pe("DATE_PIPE_DEFAULT_TIMEZONE"),qN=new pe("DATE_PIPE_DEFAULT_OPTIONS");let jd=(()=>{class e{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return cN(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw ri()}}}return e.\u0275fac=function(t){return new(t||e)(W(Zi,16),W($N,24),W(qN,24))},e.\u0275pipe=bt({name:"date",type:e,pure:!0,standalone:!0}),e})(),r8=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=nr({}),e})();function Dw(e){return"server"===e}let a8=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new l8(ne(xr),window)}),e})();class l8{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function c8(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Iw(this.window.history)||Iw(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Iw(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Sw{}class R8 extends H4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class N0 extends R8{static makeCurrent(){!function U4(e){d0||(d0=e)}(new N0)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function O8(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}();return null==t?null:function P8(e){Wd=Wd||document.createElement("a"),Wd.setAttribute("href",e);const n=Wd.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return mw(document.cookie,n)}}let Wd,cc=null,F8=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const R0=new pe("EventManagerPlugins");let Ow=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return e.\u0275fac=function(t){return new(t||e)(ne(R0),ne(Xt))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Pw{constructor(n){this._doc=n}}const O0="ng-app-id";let Lw=(()=>{class e{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Dw(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${O0}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(O0),s;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(O0,this.appId),c}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,c=s.get(r)?.elements;c?c.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(ne(xr),ne(Xu),ne(Wm,8),ne(rs))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const P0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},L0=/%COMP%/g,U8=new pe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function kw(e,n){return n.map(t=>t.replace(L0,e))}let Bw=(()=>{class e{constructor(t,r,i,s,c,h,g,m=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=h,this.ngZone=g,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Dw(h),this.defaultRenderer=new F0(t,c,g,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ir.ShadowDom&&(r={...r,encapsulation:ir.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Uw?i.applyToHost(t):i instanceof k0&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const c=this.doc,h=this.ngZone,g=this.eventManager,m=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,E=this.platformIsServer;switch(r.encapsulation){case ir.Emulated:s=new Uw(g,m,r,this.appId,w,c,h,E);break;case ir.ShadowDom:return new G8(g,m,t,r,c,h,this.nonce,E);default:s=new k0(g,m,r,w,c,h,E)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(t){return new(t||e)(ne(Ow),ne(Lw),ne(Xu),ne(U8),ne(xr),ne(rs),ne(Xt),ne(Wm))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class F0{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(P0[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Vw(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Vw(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const s=P0[i];s?n.setAttributeNS(s,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=P0[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(_o.DashCase|_o.Important)?n.style.setProperty(t,r,i&_o.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&_o.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=Ao().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function Vw(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class G8 extends F0{constructor(n,t,r,i,s,c,h,g){super(n,s,c,g),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=kw(i.id,i.styles);for(const w of m){const E=document.createElement("style");h&&E.setAttribute("nonce",h),E.textContent=w,this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class k0 extends F0{constructor(n,t,r,i,s,c,h,g){super(n,s,c,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=g?kw(g,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Uw extends k0{constructor(n,t,r,i,s,c,h,g){const m=i+"-"+r.id;super(n,t,r,s,c,h,g,m),this.contentAttr=function H8(e){return"_ngcontent-%COMP%".replace(L0,e)}(m),this.hostAttr=function j8(e){return"_nghost-%COMP%".replace(L0,e)}(m)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let W8=(()=>{class e extends Pw{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(ne(xr))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Hw=["alt","control","meta","shift"],$8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q8={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Y8=(()=>{class e extends Pw{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const s=e.parseEventName(r),c=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ao().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),Hw.forEach(m=>{const w=r.indexOf(m);w>-1&&(r.splice(w,1),c+=m+".")}),c+=s,0!=r.length||0===s.length)return null;const g={};return g.domEventName=i,g.fullKey=c,g}static matchEventFullKeyCode(t,r){let i=$8[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Hw.forEach(c=>{c!==i&&(0,q8[c])(t)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{e.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(ne(xr))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const zw=[{provide:rs,useValue:"browser"},{provide:Gm,useValue:function X8(){N0.makeCurrent()},multi:!0},{provide:xr,useFactory:function Q8(){return function oD(e){Ih=e}(document),document},deps:[]}],K8=PC(S4,"browser",zw),J8=new pe(""),Gw=[{provide:Ad,useClass:class L8{addToWindow(n){pt.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new K(5103,!1);return s},pt.getAllAngularTestabilities=()=>n.getAllTestabilities(),pt.getAllAngularRootElements=()=>n.getAllRootElements(),pt.frameworkStabilizers||(pt.frameworkStabilizers=[]),pt.frameworkStabilizers.push(r=>{const i=pt.getAllAngularTestabilities();let s=i.length,c=!1;const h=function(g){c=c||g,s--,0==s&&r(c)};i.forEach(g=>{g.whenStable(h)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Ao().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:TC,useClass:Kp,deps:[Xt,Jp,Ad]},{provide:Kp,useClass:Kp,deps:[Xt,Jp,Ad]}],Ww=[{provide:kh,useValue:"root"},{provide:is,useFactory:function Z8(){return new is},deps:[]},{provide:R0,useClass:W8,multi:!0,deps:[xr,Xt,rs]},{provide:R0,useClass:Y8,multi:!0,deps:[xr]},Bw,Lw,Ow,{provide:Jm,useExisting:Bw},{provide:Sw,useClass:F8,deps:[]},[]];let eR=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Xu,useValue:t.appId}]}}}return e.\u0275fac=function(t){return new(t||e)(ne(J8,12))},e.\u0275mod=Gt({type:e}),e.\u0275inj=nr({providers:[...Ww,...Gw],imports:[r8,T4]}),e})(),$w=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(ne(xr))},e.\u0275prov=ce({token:e,factory:function(t){let r=null;return r=t?new t:function nR(){return new $w(ne(xr))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:lR}=Array,{getPrototypeOf:cR,prototype:uR,keys:dR}=Object;function Zw(e){if(1===e.length){const n=e[0];if(lR(n))return{args:n,keys:null};if(function fR(e){return e&&"object"==typeof e&&cR(e)===uR}(n)){const t=dR(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:hR}=Array;function Qw(e){return Te(n=>function pR(e,n){return hR(n)?e(...n):e(n)}(e,n))}function Kw(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function V0(...e){const n=Tt(e),t=Jc(e),{args:r,keys:i}=Zw(e);if(0===r.length)return Jt([],n);const s=new vt(function gR(e,n,t=Mt){return r=>{Jw(n,()=>{const{length:i}=e,s=new Array(i);let c=i,h=i;for(let g=0;g<i;g++)Jw(n,()=>{const m=Jt(e[g],n);let w=!1;m.subscribe(Ft(r,E=>{s[g]=E,w||(w=!0,h--),h||r.next(t(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,n,i?c=>Kw(i,c):Mt));return t?s.pipe(Qw(t)):s}function Jw(e,n,t){e?Gr(t,e,n):n()}const $d=$a(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function U0(...e){return function mR(){return lo(1)}()(Jt(e,Tt(e)))}function e_(e){return new vt(n=>{se(e()).subscribe(n)})}function ii(e,n){const t=et(e)?e:()=>e,r=i=>i.error(t());return new vt(n?i=>n.schedule(r,0,i):r)}function H0(){return Xe((e,n)=>{let t=null;e._refCount++;const r=Ft(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class t_ extends vt{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ka(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Jn;const t=this.getSubject();n.add(this.source.subscribe(Ft(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Jn.EMPTY)}return n}refCount(){return H0()(this)}}function ds(e){return e<=0?()=>gn:Xe((n,t)=>{let r=0;n.subscribe(Ft(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Si(e,n){return Xe((t,r)=>{let i=0;t.subscribe(Ft(r,s=>e.call(n,s,i++)&&r.next(s)))})}function qd(e){return Xe((n,t)=>{let r=!1;n.subscribe(Ft(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function n_(e=vR){return Xe((n,t)=>{let r=!1;n.subscribe(Ft(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function vR(){return new $d}function fs(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Si((i,s)=>e(i,s,r)):Mt,ds(1),t?qd(n):n_(()=>new $d))}function Da(e,n){return et(n)?pn(e,n,1):pn(e,1)}function Nn(e,n,t){const r=et(e)||n||t?{next:e,error:n,complete:t}:e;return r?Xe((i,s)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let h=!0;i.subscribe(Ft(s,g=>{var m;null===(m=r.next)||void 0===m||m.call(r,g),s.next(g)},()=>{var g;h=!1,null===(g=r.complete)||void 0===g||g.call(r),s.complete()},g=>{var m;h=!1,null===(m=r.error)||void 0===m||m.call(r,g),s.error(g)},()=>{var g,m;h&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(m=r.finalize)||void 0===m||m.call(r)}))}):Mt}function Fr(e){return Xe((n,t)=>{let s,r=null,i=!1;r=n.subscribe(Ft(t,void 0,void 0,c=>{s=se(e(c,Fr(e)(n))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function j0(e){return e<=0?()=>gn:Xe((n,t)=>{let r=[];n.subscribe(Ft(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function uc(e){return Xe((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const He="primary",dc=Symbol("RouteTitle");class xR{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ia(e){return new xR(e)}function bR(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],h=e[s];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ti(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!r_(e[i],n[i]))return!1;return!0}function r_(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,s)=>r[s]===i)}return e===n}function i_(e){return e.length>0?e[e.length-1]:null}function Io(e){return function aR(e){return!!e&&(e instanceof vt||et(e.lift)&&et(e.subscribe))}(e)?e:ql(e)?Jt(Promise.resolve(e)):Ee(e)}const DR={exact:function a_(e,n,t){if(!hs(e.segments,n.segments)||!Yd(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!a_(e.children[r],n.children[r],t))return!1;return!0},subset:l_},o_={exact:function IR(e,n){return Ti(e,n)},subset:function SR(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>r_(e[t],n[t]))},ignored:()=>!0};function s_(e,n,t){return DR[t.paths](e.root,n.root,t.matrixParams)&&o_[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function l_(e,n,t){return c_(e,n,n.segments,t)}function c_(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!hs(i,t)||n.hasChildren()||!Yd(i,t,r))}if(e.segments.length===t.length){if(!hs(e.segments,t)||!Yd(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!l_(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(hs(e.segments,i)&&Yd(e.segments,i,r)&&e.children[He])&&c_(e.children[He],n,s,r)}}function Yd(e,n,t){return n.every((r,i)=>o_[t](e[i].parameters,r.parameters))}class Sa{constructor(n=new Dt([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ia(this.queryParams)),this._queryParamMap}toString(){return NR.serialize(this)}}class Dt{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xd(this)}}class fc{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ia(this.parameters)),this._parameterMap}toString(){return f_(this)}}function hs(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let hc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return new z0},providedIn:"root"}),e})();class z0{parse(n){const t=new jR(n);return new Sa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${pc(n.root,!0)}`,r=function PR(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Zd(t)}=${Zd(i)}`).join("&"):`${Zd(t)}=${Zd(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function RR(e){return encodeURI(e)}(n.fragment)}`:""}`}}const NR=new z0;function Xd(e){return e.segments.map(n=>f_(n)).join("/")}function pc(e,n){if(!e.hasChildren())return Xd(e);if(n){const t=e.children[He]?pc(e.children[He],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==He&&r.push(`${i}:${pc(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function MR(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===He&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==He&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===He?[pc(e.children[He],!1)]:[`${i}:${pc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[He]?`${Xd(e)}/${t[0]}`:`${Xd(e)}/(${t.join("//")})`}}function u_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zd(e){return u_(e).replace(/%3B/gi,";")}function G0(e){return u_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qd(e){return decodeURIComponent(e)}function d_(e){return Qd(e.replace(/\+/g,"%20"))}function f_(e){return`${G0(e.path)}${function OR(e){return Object.keys(e).map(n=>`;${G0(n)}=${G0(e[n])}`).join("")}(e.parameters)}`}const LR=/^[^\/()?;#]+/;function W0(e){const n=e.match(LR);return n?n[0]:""}const FR=/^[^\/()?;=#]+/,BR=/^[^=?&#]+/,UR=/^[^&#]+/;class jR{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[He]=new Dt(n,t)),r}parseSegment(){const n=W0(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(n),new fc(Qd(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function kR(e){const n=e.match(FR);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=W0(this.remaining);i&&(r=i,this.capture(r))}n[Qd(t)]=Qd(r)}parseQueryParam(n){const t=function VR(e){const n=e.match(BR);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function HR(e){const n=e.match(UR);return n?n[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=d_(t),s=d_(r);if(n.hasOwnProperty(i)){let c=n[i];Array.isArray(c)||(c=[c],n[i]=c),c.push(s)}else n[i]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=W0(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new K(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=He);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[He]:new Dt([],c),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new K(4011,!1)}}function h_(e){return e.segments.length>0?new Dt([],{[He]:e}):e}function p_(e){const n={};for(const r of Object.keys(e.children)){const s=p_(e.children[r]);if(r===He&&0===s.segments.length&&s.hasChildren())for(const[c,h]of Object.entries(s.children))n[c]=h;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function zR(e){if(1===e.numberOfChildren&&e.children[He]){const n=e.children[He];return new Dt(e.segments.concat(n.segments),n.children)}return e}(new Dt(e.segments,n))}function ps(e){return e instanceof Sa}function g_(e){let n;const i=h_(function t(s){const c={};for(const g of s.children){const m=t(g);c[g.outlet]=m}const h=new Dt(s.url,c);return s===e&&(n=h),h}(e.root));return n??i}function m_(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return $0(i,i,i,t,r);const s=function WR(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new v_(!0,0,e);let n=0,t=!1;const r=e.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([g,m])=>{h[g]="string"==typeof m?m.split("/"):m}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?n++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new v_(t,n,r)}(n);if(s.toRoot())return $0(i,i,new Dt([],{}),t,r);const c=function $R(e,n,t){if(e.isAbsolute)return new Jd(n,!0,0);if(!t)return new Jd(n,!1,NaN);if(null===t.parent)return new Jd(t,!0,0);const r=Kd(e.commands[0])?0:1;return function qR(e,n,t){let r=e,i=n,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Jd(r,!1,i-s)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),h=c.processChildren?mc(c.segmentGroup,c.index,s.commands):C_(c.segmentGroup,c.index,s.commands);return $0(i,c.segmentGroup,h,t,r)}function Kd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function gc(e){return"object"==typeof e&&null!=e&&e.outlets}function $0(e,n,t,r,i){let c,s={};r&&Object.entries(r).forEach(([g,m])=>{s[g]=Array.isArray(m)?m.map(w=>`${w}`):`${m}`}),c=e===n?t:y_(e,n,t);const h=h_(p_(c));return new Sa(h,s,i)}function y_(e,n,t){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===n?t:y_(s,n,t)}),new Dt(e.segments,r)}class v_{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Kd(r[0]))throw new K(4003,!1);const i=r.find(gc);if(i&&i!==i_(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jd{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function C_(e,n,t){if(e||(e=new Dt([],{})),0===e.segments.length&&e.hasChildren())return mc(e,n,t);const r=function XR(e,n,t){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return s;const c=e.segments[i],h=t[r];if(gc(h))break;const g=`${h}`,m=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&m&&"object"==typeof m&&void 0===m.outlets){if(!__(g,m,c))return s;r+=2}else{if(!__(g,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Dt(e.segments.slice(0,r.pathIndex),{});return s.children[He]=new Dt(e.segments.slice(r.pathIndex),e.children),mc(s,0,i)}return r.match&&0===i.length?new Dt(e.segments,{}):r.match&&!e.hasChildren()?q0(e,n,t):r.match?mc(e,0,i):q0(e,n,t)}function mc(e,n,t){if(0===t.length)return new Dt(e.segments,{});{const r=function YR(e){return gc(e[0])?e[0].outlets:{[He]:e}}(t),i={};if(!r[He]&&e.children[He]&&1===e.numberOfChildren&&0===e.children[He].segments.length){const s=mc(e.children[He],n,t);return new Dt(e.segments,s.children)}return Object.entries(r).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[s]=C_(e.children[s],n,c))}),Object.entries(e.children).forEach(([s,c])=>{void 0===r[s]&&(i[s]=c)}),new Dt(e.segments,i)}}function q0(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const s=t[i];if(gc(s)){const g=ZR(s.outlets);return new Dt(r,g)}if(0===i&&Kd(t[0])){r.push(new fc(e.segments[n].path,w_(t[0]))),i++;continue}const c=gc(s)?s.outlets[He]:`${s}`,h=i<t.length-1?t[i+1]:null;c&&h&&Kd(h)?(r.push(new fc(c,w_(h))),i+=2):(r.push(new fc(c,{})),i++)}return new Dt(r,{})}function ZR(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=q0(new Dt([],{}),0,r))}),n}function w_(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function __(e,n,t){return e==t.path&&Ti(n,t.parameters)}const yc="imperative";class Mi{constructor(n,t){this.id=n,this.url=t}}class Y0 extends Mi{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class So extends Mi{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ef extends Mi{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vc extends Mi{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class X0 extends Mi{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class QR extends Mi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KR extends Mi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JR extends Mi{constructor(n,t,r,i,s){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eO extends Mi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tO extends Mi{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nO{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rO{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iO{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oO{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sO{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aO{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E_{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lO{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cc,this.attachRef=null}}let Cc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new lO,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class x_{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Z0(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Z0(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Q0(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Q0(n,this._root).map(t=>t.value)}}function Z0(e,n){if(e===n.value)return n;for(const t of n.children){const r=Z0(e,t);if(r)return r}return null}function Q0(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Q0(e,t);if(r.length)return r.unshift(n),r}return[]}class to{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ta(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class b_ extends x_{constructor(n,t){super(n),this.snapshot=t,K0(this,n)}toString(){return this.snapshot.toString()}}function A_(e,n){const t=function cO(e,n){const c=new tf([],{},{},"",{},He,n,null,{});return new I_("",new to(c,[]))}(0,n),r=new he([new fc("",{})]),i=new he({}),s=new he({}),c=new he({}),h=new he(""),g=new To(r,i,c,h,s,He,n,t.root);return g.snapshot=t.root,new b_(new to(g,[]),t)}class To{constructor(n,t,r,i,s,c,h,g){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=c,this.component=h,this._futureSnapshot=g,this.title=this.dataSubject?.pipe(Te(m=>m[dc]))??Ee(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(n=>Ia(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(n=>Ia(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function D_(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function uO(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class tf{get title(){return this.data?.[dc]}constructor(n,t,r,i,s,c,h,g,m){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=h,this.routeConfig=g,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ia(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ia(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class I_ extends x_{constructor(n,t){super(t),this.url=n,K0(this,t)}toString(){return S_(this._root)}}function K0(e,n){n.value._routerState=e,n.children.forEach(t=>K0(e,t))}function S_(e){const n=e.children.length>0?` { ${e.children.map(S_).join(", ")} } `:"";return`${e.value}${n}`}function J0(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ti(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ti(n.params,t.params)||e.paramsSubject.next(t.params),function AR(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ti(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Ti(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function e1(e,n){const t=Ti(e.params,n.params)&&function TR(e,n){return hs(e,n)&&e.every((t,r)=>Ti(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||e1(e.parent,n.parent))}let wc=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=He,this.activateEvents=new Qt,this.deactivateEvents=new Qt,this.attachEvents=new Qt,this.detachEvents=new Qt,this.parentContexts=ue(Cc),this.location=ue(ei),this.changeDetector=ue(Id),this.environmentInjector=ue(_i),this.inputBinder=ue(nf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new dO(t,h,i.injector);this.activated=i.createComponent(c,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ve({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nr]}),e})();class dO{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===To?this.route:n===Cc?this.childContexts:this.parent.get(n,t)}}const nf=new pe("");let T_=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=V0([r.queryParams,r.params,r.data]).pipe(Ve(([s,c,h],g)=>(h={...s,...c,...h},0===g?Ee(h):Promise.resolve(h)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const c=function V4(e){const n=Ye(e);if(!n)return null;const t=new jl(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(c)for(const{templateName:h}of c.inputs)t.activatedComponentRef.setInput(h,s[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function _c(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function hO(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return _c(e,r,i);return _c(e,r)})}(e,n,t);return new to(r,i)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=n.value,c.children=n.children.map(h=>_c(e,h)),c}}const r=function pO(e){return new To(new he(e.url),new he(e.params),new he(e.queryParams),new he(e.fragment),new he(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(s=>_c(e,s));return new to(r,i)}}const t1="ngNavigationCancelingError";function M_(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=ps(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=N_(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function N_(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[t1]=!0,r.cancellationCode=n,t&&(r.url=t),r}function R_(e){return O_(e)&&ps(e.url)}function O_(e){return e&&e[t1]}let P_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=G({type:e,selectors:[["ng-component"]],standalone:!0,features:[Tv],decls:1,vars:0,template:function(t,r){1&t&&le(0,"router-outlet")},dependencies:[wc],encapsulation:2}),e})();function n1(e){const n=e.children&&e.children.map(n1),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==He&&(t.component=P_),t}function oi(e){return e.outlet||He}function Ec(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class _O{constructor(n,t,r,i,s){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),J0(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Ta(t);n.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(n,t,c.children)}else this.deactivateChildRoutes(n,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Ta(n);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:h})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Ta(n);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=Ta(t);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new aO(s.value.snapshot))}),n.children.length&&this.forwardEvent(new oO(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(J0(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,c.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),J0(h.route.value),this.activateChildRoutes(n,null,c.children)}else{const h=Ec(i.snapshot);c.attachRef=null,c.route=i,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(n,null,c.children)}}else this.activateChildRoutes(n,null,r)}}class L_{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class rf{constructor(n,t){this.component=n,this.route=t}}function EO(e,n,t){const r=e._root;return xc(r,n?n._root:null,t,[r.value])}function Ma(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function ou(e){return null!==ft(e)}(e)?n.get(e):e:r}function xc(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ta(n);return e.children.forEach(c=>{(function bO(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,c=n?n.value:null,h=t?t.getContext(e.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const g=function AO(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!hs(e.url,n.url);case"pathParamsOrQueryParamsChange":return!hs(e.url,n.url)||!Ti(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!e1(e,n)||!Ti(e.queryParams,n.queryParams);default:return!e1(e,n)}}(c,s,s.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new L_(r)):(s.data=c.data,s._resolvedData=c._resolvedData),xc(e,n,s.component?h?h.children:null:t,r,i),g&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new rf(h.outlet.component,c))}else c&&bc(n,h,i),i.canActivateChecks.push(new L_(r)),xc(e,null,s.component?h?h.children:null:t,r,i)})(c,s[c.value.outlet],t,r.concat([c.value]),i),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,h])=>bc(h,t.getContext(c),i)),i}function bc(e,n,t){const r=Ta(e),i=e.value;Object.entries(r).forEach(([s,c])=>{bc(c,i.component?n?n.children.getContext(s):null:n,t)}),t.canDeactivateChecks.push(new rf(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Ac(e){return"function"==typeof e}function F_(e){return e instanceof $d||"EmptyError"===e?.name}const sf=Symbol("INITIAL_VALUE");function Na(){return Ve(e=>V0(e.map(n=>n.pipe(ds(1),function yR(...e){const n=Tt(e);return Xe((t,r)=>{(n?U0(e,t,n):U0(e,t)).subscribe(r)})}(sf)))).pipe(Te(n=>{for(const t of n)if(!0!==t){if(t===sf)return sf;if(!1===t||t instanceof Sa)return t}return!0}),Si(n=>n!==sf),ds(1)))}function k_(e){return function Be(...e){return so(e)}(Nn(n=>{if(ps(n))throw M_(0,n)}),Te(n=>!0===n))}class af{constructor(n){this.segmentGroup=n||null}}class B_{constructor(n){this.urlTree=n}}function Ra(e){return ii(new af(e))}function V_(e){return ii(new B_(e))}class WO{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new K(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ee(r);if(i.numberOfChildren>1||!i.children[He])return ii(new K(4e3,!1));i=i.children[He]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const s=this.createSegmentGroup(n,t.root,r,i);return new Sa(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);r[i]=t[h]}else r[i]=s}),r}createSegmentGroup(n,t,r,i){const s=this.createSegments(n,t.segments,r,i);let c={};return Object.entries(t.children).forEach(([h,g])=>{c[h]=this.createSegmentGroup(n,g,r,i)}),new Dt(s,c)}createSegments(n,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const r1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $O(e,n,t,r,i){const s=i1(e,n,t);return s.matched?(r=function gO(e,n){return e.providers&&!e._injector&&(e._injector=Rp(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function jO(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?Ee(i.map(c=>{const h=Ma(c,e);return Io(function NO(e){return e&&Ac(e.canMatch)}(h)?h.canMatch(n,t):e.runInContext(()=>h(n,t)))})).pipe(Na(),k_()):Ee(!0)}(r,n,t).pipe(Te(c=>!0===c?s:{...r1}))):Ee(s)}function i1(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...r1}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||bR)(t,e,n);if(!i)return{...r1};const s={};Object.entries(i.posParams??{}).forEach(([h,g])=>{s[h]=g.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function U_(e,n,t,r){return t.length>0&&function XO(e,n,t){return t.some(r=>lf(e,n,r)&&oi(r)!==He)}(e,t,r)?{segmentGroup:new Dt(n,YO(r,new Dt(t,e.children))),slicedSegments:[]}:0===t.length&&function ZO(e,n,t){return t.some(r=>lf(e,n,r))}(e,t,r)?{segmentGroup:new Dt(e.segments,qO(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new Dt(e.segments,e.children),slicedSegments:t}}function qO(e,n,t,r,i){const s={};for(const c of r)if(lf(e,t,c)&&!i[oi(c)]){const h=new Dt([],{});s[oi(c)]=h}return{...i,...s}}function YO(e,n){const t={};t[He]=n;for(const r of e)if(""===r.path&&oi(r)!==He){const i=new Dt([],{});t[oi(r)]=i}return t}function lf(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class e6{constructor(n,t,r,i,s,c,h){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new WO(this.urlSerializer,this.urlTree)}noMatchError(n){return new K(4002,!1)}recognize(){const n=U_(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,He).pipe(Fr(t=>{if(t instanceof B_)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof af?this.noMatchError(t):t}),Te(t=>{const r=new tf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},He,this.rootComponentType,null,{}),i=new to(r,t),s=new I_("",i),c=function GR(e,n,t=null,r=null){return m_(g_(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,He).pipe(Fr(r=>{throw r instanceof af?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=D_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Jt(i).pipe(Da(s=>{const c=r.children[s],h=function CO(e,n){const t=e.filter(r=>oi(r)===n);return t.push(...e.filter(r=>oi(r)!==n)),t}(t,s);return this.processSegmentGroup(n,h,c,s)}),function wR(e,n){return Xe(function CR(e,n,t,r,i){return(s,c)=>{let h=t,g=n,m=0;s.subscribe(Ft(c,w=>{const E=m++;g=h?e(g,w,E):(h=!0,w),r&&c.next(g)},i&&(()=>{h&&c.next(g),c.complete()})))}}(e,n,arguments.length>=2,!0))}((s,c)=>(s.push(...c),s)),qd(null),function _R(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Si((i,s)=>e(i,s,r)):Mt,j0(1),t?qd(n):n_(()=>new $d))}(),pn(s=>{if(null===s)return Ra(r);const c=H_(s);return function t6(e){e.sort((n,t)=>n.value.outlet===He?-1:t.value.outlet===He?1:n.value.outlet.localeCompare(t.value.outlet))}(c),Ee(c)}))}processSegment(n,t,r,i,s,c){return Jt(t).pipe(Da(h=>this.processSegmentAgainstRoute(h._injector??n,t,h,r,i,s,c).pipe(Fr(g=>{if(g instanceof af)return Ee(null);throw g}))),fs(h=>!!h),Fr(h=>{if(F_(h))return function KO(e,n,t){return 0===n.length&&!e.children[t]}(r,i,s)?Ee([]):Ra(r);throw h}))}processSegmentAgainstRoute(n,t,r,i,s,c,h){return function QO(e,n,t,r){return!!(oi(e)===r||r!==He&&lf(n,t,e))&&("**"===e.path||i1(n,e,t).matched)}(r,i,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,s,c,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,s,c):Ra(i):Ra(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?V_(s):this.applyRedirects.lineralizeSegments(r,s).pipe(pn(c=>{const h=new Dt(c,{});return this.processSegment(n,t,h,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,c){const{matched:h,consumedSegments:g,remainingSegments:m,positionalParamSegments:w}=i1(t,i,s);if(!h)return Ra(t);const E=this.applyRedirects.applyRedirectCommands(g,i.redirectTo,w);return i.redirectTo.startsWith("/")?V_(E):this.applyRedirects.lineralizeSegments(i,E).pipe(pn(S=>this.processSegment(n,r,t,S.concat(m),c,!1)))}matchSegmentAgainstRoute(n,t,r,i,s,c){let h;if("**"===r.path){const g=i.length>0?i_(i).parameters:{};h=Ee({snapshot:new tf(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,j_(r),oi(r),r.component??r._loadedComponent??null,r,z_(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else h=$O(t,r,i,n).pipe(Te(({matched:g,consumedSegments:m,remainingSegments:w,parameters:E})=>g?{snapshot:new tf(m,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,j_(r),oi(r),r.component??r._loadedComponent??null,r,z_(r)),consumedSegments:m,remainingSegments:w}:null));return h.pipe(Ve(g=>null===g?Ra(t):this.getChildConfig(n=r._injector??n,r,i).pipe(Ve(({routes:m})=>{const w=r._loadedInjector??n,{snapshot:E,consumedSegments:S,remainingSegments:N}=g,{segmentGroup:F,slicedSegments:L}=U_(t,S,N,m);if(0===L.length&&F.hasChildren())return this.processChildren(w,m,F).pipe(Te($=>null===$?null:[new to(E,$)]));if(0===m.length&&0===L.length)return Ee([new to(E,[])]);const H=oi(r)===s;return this.processSegment(w,m,F,L,H?He:s,!0).pipe(Te($=>[new to(E,$)]))}))))}getChildConfig(n,t,r){return t.children?Ee({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Ee({routes:t._loadedRoutes,injector:t._loadedInjector}):function HO(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?Ee(!0):Ee(i.map(c=>{const h=Ma(c,e);return Io(function IO(e){return e&&Ac(e.canLoad)}(h)?h.canLoad(n,t):e.runInContext(()=>h(n,t)))})).pipe(Na(),k_())}(n,t,r).pipe(pn(i=>i?this.configLoader.loadChildren(n,t).pipe(Nn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function GO(e){return ii(N_(!1,3))}())):Ee({routes:[],injector:n})}}function n6(e){const n=e.value.routeConfig;return n&&""===n.path}function H_(e){const n=[],t=new Set;for(const r of e){if(!n6(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=H_(r.children);n.push(new to(r.value,i))}return n.filter(r=>!t.has(r))}function j_(e){return e.data||{}}function z_(e){return e.resolve||{}}function G_(e){return"string"==typeof e.title||null===e.title}function o1(e){return Ve(n=>{const t=e(n);return t?Jt(t).pipe(Te(()=>n)):Ee(n)})}const Oa=new pe("ROUTES");let s1=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ue(_C)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Io(t.loadComponent()).pipe(Te(W_),Nn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),uc(()=>{this.componentLoaders.delete(t)})),i=new t_(r,()=>new Ot).pipe(H0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Te(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,m;return Array.isArray(h)?m=h:(g=h.create(t).injector,m=g.get(Oa,[],Ue.Self|Ue.Optional).flat()),{routes:m.map(n1),injector:g}}),uc(()=>{this.childrenLoaders.delete(r)})),c=new t_(s,()=>new Ot).pipe(H0());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Io(t()).pipe(Te(W_),pn(r=>r instanceof Iv||Array.isArray(r)?Ee(r):Jt(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function W_(e){return function c6(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let cf=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ot,this.configLoader=ue(s1),this.environmentInjector=ue(_i),this.urlSerializer=ue(hc),this.rootContexts=ue(Cc),this.inputBindingEnabled=null!==ue(nf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new rO(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new nO(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new he({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Si(r=>0!==r.id),Te(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ve(r=>{let i=!1,s=!1;return Ee(r).pipe(Nn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ve(c=>{const h=t.browserUrlTree.toString(),g=!t.navigated||c.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!g&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const w="";return this.events.next(new vc(c.id,t.serializeUrl(r.rawUrl),w,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),gn}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return $_(c.source)&&(t.browserUrlTree=c.extractedUrl),Ee(c).pipe(Ve(w=>{const E=this.transitions?.getValue();return this.events.next(new Y0(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),E!==this.transitions?.getValue()?gn:Promise.resolve(w)}),function r6(e,n,t,r,i,s){return pn(c=>function JO(e,n,t,r,i,s,c="emptyOnly"){return new e6(e,n,t,r,i,c,s).recognize()}(e,n,t,r,c.extractedUrl,i,s).pipe(Te(({state:h,tree:g})=>({...c,targetSnapshot:h,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Nn(w=>{if(r.targetSnapshot=w.targetSnapshot,r.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!w.extras.skipLocationChange){const S=t.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);t.setBrowserUrl(S,w)}t.browserUrlTree=w.urlAfterRedirects}const E=new QR(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}));if(g&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:w,extractedUrl:E,source:S,restoredState:N,extras:F}=c,L=new Y0(w,this.urlSerializer.serialize(E),S,N);this.events.next(L);const H=A_(0,this.rootComponentType).snapshot;return Ee(r={...c,targetSnapshot:H,urlAfterRedirects:E,extras:{...F,skipLocationChange:!1,replaceUrl:!1}})}{const w="";return this.events.next(new vc(c.id,t.serializeUrl(r.extractedUrl),w,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),gn}}),Nn(c=>{const h=new KR(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Te(c=>r={...c,guards:EO(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function OO(e,n){return pn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?Ee({...t,guardsResult:!0}):function PO(e,n,t,r){return Jt(e).pipe(pn(i=>function UO(e,n,t,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?Ee(s.map(h=>{const g=Ec(n)??i,m=Ma(h,g);return Io(function MO(e){return e&&Ac(e.canDeactivate)}(m)?m.canDeactivate(e,n,t,r):g.runInContext(()=>m(e,n,t,r))).pipe(fs())})).pipe(Na()):Ee(!0)}(i.component,i.route,t,n,r)),fs(i=>!0!==i,!0))}(c,r,i,e).pipe(pn(h=>h&&function DO(e){return"boolean"==typeof e}(h)?function LO(e,n,t,r){return Jt(n).pipe(Da(i=>U0(function kO(e,n){return null!==e&&n&&n(new iO(e)),Ee(!0)}(i.route.parent,r),function FO(e,n){return null!==e&&n&&n(new sO(e)),Ee(!0)}(i.route,r),function VO(e,n,t){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(c=>function xO(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(c)).filter(c=>null!==c).map(c=>e_(()=>Ee(c.guards.map(g=>{const m=Ec(c.node)??t,w=Ma(g,m);return Io(function TO(e){return e&&Ac(e.canActivateChild)}(w)?w.canActivateChild(r,e):m.runInContext(()=>w(r,e))).pipe(fs())})).pipe(Na())));return Ee(s).pipe(Na())}(e,i.path,t),function BO(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Ee(!0);const i=r.map(s=>e_(()=>{const c=Ec(n)??t,h=Ma(s,c);return Io(function SO(e){return e&&Ac(e.canActivate)}(h)?h.canActivate(n,e):c.runInContext(()=>h(n,e))).pipe(fs())}));return Ee(i).pipe(Na())}(e,i.route,t))),fs(i=>!0!==i,!0))}(r,s,e,n):Ee(h)),Te(h=>({...t,guardsResult:h})))})}(this.environmentInjector,c=>this.events.next(c)),Nn(c=>{if(r.guardsResult=c.guardsResult,ps(c.guardsResult))throw M_(0,c.guardsResult);const h=new JR(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),Si(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),o1(c=>{if(c.guards.canActivateChecks.length)return Ee(c).pipe(Nn(h=>{const g=new eO(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),Ve(h=>{let g=!1;return Ee(h).pipe(function i6(e,n){return pn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ee(t);let s=0;return Jt(i).pipe(Da(c=>function o6(e,n,t,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!G_(i)&&(s[dc]=i.title),function s6(e,n,t,r){const i=function a6(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Ee({});const s={};return Jt(i).pipe(pn(c=>function l6(e,n,t,r){const i=Ec(n)??r,s=Ma(e,i);return Io(s.resolve?s.resolve(n,t):i.runInContext(()=>s(n,t)))}(e[c],n,t,r).pipe(fs(),Nn(h=>{s[c]=h}))),j0(1),function ER(e){return Te(()=>e)}(s),Fr(c=>F_(c)?gn:ii(c)))}(s,e,n,r).pipe(Te(c=>(e._resolvedData=c,e.data=D_(e,t).resolve,i&&G_(i)&&(e.data[dc]=i.title),null)))}(c.route,r,e,n)),Nn(()=>s++),j0(1),pn(c=>s===i.length?Ee(t):gn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Nn({next:()=>g=!0,complete:()=>{g||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),Nn(h=>{const g=new tO(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),o1(c=>{const h=g=>{const m=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(g.routeConfig).pipe(Nn(w=>{g.component=w}),Te(()=>{})));for(const w of g.children)m.push(...h(w));return m};return V0(h(c.targetSnapshot.root)).pipe(qd(),ds(1))}),o1(()=>this.afterPreactivation()),Te(c=>{const h=function fO(e,n,t){const r=_c(e,n._root,t?t._root:void 0);return new b_(r,n)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:h}}),Nn(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((e,n,t,r)=>Te(i=>(new _O(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ds(1),Nn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new So(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),uc(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Fr(c=>{if(s=!0,O_(c)){R_(c)||(t.navigated=!0,t.restoreHistory(r,!0));const h=new ef(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(h),R_(c)){const g=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),m={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||$_(r.source)};t.scheduleNavigation(g,yc,null,m,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const h=new X0(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(t.errorHandler(c))}catch(g){r.reject(g)}}return gn}))}))}cancelNavigationTransition(t,r,i){const s=new ef(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $_(e){return e!==yc}let q_=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===He);return r}getResolvedTitleForRoute(t){return t.data[dc]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return ue(u6)},providedIn:"root"}),e})(),u6=(()=>{class e extends q_{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(ne($w))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),d6=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return ue(h6)},providedIn:"root"}),e})();class f6{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let h6=(()=>{class e extends f6{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Mn(e)))(r||e)}}(),e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const uf=new pe("",{providedIn:"root",factory:()=>({})});let p6=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:function(){return ue(g6)},providedIn:"root"}),e})(),g6=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Dc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Dc||{});function Y_(e,n){e.events.pipe(Si(t=>t instanceof So||t instanceof ef||t instanceof X0||t instanceof vc),Te(t=>t instanceof So||t instanceof vc?Dc.COMPLETE:t instanceof ef&&(0===t.code||1===t.code)?Dc.REDIRECTING:Dc.FAILED),Si(t=>t!==Dc.REDIRECTING),ds(1)).subscribe(()=>{n()})}function m6(e){throw e}function y6(e,n,t){return n.parse("/")}const v6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ut=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ue(wC),this.isNgZoneEnabled=!1,this.options=ue(uf,{optional:!0})||{},this.pendingTasks=ue(bd),this.errorHandler=this.options.errorHandler||m6,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||y6,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ue(p6),this.routeReuseStrategy=ue(d6),this.titleStrategy=ue(q_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ue(Oa,{optional:!0})?.flat()??[],this.navigationTransitions=ue(cf),this.urlSerializer=ue(hc),this.location=ue(p0),this.componentInputBindingEnabled=!!ue(nf,{optional:!0}),this.isNgZoneEnabled=ue(Xt)instanceof Xt&&Xt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=A_(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const g={...i};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(s.state=g)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(n1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:g}=r,m=g?this.currentUrlTree.fragment:c;let E,w=null;switch(h){case"merge":w={...this.currentUrlTree.queryParams,...s};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}null!==w&&(w=this.removeEmptyProps(w));try{E=g_(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),E=this.currentUrlTree.root}return m_(E,t,w,m??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ps(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,yc,null,r)}navigate(t,r={skipLocationChange:!1}){return function w6(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new K(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...v6}:!1===r?{...C6}:r,ps(t))return s_(this.currentUrlTree,t,i);const s=this.parseUrl(t);return s_(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let h,g,m;c?(h=c.resolve,g=c.reject,m=c.promise):m=new Promise((E,S)=>{h=E,g=S});const w=this.pendingTasks.add();return Y_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:h,reject:g,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(E=>Promise.reject(E))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),no=(()=>{class e{constructor(t,r,i,s,c,h){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new Ot,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const g=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=t.events.subscribe(m=>{m instanceof So&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function Lm(e,n,t){return function ID(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Pm:Un}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(t){return new(t||e)(W(Ut),W(To),function Su(e){return function Yb(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(C(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===n)return t[i+1];i+=2}}}return null}(Tn(),e)}("tabindex"),W($i),W(wr),W(cs))},e.\u0275dir=ve({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&Ce("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Ai("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ba],skipLocationChange:["skipLocationChange","skipLocationChange",ba],replaceUrl:["replaceUrl","replaceUrl",ba],routerLink:"routerLink"},standalone:!0,features:[zy,Nr]}),e})();class X_{}let x6=(()=>{class e{constructor(t,r,i,s,c){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Si(t=>t instanceof So),Da(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Rp(s.providers,t,`Route: ${s.path}`));const c=s._injector??t,h=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(h,s.children??s._loadedRoutes))}return Jt(i).pipe(lo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ee(null);const s=i.pipe(pn(c=>null===c?Ee(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));return r.loadComponent&&!r._loadedComponent?Jt([s,this.loader.loadComponent(r)]).pipe(lo()):s})}}return e.\u0275fac=function(t){return new(t||e)(ne(Ut),ne(_C),ne(_i),ne(X_),ne(s1))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const a1=new pe("");let Z_=(()=>{class e{constructor(t,r,i,s,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Y0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof So?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof vc&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof E_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new E_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function yy(){throw new Error("invalid")}()},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function ro(e,n){return{\u0275kind:e,\u0275providers:n}}function K_(){const e=ue(Ei);return n=>{const t=e.get(xa);if(n!==t.components[0])return;const r=e.get(Ut),i=e.get(J_);1===e.get(l1)&&r.initialNavigation(),e.get(eE,null,Ue.Optional)?.setUpPreloading(),e.get(a1,null,Ue.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const J_=new pe("",{factory:()=>new Ot}),l1=new pe("",{providedIn:"root",factory:()=>1}),eE=new pe("");function I6(e){return ro(0,[{provide:eE,useExisting:x6},{provide:X_,useExisting:e}])}const tE=new pe("ROUTER_FORROOT_GUARD"),T6=[p0,{provide:hc,useClass:z0},Ut,Cc,{provide:To,useFactory:function Q_(e){return e.routerState.root},deps:[Ut]},s1,[]];function M6(){return new RC("Router",Ut)}let nE=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[T6,[],{provide:Oa,multi:!0,useValue:t},{provide:tE,useFactory:P6,deps:[[Ut,new Nu,new Ru]]},{provide:uf,useValue:r||{}},r?.useHash?{provide:cs,useClass:G4}:{provide:cs,useClass:sw},{provide:a1,useFactory:()=>{const e=ue(a8),n=ue(Xt),t=ue(uf),r=ue(cf),i=ue(hc);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Z_(i,r,e,n,t)}},r?.preloadingStrategy?I6(r.preloadingStrategy).\u0275providers:[],{provide:RC,multi:!0,useFactory:M6},r?.initialNavigation?L6(r):[],r?.bindToComponentInputs?ro(8,[T_,{provide:nf,useExisting:T_}]).\u0275providers:[],[{provide:rE,useFactory:K_},{provide:n0,multi:!0,useExisting:rE}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Oa,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(ne(tE,8))},e.\u0275mod=Gt({type:e}),e.\u0275inj=nr({}),e})();function P6(e){return"guarded"}function L6(e){return["disabled"===e.initialNavigation?ro(3,[{provide:Yp,multi:!0,useFactory:()=>{const n=ue(Ut);return()=>{n.setUpLocationChangeListener()}}},{provide:l1,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ro(2,[{provide:l1,useValue:0},{provide:Yp,multi:!0,deps:[Ei],useFactory:n=>{const t=n.get(j4,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(Ut),s=n.get(J_);Y_(i,()=>{r(!0)}),n.get(cf).afterPreactivation=()=>(r(!0),s.closed?Ee(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const rE=new pe("");function iE(e,n,t,r,i,s,c){try{var h=e[s](c),g=h.value}catch(m){return void t(m)}h.done?n(g):Promise.resolve(g).then(r,i)}var ye=function(e){return e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",e}(ye||{}),oE=new Map([[ye.QR_CODE,"QR_CODE"],[ye.AZTEC,"AZTEC"],[ye.CODABAR,"CODABAR"],[ye.CODE_39,"CODE_39"],[ye.CODE_93,"CODE_93"],[ye.CODE_128,"CODE_128"],[ye.DATA_MATRIX,"DATA_MATRIX"],[ye.MAXICODE,"MAXICODE"],[ye.ITF,"ITF"],[ye.EAN_13,"EAN_13"],[ye.EAN_8,"EAN_8"],[ye.PDF_417,"PDF_417"],[ye.RSS_14,"RSS_14"],[ye.RSS_EXPANDED,"RSS_EXPANDED"],[ye.UPC_A,"UPC_A"],[ye.UPC_E,"UPC_E"],[ye.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function V6(e){return Object.values(ye).includes(e)}var gs=function(e){return e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",e}(gs||{}),si=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[gs.SCAN_TYPE_CAMERA,gs.SCAN_TYPE_FILE],e}(),sE=function(){function e(n,t){this.format=n,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!oE.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,oE.get(n))},e}(),aE=function(){function e(){}return e.createFromText=function(n){return{decodedText:n,result:{text:n}}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),lE=function(e){return e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",e}(lE||{}),cE=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:lE.UNKWOWN_ERROR}},e}(),uE=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,t){(this.verbose||!0===t)&&console.error(n)},e.prototype.logErrors=function(n){if(0===n.length)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Ni(e){return typeof e>"u"||null===e}var e,Pa=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),It=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),dE=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),fE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,t){if("object"!=typeof n)return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(typeof n,"."),!0),!1;for(var s=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),h=0,g=Object.keys(n);h<g.length;h++){var m=g[h];if(s.has(m))return t.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),Ht=Q(834),hE=function(){function e(n,t,r){if(this.formatMap=new Map([[ye.QR_CODE,Ht.BarcodeFormat.QR_CODE],[ye.AZTEC,Ht.BarcodeFormat.AZTEC],[ye.CODABAR,Ht.BarcodeFormat.CODABAR],[ye.CODE_39,Ht.BarcodeFormat.CODE_39],[ye.CODE_93,Ht.BarcodeFormat.CODE_93],[ye.CODE_128,Ht.BarcodeFormat.CODE_128],[ye.DATA_MATRIX,Ht.BarcodeFormat.DATA_MATRIX],[ye.MAXICODE,Ht.BarcodeFormat.MAXICODE],[ye.ITF,Ht.BarcodeFormat.ITF],[ye.EAN_13,Ht.BarcodeFormat.EAN_13],[ye.EAN_8,Ht.BarcodeFormat.EAN_8],[ye.PDF_417,Ht.BarcodeFormat.PDF_417],[ye.RSS_14,Ht.BarcodeFormat.RSS_14],[ye.RSS_EXPANDED,Ht.BarcodeFormat.RSS_EXPANDED],[ye.UPC_A,Ht.BarcodeFormat.UPC_A],[ye.UPC_E,Ht.BarcodeFormat.UPC_E],[ye.UPC_EAN_EXTENSION,Ht.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ht)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var i=this.createZXingFormats(n),s=new Map;s.set(Ht.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Ht.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(n){var t=this;return new Promise(function(r,i){try{r(t.decode(n))}catch(s){i(s)}})},e.prototype.decode=function(n){var t=new Ht.MultiFormatReader(this.verbose,this.hints),r=new Ht.HTMLCanvasElementLuminanceSource(n),i=new Ht.BinaryBitmap(new Ht.HybridBinarizer(r)),s=t.decode(i);return{text:s.text,format:sE.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(t,r,i){n.set(t,r)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var t=[],r=0,i=n;r<i.length;r++){var s=i[r];this.formatMap.has(s)?t.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),pE=function(){function e(n,t,r){if(this.formatMap=new Map([[ye.QR_CODE,"qr_code"],[ye.AZTEC,"aztec"],[ye.CODABAR,"codabar"],[ye.CODE_39,"code_39"],[ye.CODE_93,"code_93"],[ye.CODE_128,"code_128"],[ye.DATA_MATRIX,"data_matrix"],[ye.ITF,"itf"],[ye.EAN_13,"ean_13"],[ye.EAN_8,"ean_8"],[ye.PDF_417,"pdf417"],[ye.UPC_A,"upc_a"],[ye.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var i=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},e.prototype.decodeAsync=function(n){return function(e,n,t,r){return new(t||(t=Promise))(function(s,c){function h(w){try{m(r.next(w))}catch(E){c(E)}}function g(w){try{m(r.throw(w))}catch(E){c(E)}}function m(w){w.done?s(w.value):function i(s){return s instanceof t?s:new t(function(c){c(s)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function(){var t,r;return function(e,n){var r,i,s,c,t={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(s=2&m[0]?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(s=(s=t.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){t.label=m[1];break}if(6===m[0]&&t.label<s[1]){t.label=s[1],s=m;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(m);break}s[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}}(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(n)];case 1:if(!(t=i.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(t)).rawValue,format:sE.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var t=null,r=0,i=0,s=n;i<s.length;i++){var c=s[i],h=c.boundingBox.width*c.boundingBox.height;h>r&&(r=h,t=c)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(n){for(var t=[],r=0,i=n;r<i.length;r++){var s=i[r];this.formatMap.has(s)?t.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(t,r,i){n.set(t,r)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),gE=function(e,n,t,r){return new(t||(t=Promise))(function(s,c){function h(w){try{m(r.next(w))}catch(E){c(E)}}function g(w){try{m(r.throw(w))}catch(E){c(E)}}function m(w){w.done?s(w.value):function i(s){return s instanceof t?s:new t(function(c){c(s)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})},mE=function(e,n){var r,i,s,c,t={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(s=2&m[0]?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(s=(s=t.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){t.label=m[1];break}if(6===m[0]&&t.label<s[1]){t.label=s[1],s=m;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(m);break}s[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},z6=function(){function e(n,t,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&pE.isSupported()?(this.primaryDecoder=new pE(n,r,i),this.secondaryDecoder=new hE(n,r,i)):this.primaryDecoder=new hE(n,r,i)}return e.prototype.decodeAsync=function(n){return gE(this,void 0,void 0,function(){var t;return mE(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return gE(this,void 0,void 0,function(){var t,r;return mE(this,function(i){switch(i.label){case 0:t=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var t=performance.now()-n;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,t=0,r=this.executionResults;t<r.length;t++)n+=r[t];console.log("".concat(n/this.executionResults.length," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),c1=(e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])})(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),df=function(e,n,t,r){return new(t||(t=Promise))(function(s,c){function h(w){try{m(r.next(w))}catch(E){c(E)}}function g(w){try{m(r.throw(w))}catch(E){c(E)}}function m(w){w.done?s(w.value):function i(s){return s instanceof t?s:new t(function(c){c(s)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})},ff=function(e,n){var r,i,s,c,t={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(s=2&m[0]?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(s=(s=t.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){t.label=m[1];break}if(6===m[0]&&t.label<s[1]){t.label=s[1],s=m;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(m);break}s[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},yE=function(){function e(n,t){this.name=n,this.track=t}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(n){var t={};return t[this.name]=n,this.track.applyConstraints({advanced:[t]})},e.prototype.value=function(){var n=this.track.getSettings();return this.name in n?n[this.name]:null},e}(),G6=function(e){function n(t,r){return e.call(this,t,r)||this}return c1(n,e),n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(t){var r={};return r[this.name]=t,this.track.applyConstraints({advanced:[r]})},n.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities()[this.name];return{min:r.min,max:r.max,step:r.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(yE),W6=function(e){function n(t){return e.call(this,"zoom",t)||this}return c1(n,e),n}(G6),$6=function(e){function n(t){return e.call(this,"torch",t)||this}return c1(n,e),n}(yE),q6=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new W6(this.track)},e.prototype.torchFeature=function(){return new $6(this.track)},e}(),Y6=function(){function e(n,t,r){this.isClosed=!1,this.parentElement=n,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var t=document.createElement("video");return t.style.width="".concat(n,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){n.callbacks.onRenderSurfaceReady(n.surface.clientWidth,n.surface.clientHeight),n.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,t,r,i){return df(this,void 0,void 0,function(){var s,c;return ff(this,function(h){switch(h.label){case 0:return s=new e(n,t,i),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var t=this,r=function(){setTimeout(n,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return df(this,void 0,void 0,function(){return ff(this,function(t){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(t,r){var s=n.mediaStream.getVideoTracks().length,c=0;n.mediaStream.getVideoTracks().forEach(function(h){n.mediaStream.removeTrack(h),h.stop(),++c>=s&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),t())})})},e.prototype.getCapabilities=function(){return new q6(this.getFirstTrackOrFail())},e}(),X6=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,t,r){return df(this,void 0,void 0,function(){return ff(this,function(i){return[2,Y6.create(n,this.mediaStream,t,r)]})})},e.create=function(n){return df(this,void 0,void 0,function(){return ff(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[4,navigator.mediaDevices.getUserMedia({audio:!1,video:n})];case 1:return[2,new e(i.sent())]}})})},e}(),vE=function(e,n,t,r){return new(t||(t=Promise))(function(s,c){function h(w){try{m(r.next(w))}catch(E){c(E)}}function g(w){try{m(r.throw(w))}catch(E){c(E)}}function m(w){w.done?s(w.value):function i(s){return s instanceof t?s:new t(function(c){c(s)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})},CE=function(e,n){var r,i,s,c,t={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(s=2&m[0]?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(s=(s=t.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){t.label=m[1];break}if(6===m[0]&&t.label<s[1]){t.label=s[1],s=m;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(m);break}s[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},Z6=function(){function e(){}return e.failIfNotSupported=function(){return vE(this,void 0,void 0,function(){return CE(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return vE(this,void 0,void 0,function(){return CE(this,function(t){return[2,X6.create(n)]})})},e}(),J6=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Pa.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Pa.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var n=location.host.split(":")[0];return"127.0.0.1"===n||"localhost"===n},e.getCamerasFromMediaDevices=function(){return function(e,n,t,r){return new(t||(t=Promise))(function(s,c){function h(w){try{m(r.next(w))}catch(E){c(E)}}function g(w){try{m(r.throw(w))}catch(E){c(E)}}function m(w){w.done?s(w.value):function i(s){return s instanceof t?s:new t(function(c){c(s)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function(){var n,t,r,i,s,c,h;return function(e,n){var r,i,s,c,t={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(s=2&m[0]?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(s=(s=t.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){t.label=m[1];break}if(6===m[0]&&t.label<s[1]){t.label=s[1],s=m;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(m);break}s[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}}(this,function(g){switch(g.label){case 0:return n=function(m){for(var E=0,S=m.getVideoTracks();E<S.length;E++){var N=S[E];N.enabled=!1,N.stop(),m.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),i=[],s=0,c=r;s<c.length;s++)"videoinput"===(h=c[s]).kind&&i.push({id:h.deviceId,label:h.label});return n(t),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,t){MediaStreamTrack.getSources(function(s){for(var c=[],h=0,g=s;h<g.length;h++){var m=g[h];"video"===m.kind&&c.push({id:m.id,label:m.label})}n(c)})})},e}(),sn=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED",e}(sn||{}),eP=function(){function e(){this.state=sn.NOT_STARTED,this.onGoingTransactionNewState=sn.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===sn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=sn.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===sn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=sn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==sn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case sn.UNKNOWN:throw"Transition from unknown is not allowed";case sn.NOT_STARTED:this.failIfNewStateIs(n,[sn.PAUSED])}},e.prototype.failIfNewStateIs=function(n,t){for(var r=0,i=t;r<i.length;r++)if(n===i[r])throw"Cannot transition from ".concat(this.state," to ").concat(n)},e}(),tP=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===sn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==sn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===sn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===sn.PAUSED},e}(),nP=function(){function e(){}return e.create=function(){return new tP(new eP)},e}(),rP=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])})(n,t)};return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ar=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return rP(n,e),n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(si),iP=function(){function e(n,t){this.logger=t,this.fps=Ar.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=!0===n.disableFlip,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=Ar.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?fE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ni(this.qrbox)},e.create=function(n,t){return new e(n,t)},e}(),La=function(){function e(n,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");var i;this.elementId=n,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(this.verbose=!0===(i=t).verbose),this.logger=new uE(this.verbose),this.qrcode=new z6(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.shouldScan=!0,this.stateManagerProxy=nP.create()}return e.prototype.start=function(n,t,r,i){var c,s=this;if(!n)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";c=i||(this.verbose?this.logger.log:function(){});var h=iP.create(t,this.logger);this.clearElement();var g=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=g,w=document.getElementById(this.elementId);w.style.position="relative",this.shouldScan=!0,this.element=w;var S=this,N=this.stateManagerProxy.startTransition(sn.SCANNING);return new Promise(function(F,L){var H=m?h.videoConstraints:S.createVideoConstraints(n);if(!H)return N.cancel(),void L("videoConstraints should be defined");var $={};(!m||h.aspectRatio)&&($.aspectRatio=h.aspectRatio);var V={onRenderSurfaceReady:function(ee,ge){S.setupUi(ee,ge,h),S.isScanning=!0,S.foreverScan(h,r,c)}};Z6.failIfNotSupported().then(function(ee){ee.create(H).then(function(ge){return ge.render(s.element,$,V).then(function(me){S.renderedCamera=me,N.execute(),F(null)}).catch(function(me){N.cancel(),L(me)})}).catch(function(ge){N.cancel(),L(Pa.errorGettingUserMedia(ge))})}).catch(function(ee){N.cancel(),L(Pa.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(sn.PAUSED),this.showPausedState(),(Ni(n)||!0!==n)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,t=function(){n.stateManagerProxy.directTransition(sn.SCANNING),n.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){t()}):t()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(sn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),function(){if(n.element){var s=document.getElementById(Ar.SHADED_REGION_ELEMENT_ID);s&&n.element.removeChild(s)}}(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),t.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,t){return this.scanFileV2(n,t).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(n,t){var r=this;if(!(n&&n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ni(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(n);var c=new Image;c.onload=function(){var h=c.width,g=c.height,m=document.getElementById(r.elementId),w=m.clientWidth?m.clientWidth:Ar.DEFAULT_WIDTH,E=Math.max(m.clientHeight?m.clientHeight:g,Ar.FILE_SCAN_MIN_HEIGHT),S=r.computeCanvasDrawConfig(h,g,w,E);if(t){var N=r.createCanvasElement(w,E,"qr-canvas-visible");N.style.display="inline-block",m.appendChild(N);var F=N.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=w,F.canvas.height=E,F.drawImage(c,0,0,h,g,S.x,S.y,S.width,S.height)}var L=Ar.FILE_SCAN_HIDDEN_CANVAS_PADDING,H=Math.max(c.width,S.width),$=Math.max(c.height,S.height),V=H+2*L,ee=$+2*L,ge=r.createCanvasElement(V,ee);m.appendChild(ge);var me=ge.getContext("2d");if(!me)throw"Unable to get 2d context from canvas";me.canvas.width=V,me.canvas.height=ee,me.drawImage(c,0,0,h,g,L,L,H,$);try{r.qrcode.decodeRobustlyAsync(ge).then(function(yt){i(aE.createFromQrcodeResult(yt))}).catch(s)}catch(yt){s("QR code parse error, error = ".concat(yt))}},c.onerror=s,c.onabort=s,c.onstalled=s,c.onsuspend=s,c.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return J6.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(!n)throw"videoConstaints is required argument.";if(!fE.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){if(!n||"boolean"==typeof n||!n.formatsToSupport)return[ye.QR_CODE,ye.AZTEC,ye.CODABAR,ye.CODE_39,ye.CODE_93,ye.CODE_128,ye.DATA_MATRIX,ye.MAXICODE,ye.ITF,ye.EAN_13,ye.EAN_8,ye.PDF_417,ye.RSS_14,ye.RSS_EXPANDED,ye.UPC_A,ye.UPC_E,ye.UPC_EAN_EXTENSION];if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===n.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=n.formatsToSupport;i<s.length;i++){var c=s[i];V6(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Ni(n))return!0;if(!Ni(n.useBarCodeDetectorIfSupported))return!1!==n.useBarCodeDetectorIfSupported;if(Ni(n.experimentalFeatures))return!0;var t=n.experimentalFeatures;return!!Ni(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(n,t,r){var s=r.qrbox;this.validateQrboxConfig(s);var m,c=this.toQrdimensions(n,t,s),h=function(m){if(m<Ar.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ar.MIN_QR_BOX_SIZE,"px.")};h(c.width),h(c.height),c.width=((m=c.width)>n&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=n),m)},e.prototype.validateQrboxConfig=function(n){if("number"!=typeof n&&"function"!=typeof n&&(void 0===n.width||void 0===n.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,t,r){if("number"==typeof r)return{width:r,height:r};if("function"==typeof r)try{return r(n,t)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(n,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(n,t,r);var i=Ni(r.qrbox)?{width:n,height:t}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(n,t,i);s.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&s.height<=t,h={x:0,y:0,width:n,height:t},g=c?this.getShadedRegionBounds(n,t,s):h,m=this.createCanvasElement(g.width,g.height),E=m.getContext("2d",{willReadFrequently:!0});E.canvas.width=g.width,E.canvas.height=g.height,this.element.append(m),c&&this.possiblyInsertShadingElement(this.element,n,t,s),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=E,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(n){var t=document.createElement("div");t.innerText=Pa.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",n.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(n,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return n(i.text,aE.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=Pa.codeParseError(i);return t(s,cE.createFrom(s)),!1})},e.prototype.foreverScan=function(n,t,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),c=s.videoWidth/s.clientWidth,h=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(s,this.qrRegion.x*c,this.qrRegion.y*h,this.qrRegion.width*c,this.qrRegion.height*h,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(n,t,r)},i.getTimeoutFps(n.fps))};this.scanContext(t,r).then(function(N){N||!0===n.disableFlip?S():(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(t,r).finally(function(){S()}))}).catch(function(N){i.logger.logError("Error happend while scanning context",N),S()})}},e.prototype.createVideoConstraints=function(n){if("string"==typeof n)return{deviceId:{exact:n}};if("object"==typeof n){var t="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",c=function(F){if(F in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(F,"'")},h=Object.keys(n);if(1!==h.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var g=Object.keys(n)[0];if(g!==t&&g!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g!==t){var E=n.deviceId;if("string"==typeof E)return{deviceId:E};if("object"==typeof E){if(s in E)return{deviceId:{exact:E["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof E)}var m=n.facingMode;if("string"==typeof m){if(c(m))return{facingMode:m}}else{if("object"!=typeof m)throw"Invalid type of 'facingMode' = ".concat(typeof m);if(!(s in m))throw"'facingMode' should be string or object with"+" ".concat(s," as key.");if(c(m["".concat(s)]))return{facingMode:{exact:m["".concat(s)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof n)},e.prototype.computeCanvasDrawConfig=function(n,t,r,i){if(n<=r&&t<=i)return{x:(r-n)/2,y:(i-t)/2,width:n,height:t};var h=n,g=t;return n>r&&(t*=r/n,n=r),t>i&&(n*=i/t,t=i),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(g)+" to ".concat(n,"X").concat(t,".")),this.computeCanvasDrawConfig(n,t,r,i)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=n?Ar.BORDER_SHADER_MATCH_COLOR:Ar.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,t,r){var i=n,s=t,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(s,"px"),c.style.display="none",c.id=Ni(r)?"qr-canvas":r,c},e.prototype.getShadedRegionBounds=function(n,t,r){if(r.width>n||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(n,t,r,i){if(!(t-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var c=(t-i.width)/2,h=(r-i.height)/2;if(s.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Ar.SHADED_REGION_ELEMENT_ID),t-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{this.insertShaderBorders(s,40,5,-5,null,0,!0),this.insertShaderBorders(s,40,5,-5,null,0,!1),this.insertShaderBorders(s,40,5,null,-5,0,!0),this.insertShaderBorders(s,40,5,null,-5,0,!1),this.insertShaderBorders(s,5,45,-5,null,-5,!0),this.insertShaderBorders(s,5,45,null,-5,-5,!0),this.insertShaderBorders(s,5,45,-5,null,-5,!1),this.insertShaderBorders(s,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}n.append(s)}},e.prototype.insertShaderBorders=function(n,t,r,i,s,c,h){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=Ar.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(t,"px"),g.style.height="".concat(r,"px"),null!==i&&(g.style.top="".concat(i,"px")),null!==s&&(g.style.bottom="".concat(s,"px")),h?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),n.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),u1="data:image/svg+xml;base64,",oP=u1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",sP=u1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",wE=u1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",_E=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),lP=function(){function e(){this.data=_E.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=_E.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),cP=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=dE.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var s=document.createElement("a");s.innerText=dE.reportIssues(),s.href="https://github.com/mebjas/html5-qrcode/issues",s.target="new",s.style.color="white",this.infoDiv.appendChild(s),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),uP=function(){function e(n,t){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=t,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=wE,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return t.onHoverIn()},this.infoIcon.onmouseout=function(r){return t.onHoverOut()},this.infoIcon.onclick=function(r){return t.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=wE,this.infoIcon.style.opacity="0.6")},e}(),dP=function(){function e(){var n=this;this.infoDiv=new cP,this.infoIcon=new uP(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),EE=function(){function e(){}return e.hasPermissions=function(){return function(e,n,t,r){return new(t||(t=Promise))(function(s,c){function h(w){try{m(r.next(w))}catch(E){c(E)}}function g(w){try{m(r.throw(w))}catch(E){c(E)}}function m(w){w.done?s(w.value):function i(s){return s instanceof t?s:new t(function(c){c(s)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function(){var n,t,r,i;return function(e,n){var r,i,s,c,t={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(s=2&m[0]?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(s=(s=t.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){t.label=m[1];break}if(6===m[0]&&t.label<s[1]){t.label=s[1],s=m;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(m);break}s[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}}(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=s.sent(),t=0,r=n;t<r.length;t++)if("videoinput"===(i=r[t]).kind&&i.label)return[2,!0];return[2,!1]}})})},e}(),Mo=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,t=this.supportedScanTypes;n<t.length;n++)if(e.isCameraScanType(t[n]))return!0;return!1},e.isCameraScanType=function(n){return n===gs.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===gs.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||0===n.length)return si.DEFAULT_SUPPORTED_SCAN_TYPE;var t=si.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var r=0,i=n;r<i.length;r++){var s=i[r];if(!si.DEFAULT_SUPPORTED_SCAN_TYPE.includes(s))throw"Unsupported scan type ".concat(s)}return n},e}(),Dr=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),io=function(){function e(){}return e.createElement=function(n,t){var r=document.createElement(n);return r.id=t,r.classList.add(Dr.ALL_ELEMENT_CLASS),"button"===n&&r.setAttribute("type","button"),r},e}(),xE=function(e,n,t,r){return new(t||(t=Promise))(function(s,c){function h(w){try{m(r.next(w))}catch(E){c(E)}}function g(w){try{m(r.throw(w))}catch(E){c(E)}}function m(w){w.done?s(w.value):function i(s){return s instanceof t?s:new t(function(c){c(s)})}(w.value).then(h,g)}m((r=r.apply(e,n||[])).next())})},bE=function(e,n){var r,i,s,c,t={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(w){return function g(m){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(t=0)),t;)try{if(r=1,i&&(s=2&m[0]?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,i=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(!(s=(s=t.trys).length>0&&s[s.length-1])&&(6===m[0]||2===m[0])){t=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){t.label=m[1];break}if(6===m[0]&&t.label<s[1]){t.label=s[1],s=m;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(m);break}s[2]&&t.ops.pop(),t.trys.pop();continue}m=n.call(e,t)}catch(w){m=[6,w],i=0}finally{r=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,w])}}},AE=function(){function e(n,t,r){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=t,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return xE(this,void 0,void 0,function(){var n,t;return bE(this,function(r){switch(r.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return t=r.sent(),this.propagateFailure(n,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,t){n===t?(this.buttonController.setText(t?It.torchOffButton():It.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},e.prototype.propagateFailure=function(n,t){var r=n?It.torchOnFailedMessage():It.torchOffFailedMessage();t&&(r+="; Error = "+t),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),pP=function(){function e(n,t){this.onTorchActionFailureCallback=t,this.torchButton=io.createElement("button",Dr.TORCH_BUTTON_ID),this.torchController=new AE(n,this,t)}return e.prototype.render=function(n,t){var r=this;this.torchButton.innerText=It.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var i=this;this.torchButton.addEventListener("click",function(s){return xE(r,void 0,void 0,function(){return bE(this,function(c){switch(c.label){case 0:return[4,i.torchController.flipState()];case 1:return c.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Dr.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Dr.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Dr.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Dr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new AE(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=It.torchOnButton(),this.torchController.reset()},e.create=function(n,t,r,i){var s=new e(t,i);return s.render(n,r),s},e}(),gP=function(){function e(n,t,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",n.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=io.createElement("button",Dr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(h){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=io.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var s=this;this.fileScanInput.addEventListener("change",function(h){if(null!=h&&null!=h.target){var g=h.target;if(!g.files||0!==g.files.length){var w=g.files[0];s.setImageNameToButton(w.name),r(w)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(h){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(h){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(h){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(h){h.stopPropagation(),h.preventDefault(),s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder();var g=h.dataTransfer;if(g){var m=g.files;if(!m||0===m.length)return;for(var w=!1,E=0;E<m.length;++E){var S=m.item(E);if(S&&S.type.match(/image.*/)){w=!0,s.setImageNameToButton(S.name),r(S),c.innerText=It.dragAndDropMessage();break}}w||(c.innerText=It.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=It.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){if(n.length>20){var r=n.substring(0,8),i=n.length,s=n.substring(i-8,i);n="".concat(r,"....").concat(s)}var c=It.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var n=It.fileSelectionChooseImage()+" - "+It.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,t,r){return new e(n,t,r)},e}(),mP=function(){function e(n){this.selectElement=io.createElement("select",Dr.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var t=document.createElement("span");t.style.marginRight="10px";var r=this.cameras.length;if(0===r)throw new Error("No cameras found");if(1===r)t.style.display="none";else{var i=It.selectCamera();t.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var s=1,c=0,h=this.cameras;c<h.length;c++){var g=h[c],m=g.id,w=null==g.label?m:g.label;(!w||""===w)&&(w=[It.anonymousCameraPrefix(),s++].join(" "));var E=document.createElement("option");E.value=m,E.innerText=w,this.options.push(E),this.selectElement.appendChild(E)}t.appendChild(this.selectElement),n.appendChild(t)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var t=0,r=this.options;t<r.length;t++)if(r[t].value===n)return!0;return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,t){var r=new e(t);return r.render(n),r},e}(),yP=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=io.createElement("input",Dr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=It.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=It.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,t,r,i){this.rangeInput.min=n.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,t){var r=new e;return r.render(n,t),r},e}(),kr=function(e){return e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",e}(kr||{});!function(){function e(n,t,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(t),this.verbose=!0===r,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new Mo(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new uE(this.verbose),this.persistedDataManager=new lP,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}e.prototype.render=function(n,t){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(s,c){if(n)n(s,c);else{if(r.lastMatchFound===s)return;r.lastMatchFound=s,r.setHeaderMessage(It.lastMatch(s),kr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(s,c){t&&t(s,c)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new La(this.getScanRegionId(),function CP(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}(this.config,this.verbose))},e.prototype.pause=function(n){(Ni(n)||!0!==n)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,t=function(){var r=document.getElementById(n.elementId);r&&(r.innerHTML="",n.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){n.html5Qrcode?n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(s){n.html5Qrcode?(n.html5Qrcode.clear(),t(),r()):r()}).catch(function(s){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",s),i(s)}):(n.html5Qrcode.clear(),t(),r()):r()}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=si.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!si.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=si.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=si.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:si.SCAN_DEFAULT_FPS,rememberLastUsedCamera:si.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:si.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var t=document.createElement("div"),r=this.getScanRegionId();t.id=r,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",n.appendChild(t),Mo.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),s=this.getDashboardId();i.id=s,i.style.width="100%",n.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",n.appendChild(t),(new dP).renderInto(t);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",t.appendChild(i)},e.prototype.createSection=function(n){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",n.appendChild(t)},e.prototype.createCameraListUi=function(n,t,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(It.cameraPermissionRequesting());var s=function(){r||i.createPermissionButton(n,t)};La.getCameras().then(function(c){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),c&&c.length>0?(n.removeChild(t),i.renderCameraSelection(c)):(i.setHeaderMessage(It.noCameraFound(),kr.STATUS_WARNING),s())}).catch(function(c){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:s(),i.setHeaderMessage(c,kr.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,t){var r=this,i=io.createElement("button",this.getCameraPermissionButtonId());i.innerText=It.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(n,t,i)}),t.appendChild(i)},e.prototype.createPermissionsUi=function(n,t){var r=this;Mo.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?EE.hasPermissions().then(function(i){i?r.createCameraListUi(n,t):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(n,t))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(n,t)}):this.createPermissionButton(n,t)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");n.appendChild(t);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Mo.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(t)},e.prototype.renderFileScanUi=function(n){var t=Mo.isFileScanType(this.currentScanType),r=this;this.fileSelectionUi=gP.create(n,t,function(s){if(!r.html5Qrcode)throw"html5Qrcode not defined";Mo.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(It.loadingImage()),r.html5Qrcode.scanFileV2(s,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,kr.STATUS_WARNING),r.qrCodeErrorCallback(c,cE.createFrom(c))}))})},e.prototype.renderCameraSelection=function(n){var t=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var s=yP.create(i,!1),h=mP.create(i,n),g=document.createElement("span"),m=io.createElement("button",Dr.CAMERA_START_BUTTON_ID);m.innerText=It.scanButtonStartScanningText(),g.appendChild(m);var E,w=io.createElement("button",Dr.CAMERA_STOP_BUTTON_ID);w.innerText=It.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,g.appendChild(w),i.appendChild(g);var N=function(L){L||(m.style.display="none"),m.innerText=It.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,L&&(m.style.display="inline-block")};if(m.addEventListener("click",function(L){m.innerText=It.scanButtonScanningStarting(),h.disable(),m.disabled=!0,m.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var H=h.getValue();r.persistedDataManager.setLastUsedCameraId(H),r.html5Qrcode.start(H,function vP(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function($){w.disabled=!1,w.style.display="inline-block",N(!1);var V=r.html5Qrcode.getRunningTrackCameraCapabilities();!0===t.config.showTorchButtonIfSupported&&function(L){L.torchFeature().isSupported()?(E?E.updateTorchCapability(L.torchFeature()):E=pP.create(g,L.torchFeature(),{display:"none",marginLeft:"5px"},function(H){r.setHeaderMessage(H,kr.STATUS_WARNING)}),E.show()):E&&E.hide()}(V),!0===t.config.showZoomSliderIfSupported&&function(L){var H=L.zoomFeature();if(H.isSupported()){s.setOnCameraZoomValueChangeCallback(function(V){H.apply(V)});var $=1;t.config.defaultZoomValueIfSupported&&($=t.config.defaultZoomValueIfSupported),$=function U6(e,n,t){return e>t?t:e<n?n:e}($,H.min(),H.max()),s.setValues(H.min(),H.max(),$,H.step()),s.show()}}(V)}).catch(function($){r.showHideScanTypeSwapLink(!0),h.enable(),N(!0),r.setHeaderMessage($,kr.STATUS_WARNING)})}),h.hasSingleItem()&&m.click(),w.addEventListener("click",function(L){if(!r.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,r.html5Qrcode.stop().then(function(H){t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),h.enable(),m.disabled=!1,w.style.display="none",m.style.display="inline-block",E&&(E.reset(),E.hide()),s.removeOnCameraZoomValueChangeCallback(),s.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(H){w.disabled=!1,r.setHeaderMessage(H,kr.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var F=r.persistedDataManager.getLastUsedCameraId();h.hasValue(F)?(h.setValue(F),m.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,t=It.textIfCameraScanSelected(),r=It.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");s.style.textAlign="center";var c=io.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=Mo.isCameraScanType(this.currentScanType)?t:r,c.addEventListener("click",function(){n.sectionSwapAllowed?(n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,Mo.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),c.innerText=r,n.currentScanType=gs.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),c.innerText=t,n.currentScanType=gs.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0):n.verbose&&n.logger.logError("Section swap called when not allowed")}),s.appendChild(c),i.appendChild(s)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,t=this;this.persistedDataManager.hasCameraPermissions()&&EE.hasPermissions().then(function(r){if(r){var i=document.getElementById(t.getCameraPermissionButtonId());if(!i)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(r){t.persistedDataManager.setHasPermission(!1)})},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(n,t){t||(t=kr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=n,r.style.display="block",t){case kr.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case kr.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==n&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=oP,this.cameraScanImage.alt=It.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=sP,this.fileScanImage.alt=It.fileScanAltText()},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Dr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Dr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();class hf{}class pf{}class Ir{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ir?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Ir;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ir?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=n.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class wP{encodeKey(n){return DE(n)}encodeValue(n){return DE(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const EP=/%(\d[a-f0-9])/gi,xP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DE(e){return encodeURIComponent(e).replace(EP,(n,t)=>xP[t]??n)}function gf(e){return`${e}`}class No{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new wP,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _P(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,h]=-1==s?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,s)),n.decodeValue(i.slice(s+1))],g=t.get(c)||[];g.push(h),t.set(c,g)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(gf):[gf(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new No({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(gf(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(gf(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class bP{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function IE(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function SE(e){return typeof Blob<"u"&&e instanceof Blob}function TE(e){return typeof FormData<"u"&&e instanceof FormData}class Ic{constructor(n,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function AP(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ir),this.context||(this.context=new bP),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new No,this.urlWithParams=t}serializeBody(){return null===this.body?null:IE(this.body)||SE(this.body)||TE(this.body)||function DP(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof No?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||TE(this.body)?null:SE(this.body)?this.body.type||null:IE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof No?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,c=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,h=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let g=n.headers||this.headers,m=n.params||this.params;const w=n.context??this.context;return void 0!==n.setHeaders&&(g=Object.keys(n.setHeaders).reduce((E,S)=>E.set(S,n.setHeaders[S]),g)),n.setParams&&(m=Object.keys(n.setParams).reduce((E,S)=>E.set(S,n.setParams[S]),m)),new Ic(t,r,s,{params:m,headers:g,context:w,reportProgress:h,responseType:i,withCredentials:c})}}var Fa=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Fa||{});class d1{constructor(n,t=200,r="OK"){this.headers=n.headers||new Ir,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class f1 extends d1{constructor(n={}){super(n),this.type=Fa.ResponseHeader}clone(n={}){return new f1({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ka extends d1{constructor(n={}){super(n),this.type=Fa.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new ka({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Qn extends d1{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function h1(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let jn=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Ic)s=t;else{let g,m;g=i.headers instanceof Ir?i.headers:new Ir(i.headers),i.params&&(m=i.params instanceof No?i.params:new No({fromObject:i.params})),s=new Ic(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:m,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=Ee(s).pipe(Da(g=>this.handler.handle(g)));if(t instanceof Ic||"events"===i.observe)return c;const h=c.pipe(Si(g=>g instanceof ka));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe(Te(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe(Te(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe(Te(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe(Te(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new No).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,h1(i,r))}post(t,r,i={}){return this.request("POST",t,h1(i,r))}put(t,r,i={}){return this.request("PUT",t,h1(i,r))}}return e.\u0275fac=function(t){return new(t||e)(ne(hf))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function RE(e,n){return n(e)}function SP(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const OE=new pe(""),Sc=new pe(""),PE=new pe("");function MP(){let e=null;return(n,t)=>{null===e&&(e=(ue(OE,{optional:!0})??[]).reduceRight(SP,RE));const r=ue(bd),i=r.add();return e(n,t).pipe(uc(()=>r.remove(i)))}}let LE=(()=>{class e extends hf{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=ue(bd)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Sc),...this.injector.get(PE,[])]));this.chain=i.reduceRight((s,c)=>function TP(e,n,t){return(r,i)=>t.runInContext(()=>n(r,s=>e(s,i)))}(s,c,this.injector),RE)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(uc(()=>this.pendingTasks.remove(r)))}}return e.\u0275fac=function(t){return new(t||e)(ne(pf),ne(_i))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const PP=/^\)\]\}',?\n/;let kE=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new K(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Jt(r.\u0275loadImpl()):Ee(null)).pipe(Ve(()=>new vt(s=>{const c=r.build();if(c.open(t.method,t.urlWithParams),t.withCredentials&&(c.withCredentials=!0),t.headers.forEach((L,H)=>c.setRequestHeader(L,H.join(","))),t.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const L=t.detectContentTypeHeader();null!==L&&c.setRequestHeader("Content-Type",L)}if(t.responseType){const L=t.responseType.toLowerCase();c.responseType="json"!==L?L:"text"}const h=t.serializeBody();let g=null;const m=()=>{if(null!==g)return g;const L=c.statusText||"OK",H=new Ir(c.getAllResponseHeaders()),$=function LP(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(c)||t.url;return g=new f1({headers:H,status:c.status,statusText:L,url:$}),g},w=()=>{let{headers:L,status:H,statusText:$,url:V}=m(),ee=null;204!==H&&(ee=typeof c.response>"u"?c.responseText:c.response),0===H&&(H=ee?200:0);let ge=H>=200&&H<300;if("json"===t.responseType&&"string"==typeof ee){const me=ee;ee=ee.replace(PP,"");try{ee=""!==ee?JSON.parse(ee):null}catch(yt){ee=me,ge&&(ge=!1,ee={error:yt,text:ee})}}ge?(s.next(new ka({body:ee,headers:L,status:H,statusText:$,url:V||void 0})),s.complete()):s.error(new Qn({error:ee,headers:L,status:H,statusText:$,url:V||void 0}))},E=L=>{const{url:H}=m(),$=new Qn({error:L,status:c.status||0,statusText:c.statusText||"Unknown Error",url:H||void 0});s.error($)};let S=!1;const N=L=>{S||(s.next(m()),S=!0);let H={type:Fa.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(H.total=L.total),"text"===t.responseType&&c.responseText&&(H.partialText=c.responseText),s.next(H)},F=L=>{let H={type:Fa.UploadProgress,loaded:L.loaded};L.lengthComputable&&(H.total=L.total),s.next(H)};return c.addEventListener("load",w),c.addEventListener("error",E),c.addEventListener("timeout",E),c.addEventListener("abort",E),t.reportProgress&&(c.addEventListener("progress",N),null!==h&&c.upload&&c.upload.addEventListener("progress",F)),c.send(h),s.next({type:Fa.Sent}),()=>{c.removeEventListener("error",E),c.removeEventListener("abort",E),c.removeEventListener("load",w),c.removeEventListener("timeout",E),t.reportProgress&&(c.removeEventListener("progress",N),null!==h&&c.upload&&c.upload.removeEventListener("progress",F)),c.readyState!==c.DONE&&c.abort()}})))}}return e.\u0275fac=function(t){return new(t||e)(ne(Sw))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const p1=new pe("XSRF_ENABLED"),BE=new pe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),VE=new pe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class UE{}let BP=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=mw(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(ne(xr),ne(rs),ne(BE))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function VP(e,n){const t=e.url.toLowerCase();if(!ue(p1)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=ue(UE).getToken(),i=ue(VE);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var Ro=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Ro||{});function ms(e,n){return{\u0275kind:e,\u0275providers:n}}function UP(...e){const n=[jn,kE,LE,{provide:hf,useExisting:LE},{provide:pf,useExisting:kE},{provide:Sc,useValue:VP,multi:!0},{provide:p1,useValue:!0},{provide:UE,useClass:BP}];for(const t of e)n.push(...t.\u0275providers);return function Oh(e){return{\u0275providers:e}}(n)}const HE=new pe("LEGACY_INTERCEPTOR_FN");let jP=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=nr({providers:[UP(ms(Ro.LegacyInterceptors,[{provide:HE,useFactory:MP},{provide:Sc,useExisting:HE,multi:!0}]))]}),e})();class YP{}class Sr{constructor(){this.baseUrl="https://web-production-1c42.up.railway.app/",this.verify=this.baseUrl+"accounts/token/verify/",this.refresh=this.baseUrl+"accounts/token/refresh/",this.logout=this.baseUrl+"accounts/logout/",this.locations=this.baseUrl+"locais/",this.touristAttaction=this.baseUrl+"pontos-turisticos/?search=",this.user=this.baseUrl+"accounts/user/",this.history=this.baseUrl+"usuario/historico/",this.register=this.baseUrl+"accounts/registration/",this.verifyEmail=this.baseUrl+"accounts/registration/verify-email/",this.resend=this.baseUrl+"accounts/registration/resend-email/",this.login=this.baseUrl+"accounts/login/",this.partner=this.baseUrl+"parceiros/detalhes/",this.prize=this.baseUrl+"premios/",this.redeem=this.baseUrl+"resgatar/",this.prizeCategory=this.baseUrl+"categorias/",this.partnerPrizes=this.baseUrl+"premios/criados/",this.recover=this.baseUrl+"premios/usuarios/recuperar/",this.check=this.baseUrl+"checar/",this.qrCode=this.baseUrl+"premios/premio/qr-code/?prize="}}let Ba=(()=>{class e{constructor(t){this.http=t,this.urls=new Sr,this.userHistorySubject=new he(null),this.userHistory$=this.userHistorySubject.asObservable(),this.getPointSuccess=!1,this.manyGetPoints=!1,this.awayFromPoint=!1,this.checkPrize=!1,this.notPrizePartner=!1,this.invalidPrize=!1,this.expiredPrize=!1,this.postRequest=!1,this.isLoading=!1,this.isSaving=!1,this.isGettingPoints=!1,this.waitingResult=!1}verifyQRCode(t,r){this.isLoading||(this.postRequest=!0,this.isLoading=!0,this.http.get(this.urls.touristAttaction+t).subscribe({next:s=>{if(0!==s.length){const c=s[0].points,h=s[0].name;this.center={latitude:s[0].coordinates_lat,longitude:s[0].coordinates_long},this.user={latitude:r.latitude,longitude:r.longitude},console.log(this.user),this.cacheUserCordLatitude=r.latitude,this.cacheUserCordLongitude=r.longitude,this.cachePointCordLatitude=s[0].coordinates_lat,this.cachePointCordLongitude=s[0].coordinates_long,this.isWithinRadius(this.user,this.center)?(this.savePoints(c,h),this.locationPhoto=s[0].photo):this.awayFromPoint=!0}else console.error("C\xf3digo inv\xe1lido");this.postRequest=!1,this.isLoading=!1},error:s=>{this.waitingResult=!1,this.isLoading=!1,401===s.status||console.error("N\xe3o foi poss\xedvel acessar o link")},complete:()=>{this.center=null,this.user=null}}))}isWithinRadius(t,r,i=100){function h(g){return g*Math.PI/180}return function c(g,m){const w=h(m.latitude-g.latitude),E=h(m.longitude-g.longitude),S=Math.sin(w/2)*Math.sin(w/2)+Math.cos(h(g.latitude))*Math.cos(h(m.latitude))*Math.sin(E/2)*Math.sin(E/2);return 2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S))*6371e3}(t,r)<=i}savePoints(t,r){if(this.isSaving)return;this.isSaving=!0;const i=new YP;i.points=t,i.description="Ponto Tur\xedstico -> "+r,this.http.post(this.urls.history,i).subscribe({next:s=>{this.locationPoints=s.points,this.locationDescription=s.description,this.getPointSuccess=!0,this.isSaving=!1,this.waitingResult=!1},error:s=>{this.waitingResult=!1,this.isSaving=!1,429===s.status&&(this.manyGetPoints=!0)}})}getUserHistory(){return this.http.get(this.urls.history)}redeemUserPrize(t){return this.http.post(this.urls.recover,{code:t})}checkUserPrize(t){return this.http.post(this.urls.check,{code:t})}}return e.\u0275fac=function(t){return new(t||e)(ne(jn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const jE={now:()=>(jE.delegate||Date).now(),delegate:void 0};class g1 extends Ot{constructor(n=1/0,t=1/0,r=jE){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:c}=this;t||(r.push(n),!i&&r.push(s.now()+c)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let c=0;c<s.length&&!n.closed;c+=r?1:2)n.next(s[c]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*n;if(n<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const c=t.now();let h=0;for(let g=1;g<r.length&&r[g]<=c;g+=2)h=g;h&&r.splice(0,h+1)}}}let Ri=(()=>{class e{constructor(t,r){this.http=t,this.router=r,this.logoutInProgress=!1,this.refreshTokenInProgress=!1,this.refreshFailed=!1,this.refreshTokenSubject=new g1(1),this.userAuthenticated=new g1(1),this.currentToken=new he(localStorage.getItem("token")),this.isPartner=new g1(1),this.isPartner$=this.isPartner.asObservable(),this.urls=new Sr}verifyToken(t){return this.http.post(this.urls.verify,{token:t})}refreshToken(){if(this.refreshTokenInProgress)return this.refreshTokenSubject.asObservable();{this.refreshTokenInProgress=!0;const r={refresh:localStorage.getItem("refresh")};return this.http.post(this.urls.refresh,r).pipe(Nn(i=>{this.storeTokens(i),this.refreshTokenSubject.next(i),this.refreshTokenInProgress=!1,this.refreshFailed=!1}),Fr(i=>(this.refreshTokenInProgress=!1,this.localLogout(),ii(()=>i))))}}storeTokens(t){localStorage.setItem("token",t.access),this.currentToken.next(t.access)}get isAuthenticated(){return this.currentToken.pipe(Ve(t=>t?this.verifyToken(t):Ee(!1)),Fr(t=>Ee(401!==t.status)))}logout(){this.logoutInProgress||(this.logoutInProgress=!0,this.http.post(this.urls.logout,"").subscribe({next:()=>{localStorage.clear(),this.currentToken.next(null),this.logoutInProgress=!1,this.userAuthenticated.next(!1),this.isPartner.next(!1),this.router.navigate([""])},error:t=>{console.log("erro no logout")}}))}localLogout(){localStorage.clear(),this.currentToken.next(null),this.logoutInProgress=!1,this.userAuthenticated.next(!1),this.isPartner.next(!1),this.router.navigate([""])}}return e.\u0275fac=function(t){return new(t||e)(ne(jn),ne(Ut))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const XP=function(e,n){return{"btn-success":e,"btn-info":n}};function ZP(e,n){if(1&e){const t=lt();b(0,"button",15),Ce("click",function(){return We(t),$e(ie(3).startReading())}),Qr(),b(1,"svg",16),le(2,"defs",17)(3,"path",18)(4,"path",19),b(5,"g",20),le(6,"path",21),x()()()}if(2&e){const t=ie(3);k("hidden",t.cameraReady)("disabled",t.cameraButtonDisable)("ngClass",Yt(3,XP,!t.isPartner,t.isPartner))}}function QP(e,n){if(1&e){const t=lt();b(0,"button",22),Ce("click",function(){return We(t),$e(ie(3).stopReading())}),Qr(),b(1,"svg",23),le(2,"defs",17)(3,"path",18)(4,"path",19),b(5,"g",20),le(6,"path",21),x()()()}}function KP(e,n){if(1&e&&(b(0,"div",11)(1,"div",2),le(2,"div",12),x(),b(3,"div",2),q(4,ZP,7,6,"button",13),q(5,QP,7,0,"button",14),x()()),2&e){const t=ie(2);R(2),k("hidden",!t.reading),R(2),k("ngIf",!t.reading),R(1),k("ngIf",t.reading)}}function JP(e,n){if(1&e){const t=lt();b(0,"div",24)(1,"div",25)(2,"div",26),D(3,"Precisamos do seu OK! \u{1f4f8}"),x(),b(4,"div",27)(5,"h5",28),D(6,"Oi! Bem-vindo ao Duck Go!"),x(),b(7,"p",29),D(8," Para tornar sua experi\xeancia em Pato Branco ainda mais divertida e interativa, adorar\xedamos acessar sua c\xe2mera. Isso permitir\xe1 que voc\xea jogue e interaja em tempo real conosco! Mas n\xe3o se preocupe, respeitamos sua privacidade. "),x()(),b(9,"div",30)(10,"div",31)(11,"div",32)(12,"button",33),Ce("click",function(){return We(t),$e(ie(2).getCamera())}),D(13," Autorizar "),x()(),b(14,"div",32)(15,"button",34),Ce("click",function(){return We(t),$e(ie(2).dontGetCamera())}),D(16," N\xe3o Autorizar "),x()()()()()()}if(2&e){const t=ie(2);R(12),k("disabled",t.buttonDisabler),R(3),k("disabled",t.buttonDisabler)}}function e5(e,n){if(1&e){const t=lt();b(0,"div",35)(1,"div",25)(2,"div",26),D(3,"Permiss\xe3o de Localiza\xe7\xe3o"),x(),b(4,"div",27)(5,"h5",28),D(6,"Quase l\xe1, aventureiro Duck Go!"),x(),b(7,"p",29),D(8," Parece que voc\xea escaneou um QRCode para ganhar pontos. Legal! Para adicion\xe1-los \xe0 sua conta, precisamos confirmar sua localiza\xe7\xe3o. Isso garante que tudo seja justo e leg\xedtimo em nossa jornada juntos em Pato Branco. \u{1f30d} "),x()(),b(9,"div",30)(10,"div",31)(11,"div",32)(12,"button",33),Ce("click",function(){return We(t),$e(ie(2).getGeolocationPermission())}),D(13," Autorizar "),x()(),b(14,"div",32)(15,"button",34),Ce("click",function(){return We(t),$e(ie(2).deniedGeolocation())}),D(16," N\xe3o Autorizar "),x()()()()()()}if(2&e){const t=ie(2);R(12),k("disabled",t.buttonDisabler),R(3),k("disabled",t.buttonDisabler)}}function t5(e,n){if(1&e){const t=lt();b(0,"div",36)(1,"div",26),D(2,"Cadastro Necess\xe1rio"),x(),b(3,"div",27)(4,"h5",28),D(5,"Ei, aventureiro Duck Go!"),x(),b(6,"p",29),D(7," Notamos que voc\xea est\xe1 ansioso para come\xe7ar sua aventura e usar a c\xe2mera. Que empolga\xe7\xe3o! No entanto, para garantir uma experi\xeancia completa e personalizada em Pato Branco, precisamos que voc\xea esteja devidamente cadastrado em nosso site. Assim, suas descobertas e pontos estar\xe3o sempre salvos. \u{1f986} "),x()(),b(8,"div",30)(9,"div",31)(10,"div",37)(11,"button",38),Ce("click",function(){return We(t),$e(ie(2).redirectToRegister())}),D(12," Cadastrar "),x()()(),b(13,"div",39)(14,"div",37)(15,"button",33),Ce("click",function(){return We(t),$e(ie(2).redirectToLogin())}),D(16," J\xe1 possui uma conta? Fa\xe7a o Login! "),x()()()()()}if(2&e){const t=ie(2);R(11),k("disabled",t.buttonDisabler),R(4),k("disabled",t.buttonDisabler)}}function n5(e,n){1&e&&(b(0,"div",40)(1,"div",41)(2,"div",42)(3,"h4",43),D(4,"Ops! Parece que algo n\xe3o deu certo..."),x()(),b(5,"div",27)(6,"p",44),D(7," Entendemos sua preocupa\xe7\xe3o com a privacidade e respeitamos sua decis\xe3o. No entanto, sem o acesso \xe0 c\xe2mera ou \xe0 localiza\xe7\xe3o, voc\xea n\xe3o poder\xe1 desfrutar de todas as incr\xedveis funcionalidades do Duck Go. "),x(),b(8,"p"),D(9," Nossa promessa \xe9 que utilizamos estas permiss\xf5es exclusivamente para proporcionar uma aventura completa em nossa plataforma web e garantir que voc\xea tenha a melhor experi\xeancia conosco em Pato Branco. "),x(),b(10,"h5",45),D(11,"Como habilitar as permiss\xf5es:"),x(),b(12,"div",46)(13,"h6")(14,"strong"),D(15,"Desktop ou Laptop:"),x()(),b(16,"ol")(17,"li"),D(18," Clique no \xedcone de cadeado \u{1f512} \xe0 esquerda da barra de endere\xe7os do seu navegador. "),x(),b(19,"li"),D(20," Ajuste as permiss\xf5es para o Duck Go, permitindo acesso \xe0 c\xe2mera e \xe0 localiza\xe7\xe3o. "),x(),b(21,"li"),D(22,"Atualize a p\xe1gina e tente ler o c\xf3digo QR mais uma vez."),x()()(),b(23,"div",46)(24,"h6")(25,"strong"),D(26,"Android:"),x()(),b(27,"ol")(28,"li"),D(29,'Abra as "Configura\xe7\xf5es" do seu dispositivo.'),x(),b(30,"li"),D(31,' V\xe1 at\xe9 "Aplicativos" e encontre o navegador que voc\xea est\xe1 usando. '),x(),b(32,"li"),D(33,'Toque em "Permiss\xf5es" e habilite a c\xe2mera e a localiza\xe7\xe3o.'),x(),b(34,"li"),D(35,"Volte ao Duck Go e tente ler o c\xf3digo QR novamente."),x()()(),b(36,"div",46)(37,"h6")(38,"strong"),D(39,"iOS (iPhone ou iPad):"),x()(),b(40,"ol")(41,"li"),D(42,' Acesse as "Configura\xe7\xf5es" e des\xe7a at\xe9 encontrar o nome do navegador que voc\xea est\xe1 usando (por exemplo, Safari). '),x(),b(43,"li"),D(44,' Toque nele e depois em "Permiss\xf5es" ou "Configura\xe7\xf5es de sites". '),x(),b(45,"li"),D(46,"Habilite as permiss\xf5es para c\xe2mera e localiza\xe7\xe3o."),x(),b(47,"li"),D(48,"Retorne ao Duck Go e tente ler o c\xf3digo QR mais uma vez."),x()()()(),b(49,"div",47),D(50," Esperamos que voc\xea reconsidere e embarque conosco nessa jornada! \u{1f986}\u{1f30d} "),x()()())}function r5(e,n){if(1&e&&(b(0,"div"),q(1,KP,6,3,"div",5),b(2,"div",6),q(3,JP,17,2,"div",7),q(4,e5,17,2,"div",8),q(5,t5,17,2,"div",9),x(),q(6,n5,51,0,"div",10),x()),2&e){const t=ie();R(1),k("ngIf",!t.permissionDenied&&!t.promptRegister),R(2),k("ngIf",t.cameraReady),R(1),k("ngIf",t.geoReady),R(1),k("ngIf",t.promptRegister),R(1),k("ngIf",t.permissionDenied)}}function i5(e,n){1&e&&(b(0,"div"),D(1," Erro na geolocaliza\xe7\xe3o "),x())}function o5(e,n){1&e&&(b(0,"div",48)(1,"span",49),D(2,"Loading..."),x()())}function s5(e,n){if(1&e&&(b(0,"div",57),D(1," Parab\xe9ns! Voc\xea ganhou "),b(2,"strong"),D(3),x(),D(4," por visitar este local. "),x()),2&e){const t=ie(2);R(3),qe("",t.apiPoints.locationPoints," pontos")}}function a5(e,n){1&e&&(b(0,"div",58),D(1," Limite de pontos di\xe1rios atingidos. "),x())}function l5(e,n){if(1&e){const t=lt();b(0,"div")(1,"button",50),Ce("click",function(){return We(t),$e(ie().goBack())}),D(2,"Voltar"),x(),b(3,"div",1)(4,"div",51)(5,"div",2),le(6,"img",52),x(),b(7,"div",53)(8,"div",27)(9,"h2",28),D(10),x(),b(11,"p",29),D(12),x(),q(13,s5,5,1,"div",54),q(14,a5,2,0,"div",55),b(15,"p",56),D(16," N\xe3o pare por aqui! Continue explorando e jogando para acumular ainda mais pontos. Cada nova aventura traz novas recompensas. Vamos nessa! "),x()()()()()()}if(2&e){const t=ie();R(6),bn("src",t.apiPoints.locationPhoto,Un),R(4),Er(t.apiPoints.locationName),R(2),Er(t.apiPoints.locationDescription),R(1),k("ngIf",0!==t.apiPoints.locationPoints),R(1),k("ngIf",0===t.apiPoints.locationPoints)}}function c5(e,n){if(1&e){const t=lt();b(0,"div")(1,"button",50),Ce("click",function(){return We(t),$e(ie().goBack())}),D(2,"Voltar"),x(),b(3,"div",1)(4,"div",51)(5,"div",53)(6,"div",27)(7,"h2",28),D(8,"Explorando Pato Branco com Duck GO!"),x(),b(9,"div",58),D(10," Voc\xea escaneou um c\xf3digo QR v\xe1lido, mas n\xe3o parece estar pr\xf3ximo do ponto tur\xedstico de Pato Branco associado. "),x(),b(11,"p",29),D(12," Verifique se voc\xea est\xe1 no ponto tur\xedstico correto em nossa incr\xedvel cidade. Duck GO! est\xe1 aqui para te guiar pelos melhores locais! "),x(),b(13,"p",56),D(14," Se voc\xea acredita que est\xe1 no local certo e ainda assim encontra problemas, n\xe3o hesite em contatar nosso suporte: "),b(15,"a"),D(16,"duckgosuporte@gmail.com"),x(),D(17,". "),x()()()()()()}}function u5(e,n){if(1&e){const t=lt();b(0,"div")(1,"div",59)(2,"button",60),Ce("click",function(){return We(t),$e(ie().goBack())}),D(3,"Voltar"),x(),b(4,"div",51)(5,"div",25)(6,"div",61),D(7," Quack! Um pequeno pato-alerta! \u{1f986} "),x(),b(8,"div",27)(9,"h5",28),D(10,"Calma, aventureiro!"),x(),b(11,"p",29),D(12," Parece que voc\xea est\xe1 super animado e tentou escanear outro QR Code rapidinho, n\xe9? No Duck GO!, temos uma regrinha: um QR Code a cada 5 minutos. "),x(),b(13,"p",29),D(14," Enquanto aguarda, que tal explorar um pouco mais e descobrir novos lugares incr\xedveis em Pato Branco? H\xe1 muita coisa para ver e pontos para ganhar! "),x()(),b(15,"div",62),D(16," O pr\xf3ximo QR Code est\xe1 logo ali, aguardando por voc\xea. Boas aventuras e quack-quack! "),x()()()()()}}function d5(e,n){if(1&e&&(b(0,"div",29)(1,"p",67),D(2,"Informa\xe7\xf5es do Usu\xe1rio:"),x(),b(3,"ul",68)(4,"li",69),D(5),x(),b(6,"li",69),D(7),x(),b(8,"li",69),D(9),x()(),le(10,"hr",70),b(11,"p",71),D(12,"Informa\xe7\xf5es do Pr\xeamio:"),x(),b(13,"ul",68)(14,"li",69),D(15),x(),b(16,"li",69),D(17),x(),b(18,"li",69),D(19),x(),b(20,"li",69),D(21),x()()()),2&e){const t=ie(2);R(5),qe(" UserName: ",t.userPrize.username," "),R(2),Xl(" Nome: ",t.userPrize.first_name," ",t.userPrize.last_name," "),R(2),qe("CPF: ",t.userPrize.cpf,""),R(6),qe("Nome: ",t.userPrize.prize.name,""),R(2),qe(" Descri\xe7\xe3o: ",t.userPrize.prize.description," "),R(2),qe(" Data de Expira\xe7\xe3o: ",t.userPrize.prize.expiry_date," "),R(2),qe(" Gerado Por: ",t.userPrize.prize.generated_by_company_name," ")}}function f5(e,n){1&e&&(b(0,"div",48)(1,"span",49),D(2,"Loading..."),x()())}function h5(e,n){1&e&&(b(0,"div",72),D(1," Pr\xeamio Resgatado com Sucesso! "),x())}function p5(e,n){if(1&e){const t=lt();b(0,"div",73)(1,"button",74),Ce("click",function(){return We(t),$e(ie(2).useUserPrize())}),D(2," Confirmar Pr\xeamio "),x(),b(3,"button",75),Ce("click",function(){return We(t),$e(ie(2).goBack())}),D(4,"Cancelar"),x()()}}function g5(e,n){if(1&e){const t=lt();b(0,"div")(1,"button",50),Ce("click",function(){return We(t),$e(ie().goBack())}),D(2,"Voltar"),x(),b(3,"div",1)(4,"div",51)(5,"div",53)(6,"h2",63),D(7,"Verifica\xe7\xe3o de Pr\xeamio"),x(),b(8,"div",27),q(9,d5,22,8,"div",64),q(10,f5,3,0,"div",3),q(11,h5,2,0,"div",65),x(),q(12,p5,5,0,"div",66),x()()()()}if(2&e){const t=ie();R(9),k("ngIf",!t.usePrizeLoader&&!t.usePrizeSuccess),R(1),k("ngIf",t.usePrizeLoader),R(1),k("ngIf",t.usePrizeSuccess),R(1),k("ngIf",!t.usePrizeLoader&&!t.usePrizeSuccess)}}function m5(e,n){if(1&e){const t=lt();b(0,"div",1)(1,"div",53)(2,"h2",76),D(3," Restri\xe7\xe3o de Pr\xeamio "),x(),b(4,"div",27)(5,"p",67),D(6,"Aten\xe7\xe3o!"),x(),b(7,"p"),D(8,"O pr\xeamio s\xf3 pode ser resgatado pela empresa que o criou."),x()(),b(9,"div",77)(10,"button",78),Ce("click",function(){return We(t),$e(ie().goBack())}),D(11,"Voltar"),x()()()()}}function y5(e,n){if(1&e){const t=lt();b(0,"div",1)(1,"div",53)(2,"h2",79),D(3,"Pr\xeamio Expirado"),x(),b(4,"div",27)(5,"p",67),D(6,"Aten\xe7\xe3o!"),x(),b(7,"p"),D(8,"O pr\xeamio que voc\xea est\xe1 tentando resgatar j\xe1 expirou."),x()(),b(9,"div",80)(10,"button",78),Ce("click",function(){return We(t),$e(ie().goBack())}),D(11,"Voltar"),x()()()()}}function v5(e,n){if(1&e){const t=lt();b(0,"div",1)(1,"div",53)(2,"h2",79),D(3,"Pr\xeamio j\xe1 Resgatado"),x(),b(4,"div",27)(5,"p",67),D(6,"Aten\xe7\xe3o!"),x(),b(7,"p"),D(8," O pr\xeamio que voc\xea est\xe1 tentando resgatar j\xe1 foi resgatado anteriormente. "),x()(),b(9,"div",80)(10,"button",78),Ce("click",function(){return We(t),$e(ie().goBack())}),D(11,"Voltar"),x()()()()}}let C5=(()=>{class e{constructor(t,r,i){this.apiPoints=t,this.api=r,this.router=i,this.title="duck-go",this.reading=!1,this.cameraReady=!1,this.geoReady=!1,this.buttonDisabler=!1,this.cameraButtonDisable=!1,this.cameraPermissionName="camera",this.geolocationPermissionName="geolocation",this.permissionDenied=!1,this.isVerified=!1,this.promptRegister=!1,this.isPartner=!1,this.usePrizeLoader=!1,this.usePrizeSuccess=!1,this.erroCode=!1,this.erroGeo=!1}ngOnInit(){this.isPartner="true"===localStorage.getItem("isPartner"),this.api.userAuthenticated.subscribe({next:t=>{this.isVerified=!!t}}),this.api.isPartner$.subscribe({next:t=>{this.isPartner=t}}),this.checkPermission(this.cameraPermissionName).then(t=>{this.cameraPermission=t,"denied"===this.cameraPermission&&(this.permissionDenied=!0)}),this.checkPermission(this.geolocationPermissionName).then(t=>{this.geolocationPermission=t,"denied"===this.geolocationPermission&&(this.permissionDenied=!0)})}checkPermission(t){return function k6(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var s=e.apply(n,t);function c(g){iE(s,r,i,c,h,"next",g)}function h(g){iE(s,r,i,c,h,"throw",g)}c(void 0)})}}(function*(){return(yield navigator.permissions.query({name:t})).state})()}askCamera(){this.cameraReady=!0}dontGetCamera(){this.permissionDenied=!0,this.cameraReady=!1}getGeolocation(){this.geoReady=!0}deniedGeolocation(){this.geoReady=!1,this.permissionDenied=!0}getGeolocationPermission(){this.buttonDisabler=!0,navigator.geolocation.getCurrentPosition(i=>{this.checkPermission(this.geolocationPermissionName).then(s=>{this.geoReady=!1,"granted"===s?(this.buttonDisabler=!1,this.locationRead=i.coords,this.apiPoints.waitingResult=!0,this.apiPoints.verifyQRCode(this.cameraCodeRead,this.locationRead)):(this.buttonDisabler=!1,this.apiPoints.waitingResult=!0)})},i=>{switch(this.erroGeo=!0,this.apiPoints.waitingResult=!0,i.code){case i.PERMISSION_DENIED:console.log("O usu\xe1rio n\xe3o permitiu a geolocaliza\xe7\xe3o.");break;case i.POSITION_UNAVAILABLE:console.log("Informa\xe7\xe3o de localiza\xe7\xe3o n\xe3o est\xe1 dispon\xedvel.");break;case i.TIMEOUT:console.log("A solicita\xe7\xe3o para obter a localiza\xe7\xe3o do usu\xe1rio expirou.");break;case i.UNKNOWN_ERROR:console.log("Ocorreu um erro desconhecido.")}this.buttonDisabler=!1,this.permissionDenied=!0,this.geoReady=!1},{enableHighAccuracy:!0})}getCamera(){this.buttonDisabler=!0,La.getCameras().then(t=>{t&&t.length&&(this.html5QrCode=new La("reader")),this.checkPermission(this.cameraPermissionName).then(r=>{this.cameraPermission=r,"granted"===this.cameraPermission&&(this.cameraReady=!1,this.buttonDisabler=!1),"denied"===this.cameraPermission&&(this.permissionDenied=!0)})}).catch(t=>{this.permissionDenied=!0,this.cameraReady=!1,this.buttonDisabler=!1})}startReading(){this.isVerified?(this.cameraButtonDisable=!0,this.checkPermission(this.cameraPermissionName).then(t=>{if(this.cameraPermission=t,"granted"!=this.cameraPermission)return this.askCamera(),void(this.cameraButtonDisable=!1);La.getCameras().then(r=>{r&&r.length&&(this.html5QrCode=new La("reader"),this.html5QrCode.start({facingMode:"environment"},{fps:10,qrbox:250},(i,s)=>{this.cameraCodeRead=i,"number"!=typeof+this.cameraCodeRead||this.isPartner?"string"==typeof this.cameraCodeRead&&this.isPartner&&this.redeemUserPrize():this.stopReading()},i=>{}).catch(i=>{}),this.reading=!0)}).catch(r=>{})})):this.promptRegister=!0}stopReading(){2===this.html5QrCode.getState()&&(this.reading=!1,this.html5QrCode.stop().then(t=>{this.cameraButtonDisable=!1,this.cameraCodeRead&&("granted"===this.geolocationPermission?(this.apiPoints.waitingResult=!0,this.getGeolocationPermission()):this.getGeolocation())}).catch(t=>{}))}redeemUserPrize(){2===this.html5QrCode.getState()&&(this.reading=!1,this.html5QrCode.stop().then(t=>{this.cameraButtonDisable=!1,this.cameraCodeRead&&this.apiPoints.checkUserPrize(this.cameraCodeRead).subscribe({next:r=>{this.userPrize=r,this.apiPoints.checkPrize=!0},error:r=>{r instanceof Qn&&406===r.status&&(this.apiPoints.notPrizePartner=!0),r instanceof Qn&&410===r.status&&(this.apiPoints.expiredPrize=!0),r instanceof Qn&&409===r.status&&(this.apiPoints.invalidPrize=!0)}})}).catch(t=>{}))}redirectToRegister(){this.router.navigate(["register"])}redirectToLogin(){this.router.navigate(["login"])}goBack(){this.apiPoints.getPointSuccess=!1,this.apiPoints.manyGetPoints=!1,this.apiPoints.awayFromPoint=!1,this.apiPoints.invalidPrize=!1,this.apiPoints.expiredPrize=!1,this.apiPoints.notPrizePartner=!1,this.apiPoints.checkPrize=!1,this.cameraCodeRead=null,this.usePrizeSuccess=!1}useUserPrize(){this.usePrizeLoader=!0,this.apiPoints.redeemUserPrize(this.cameraCodeRead).subscribe({next:t=>{this.usePrizeLoader=!1,this.usePrizeSuccess=!0,console.log(t)},error:t=>{t instanceof Qn&&406===t.status&&(this.apiPoints.notPrizePartner=!0),t instanceof Qn&&410===t.status&&(this.apiPoints.expiredPrize=!0),t instanceof Qn&&409===t.status&&(this.apiPoints.invalidPrize=!0)}})}}return e.\u0275fac=function(t){return new(t||e)(W(Ba),W(Ri),W(Ut))},e.\u0275cmp=G({type:e,selectors:[["app-home"]],decls:16,vars:14,consts:[[4,"ngIf"],[1,"container"],[1,"container","d-flex","justify-content-center"],["class","spinner-border","role","status",4,"ngIf"],["class","container",4,"ngIf"],["class","container d-flex flex-column justify-content-center",4,"ngIf"],[1,"row","d-flex","justify-content-center","px-0","px-md-0","position-absolute","top-50","start-50","translate-middle","w-75"],["class","col col-md-10",4,"ngIf"],["class","col col-md-6",4,"ngIf"],["class","card text-center","style","width: 25rem",4,"ngIf"],["class","container px-3 my-5",4,"ngIf"],[1,"container","d-flex","flex-column","justify-content-center"],["id","reader",1,"border","border-5","rounded","w-100","w-md-25","h-md-25",3,"hidden"],["id","bStart","type","button","title","start","class","btn btn-success",3,"hidden","disabled","ngClass","click",4,"ngIf"],["type","button","title","start","class","btn btn-danger",3,"click",4,"ngIf"],["id","bStart","type","button","title","start",1,"btn","btn-success",3,"hidden","disabled","ngClass","click"],["width","200","height","200","fill","currentColor","viewBox","0 0 16 13","version","1.1","id","svg6",0,"sodipodi","docname","camera.svg",0,"inkscape","version","1.2.1 (9c6d41e410, 2022-07-14)",0,"xmlns","inkscape","http://www.inkscape.org/namespaces/inkscape",0,"xmlns","sodipodi","http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg",1,"bi","bi-camera"],["id","defs10"],["d","m 15,12 a 1,1 0 0 1 -1,1 H 2 A 1,1 0 0 1 1,12 V 6 A 1,1 0 0 1 2,5 H 3.172 A 3,3 0 0 0 5.292,4.121 L 6.122,3.293 A 1,1 0 0 1 6.827,3 h 2.344 a 1,1 0 0 1 0.707,0.293 l 0.828,0.828 A 3,3 0 0 0 12.828,5 H 14 a 1,1 0 0 1 1,1 z M 2,4 A 2,2 0 0 0 0,6 v 6 a 2,2 0 0 0 2,2 h 12 a 2,2 0 0 0 2,-2 V 6 A 2,2 0 0 0 14,4 H 12.828 A 2,2 0 0 1 11.414,3.414 L 10.586,2.586 A 2,2 0 0 0 9.172,2 H 6.828 A 2,2 0 0 0 5.414,2.586 L 4.586,3.414 A 2,2 0 0 1 3.172,4 Z","id","path2","transform","translate(0,-2)"],["d","m 8,11 a 2.5,2.5 0 1 1 0,-5 2.5,2.5 0 0 1 0,5 z m 0,1 A 3.5,3.5 0 1 0 8,5 3.5,3.5 0 0 0 8,12 Z M 3,6.5 a 0.5,0.5 0 1 1 -1,0 0.5,0.5 0 0 1 1,0 z","id","path4","transform","translate(0,-2)"],["id","g250","transform","matrix(0.02112598,0,0,0.02108592,5.9292593,4.2693085)"],["d","M 105.572,101.811 C 115.461,95.443 132.989,85.347 133.678,59.645 134.214,39.367 123.707,10.139 84.523,8.767 53.041,7.659 39.9,28.251 36.071,46.739 l -0.928,-0.126 c -1.932,0 -3.438,1.28 -5.34,2.889 -2.084,1.784 -4.683,3.979 -7.792,4.308 C 18.438,54.171 13.9,52.604 10.313,51.361 6.12,49.93 3.689,49.314 2.048,50.602 0.545,51.765 -0.13,53.864 0.02,56.828 c 0.331,6.326 4.971,18.917 16.016,25.778 7.67,4.765 16.248,5.482 20.681,5.482 0.006,0 0.006,0 0.006,0 2.37,0 4.945,-0.239 7.388,-0.726 2.741,4.218 5.228,7.476 6.037,9.752 2.054,5.851 -27.848,25.087 -27.848,55.01 0,29.916 22.013,48.475 56.727,48.475 h 55.004 c 30.593,0 70.814,-29.908 75.291,-92.48 -28.541,24.072 -42.294,-9.969 -103.75,-6.308 z M 18.941,77.945 C 8.775,71.617 4.992,58.922 5.294,55.525 c 0.897,0.24 2.194,0.689 3.228,1.042 4.105,1.415 9.416,3.228 14.068,2.707 4.799,-0.499 8.253,-3.437 10.778,-5.574 0.607,-0.509 1.393,-1.176 1.872,-1.491 0.87,0.315 0.962,0.693 1.176,3.14 0.196,2.26 0.473,5.37 2.362,9.006 1.437,2.761 3.581,5.705 5.646,8.542 1.701,2.336 4.278,5.871 4.535,6.404 -0.445,1.184 -4.907,3.282 -12.229,3.282 -6.553,0.008 -13.04,-1.679 -17.789,-4.638 z M 56.86,49.368 c 0,-4.938 4.001,-8.943 8.931,-8.943 4.941,0 8.942,4.005 8.942,8.943 0,4.931 -4.001,8.942 -8.942,8.942 -4.937,10e-4 -8.931,-4.011 -8.931,-8.942 z m 92.299,106.03 -20.63,11.169 13.408,9.293 c 0,0 -49.854,15.813 -72.198,-6.885 -11.006,-11.16 -13.06,-28.533 4.124,-38.84 17.184,-10.312 84.609,3.943 84.609,3.943 L 134.295,147.8 Z","id","path248"],["type","button","title","start",1,"btn","btn-danger",3,"click"],["width","40","height","40","fill","currentColor","viewBox","0 0 16 12","version","1.1","id","svg6",0,"sodipodi","docname","camera.svg",0,"inkscape","version","1.2.1 (9c6d41e410, 2022-07-14)",0,"xmlns","inkscape","http://www.inkscape.org/namespaces/inkscape",0,"xmlns","sodipodi","http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg",1,"bi","bi-camera"],[1,"col","col-md-10"],[1,"card","text-center"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer","text-body-secondary"],[1,"row"],[1,"col-6"],[1,"btn","btn-success","w-100","h-100","accessButton",3,"disabled","click"],[1,"btn","btn-danger","w-100","h-100","text-wrap","accessButton",3,"disabled","click"],[1,"col","col-md-6"],[1,"card","text-center",2,"width","25rem"],[1,"col"],[1,"btn","btn-primary","w-100","h-100","accessButton",3,"disabled","click"],[1,"row","pt-2"],[1,"container","px-3","my-5"],[1,"card"],[1,"card-header","text-center","bg-warning"],[1,"text-white"],[1,"text-center"],[1,"mt-4"],[1,"mt-3"],[1,"card-footer","text-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"btn","btn-primary","mt-3","mx-3",3,"click"],[1,"container","p-2"],["alt","Foto do local",1,"card-img-top",2,"width","150px","height","150px",3,"src"],[1,"card","mt-2"],["class","alert alert-success mt-2",4,"ngIf"],["class","alert alert-warning mt-2",4,"ngIf"],[1,"mt-1"],[1,"alert","alert-success","mt-2"],[1,"alert","alert-warning","mt-2"],[1,"container","d-flex","justify-content-between","flex-column"],[1,"btn","btn-primary","mt-3","mx-2",3,"click"],[1,"card-header","bg-warning"],[1,"card-footer","text-muted"],[1,"card-title","card-header"],["class","card-text",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["class","card-footer d-flex justify-content-around",4,"ngIf"],[1,"fw-semibold","fs-4"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"hr-blurry"],[1,"fw-semibold","mt-3","fs-4"],["role","alert",1,"alert","alert-success"],[1,"card-footer","d-flex","justify-content-around"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"card-title","card-header","bg-warning-subtle"],[1,"card-footer","d-flex","justify-content-center","bg-warning-subtle"],[1,"btn","btn-primary",3,"click"],[1,"card-title","card-header","bg-danger-subtle"],[1,"card-footer","d-flex","justify-content-center","bg-danger-subtle"]],template:function(t,r){1&t&&(q(0,r5,7,5,"div",0),b(1,"div",1)(2,"div"),D(3),x(),b(4,"div"),D(5),x(),q(6,i5,2,0,"div",0),x(),b(7,"div",2),q(8,o5,3,0,"div",3),x(),q(9,l5,17,5,"div",0),q(10,c5,18,0,"div",0),q(11,u5,17,0,"div",0),q(12,g5,13,4,"div",0),q(13,m5,12,0,"div",4),q(14,y5,12,0,"div",4),q(15,v5,12,0,"div",4)),2&t&&(k("ngIf",!(r.apiPoints.getPointSuccess||r.apiPoints.manyGetPoints||r.apiPoints.awayFromPoint||r.apiPoints.checkPrize||r.apiPoints.notPrizePartner||r.apiPoints.invalidPrize||r.apiPoints.expiredPrize||r.apiPoints.waitingResult)),R(3),Xl(" coordenadas usu\xe1rio: Latitude: ",null==r.apiPoints?null:r.apiPoints.cacheUserCordLatitude,", Longitude: ",null==r.apiPoints?null:r.apiPoints.cacheUserCordLongitude," "),R(2),Xl(" coordenadas ponto: Latitude: ",null==r.apiPoints?null:r.apiPoints.cachePointCordLatitude,", Longitude: ",null==r.apiPoints?null:r.apiPoints.cachePointCordLongitude," "),R(1),k("ngIf",r.erroGeo),R(2),k("ngIf",r.apiPoints.waitingResult),R(1),k("ngIf",r.apiPoints.getPointSuccess),R(1),k("ngIf",r.apiPoints.awayFromPoint),R(1),k("ngIf",r.apiPoints.manyGetPoints),R(1),k("ngIf",r.apiPoints.checkPrize),R(1),k("ngIf",r.apiPoints.notPrizePartner),R(1),k("ngIf",r.apiPoints.expiredPrize),R(1),k("ngIf",r.apiPoints.invalidPrize))},dependencies:[eo,cr],styles:["#bStart[_ngcontent-%COMP%]{width:250px;height:250px;border-radius:50%!important}.accessButton[_ngcontent-%COMP%]{font-size:15px}"]}),e})(),zE=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(W($i),W(wr))},e.\u0275dir=ve({type:e}),e})(),ys=(()=>{class e extends zE{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Mn(e)))(r||e)}}(),e.\u0275dir=ve({type:e,features:[At]}),e})();const Oi=new pe("NgValueAccessor"),_5={provide:Oi,useExisting:Ct(()=>m1),multi:!0};let m1=(()=>{class e extends ys{writeValue(t){this.setProperty("checked",t)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Mn(e)))(r||e)}}(),e.\u0275dir=ve({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&Ce("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Vt([_5]),At]}),e})();const E5={provide:Oi,useExisting:Ct(()=>Oo),multi:!0},b5=new pe("CompositionEventMode");let Oo=(()=>{class e extends zE{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function x5(){const e=Ao()?Ao().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(W($i),W(wr),W(b5,8))},e.\u0275dir=ve({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Ce("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Vt([E5]),At]}),e})();function Po(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function GE(e){return null!=e&&"number"==typeof e.length}const zn=new pe("NgValidators"),Lo=new pe("NgAsyncValidators"),A5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ze{static min(n){return function WE(e){return n=>{if(Po(n.value)||Po(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function $E(e){return n=>{if(Po(n.value)||Po(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return function qE(e){return Po(e.value)?{required:!0}:null}(n)}static requiredTrue(n){return function YE(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function XE(e){return Po(e.value)||A5.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function ZE(e){return n=>Po(n.value)||!GE(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function QE(e){return n=>GE(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function KE(e){if(!e)return yf;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(Po(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return ix(n)}static composeAsync(n){return ox(n)}}function yf(e){return null}function JE(e){return null!=e}function ex(e){return ql(e)?Jt(e):e}function tx(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function nx(e,n){return n.map(t=>t(e))}function rx(e){return e.map(n=>function D5(e){return!e.validate}(n)?n:t=>n.validate(t))}function ix(e){if(!e)return null;const n=e.filter(JE);return 0==n.length?null:function(t){return tx(nx(t,n))}}function y1(e){return null!=e?ix(rx(e)):null}function ox(e){if(!e)return null;const n=e.filter(JE);return 0==n.length?null:function(t){return function w5(...e){const n=Jc(e),{args:t,keys:r}=Zw(e),i=new vt(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let g=c,m=c;for(let w=0;w<c;w++){let E=!1;se(t[w]).subscribe(Ft(s,S=>{E||(E=!0,m--),h[w]=S},()=>g--,void 0,()=>{(!g||!E)&&(m||s.next(r?Kw(r,h):h),s.complete())}))}});return n?i.pipe(Qw(n)):i}(nx(t,n).map(ex)).pipe(Te(tx))}}function v1(e){return null!=e?ox(rx(e)):null}function sx(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function ax(e){return e._rawValidators}function lx(e){return e._rawAsyncValidators}function C1(e){return e?Array.isArray(e)?e:[e]:[]}function vf(e,n){return Array.isArray(e)?e.includes(n):e===n}function cx(e,n){const t=C1(n);return C1(e).forEach(i=>{vf(t,i)||t.push(i)}),t}function ux(e,n){return C1(n).filter(t=>!vf(e,t))}class dx{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=y1(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=v1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Kn extends dx{get formDirective(){return null}get path(){return null}}class Fo extends dx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fx{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Va=(()=>{class e extends fx{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(W(Fo,2))},e.\u0275dir=ve({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&gd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[At]}),e})(),Ua=(()=>{class e extends fx{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(W(Kn,10))},e.\u0275dir=ve({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&gd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[At]}),e})();const Tc="VALID",wf="INVALID",Ha="PENDING",Mc="DISABLED";function E1(e){return(_f(e)?e.validators:e)||null}function x1(e,n){return(_f(n)?n.asyncValidators:e)||null}function _f(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function px(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")}function gx(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new K(1002,"")})}class Ef{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Tc}get invalid(){return this.status===wf}get pending(){return this.status==Ha}get disabled(){return this.status===Mc}get enabled(){return this.status!==Mc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(cx(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(cx(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(ux(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(ux(n,this._rawAsyncValidators))}hasValidator(n){return vf(this._rawValidators,n)}hasAsyncValidator(n){return vf(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Ha,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Mc,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Tc,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tc||this.status===Ha)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mc:Tc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Ha,this._hasOwnPendingAsyncValidator=!0;const t=ex(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Qt,this.statusChanges=new Qt}_calculateStatus(){return this._allControlsDisabled()?Mc:this.errors?wf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ha)?Ha:this._anyControlsHaveStatus(wf)?wf:Tc}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){_f(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function M5(e){return Array.isArray(e)?y1(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function N5(e){return Array.isArray(e)?v1(e):e||null}(this._rawAsyncValidators)}}class Nc extends Ef{constructor(n,t,r){super(E1(t),x1(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){gx(this,0,n),Object.keys(n).forEach(r=>{px(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class mx extends Nc{}const ja=new pe("CallSetDisabledState",{providedIn:"root",factory:()=>xf}),xf="always";function Rc(e,n,t=xf){b1(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function O5(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&yx(e,n)})}(e,n),function L5(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function P5(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&yx(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function R5(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Af(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),If(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Df(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function b1(e,n){const t=ax(e);null!==n.validator?e.setValidators(sx(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=lx(e);null!==n.asyncValidator?e.setAsyncValidators(sx(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Df(n._rawValidators,i),Df(n._rawAsyncValidators,i)}function If(e,n){let t=!1;if(null!==e){if(null!==n.validator){const i=ax(e);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==n.validator);s.length!==i.length&&(t=!0,e.setValidators(s))}}if(null!==n.asyncValidator){const i=lx(e);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==n.asyncValidator);s.length!==i.length&&(t=!0,e.setAsyncValidators(s))}}}const r=()=>{};return Df(n._rawValidators,r),Df(n._rawAsyncValidators,r),t}function yx(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function wx(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function _x(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Pc=class extends Ef{constructor(n=null,t,r){super(E1(t),x1(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_f(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=_x(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){wx(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){wx(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){_x(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let za=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ve({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const G5={provide:Oi,useExisting:Ct(()=>T1),multi:!0};let T1=(()=>{class e extends ys{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Mn(e)))(r||e)}}(),e.\u0275dir=ve({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&Ce("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Vt([G5]),At]}),e})(),Dx=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=nr({}),e})();const M1=new pe("NgModelWithFormControlWarning"),X5={provide:Kn,useExisting:Ct(()=>ko)};let ko=(()=>{class e extends Kn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(If(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Rc(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Af(t.control||null,t,!1),function V5(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Cx(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Af(r||null,t),(e=>e instanceof Pc)(i)&&(Rc(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function vx(e,n){b1(e,n)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function F5(e,n){return If(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){b1(this.form,this),this._oldForm&&If(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(W(zn,10),W(Lo,10),W(ja,8))},e.\u0275dir=ve({type:e,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Ce("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vt([X5]),At,Nr]}),e})();const K5={provide:Fo,useExisting:Ct(()=>vs)};let vs=(()=>{class e extends Fo{set isDisabled(t){}constructor(t,r,i,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new Qt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function I1(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(s=>{s.constructor===Oo?t=s:function B5(e){return Object.getPrototypeOf(e.constructor)===ys}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function D1(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function bf(e,n){return[...n.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)(W(Kn,13),W(zn,10),W(Lo,10),W(Oi,10),W(M1,8))},e.\u0275dir=ve({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Vt([K5]),At,Nr]}),e})();const J5={provide:Oi,useExisting:Ct(()=>Lc),multi:!0};function Nx(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let Lc=(()=>{class e extends ys{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Nx(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function eL(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Mn(e)))(r||e)}}(),e.\u0275dir=ve({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&Ce("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vt([J5]),At]}),e})(),O1=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Nx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(W(wr),W($i),W(Lc,9))},e.\u0275dir=ve({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const tL={provide:Oi,useExisting:Ct(()=>P1),multi:!0};function Rx(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let P1=(()=>{class e extends ys{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,c)=>{s._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const c=s;for(let h=0;h<c.length;h++){const m=this._getOptionValue(c[h].value);i.push(m)}}else{const c=r.options;for(let h=0;h<c.length;h++){const g=c[h];if(g.selected){const m=this._getOptionValue(g.value);i.push(m)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function nL(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Mn(e)))(r||e)}}(),e.\u0275dir=ve({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&Ce("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vt([tL]),At]}),e})(),L1=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Rx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Rx(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(W(wr),W($i),W(P1,9))},e.\u0275dir=ve({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),dL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=nr({imports:[Dx]}),e})();class jx extends Ef{constructor(n,t,r){super(E1(t),x1(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){gx(this,0,n),n.forEach((r,i)=>{px(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function zx(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let Fc=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return zx(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Nc(i,s)}record(t,r=null){const i=this._reduceControls(t);return new mx(i,r)}control(t,r,i){let s={};return this.useNonNullable?(zx(r)?s=r:(s.validators=r,s.asyncValidators=i),new Pc(t,{...s,nonNullable:!0})):new Pc(t,r,i)}array(t,r,i){const s=t.map(c=>this._createControl(c));return new jx(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Pc||t instanceof Ef?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),fL=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:M1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ja,useValue:t.callSetDisabledState??xf}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=nr({imports:[dL]}),e})();class Gx{static cpf(n){if(!n.value)return null;var t=n.value.replace(/\./g,"").replace(/\-/g,"");const r=t.length;if(!Number(t)||11!=r)return{cpf:!0};const i=t.split(""),s=i.slice(0,9);var w,c=0,h=0,g=11;for(let E in s)c+=Number(s[E])*(g-1),h+=Number(s[E])*g,g-=1;return w=(h+=2*Number(i[9]))%11<2?0:11-h%11,(c%11<2?0:11-c%11)!=Number(i[9])||w!=Number(i[10])?{cpf:!0}:void 0}}class Wx{static cep(n){return 8!=n.value.replace(/\./g,"").replace(/\-/g,"").length?{cep:!0}:null}}class hL{static username(n){var t=n.value;return t.indexOf(" ")>0||/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(t)?{username:!0}:null}}class pL{static password(n){var t=n.value;return t.indexOf(" ")>0||!/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(t)||t.length<8?{username:!0}:null}}let gL=(()=>{class e{constructor(t){this.http=t,this.urls=new Sr,this.estados=[{sigla:"",nome:""},{sigla:"AC",nome:"Acre"},{sigla:"AL",nome:"Alagoas"},{sigla:"AM",nome:"Amazonas"},{sigla:"AP",nome:"Amap\xe1"},{sigla:"BA",nome:"Bahia"},{sigla:"CE",nome:"Cear\xe1"},{sigla:"DF",nome:"Distrito Federal"},{sigla:"ES",nome:"Esp\xedrito Santo"},{sigla:"GO",nome:"Goi\xe1s"},{sigla:"MA",nome:"Maranh\xe3o"},{sigla:"MG",nome:"Minas Gerais"},{sigla:"MS",nome:"Mato Grosso do Sul"},{sigla:"MT",nome:"Mato Grosso"},{sigla:"PA",nome:"Par\xe1"},{sigla:"PB",nome:"Para\xedba"},{sigla:"PE",nome:"Pernambuco"},{sigla:"PI",nome:"Piau\xed"},{sigla:"PR",nome:"Paran\xe1"},{sigla:"RJ",nome:"Rio de Janeiro"},{sigla:"RN",nome:"Rio Grande do Norte"},{sigla:"RO",nome:"Rond\xf4nia"},{sigla:"RR",nome:"Roraima"},{sigla:"RS",nome:"Rio Grande do Sul"},{sigla:"SC",nome:"Santa Catarina"},{sigla:"SE",nome:"Sergipe"},{sigla:"SP",nome:"S\xe3o Paulo"},{sigla:"TO",nome:"Tocantins"}]}registerNewUser(t){return this.http.post(this.urls.register,{username:t.username,email:t.email,password1:t.senha,password2:t.confSenha,cep:t.cep,cpf:t.cpf,address_street:t.rua,address_state:this.estados[t.uf].sigla,address_city:t.cidade,birth_date:t.data_nascimento,first_name:t.nome,last_name:t.sobrenome,is_terms_accepted:t.termos})}}return e.\u0275fac=function(t){return new(t||e)(ne(jn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function mL(e,n){1&e&&(b(0,"div",48),D(1," O nome de usu\xe1rio deve conter apenas letras e n\xfameros. "),x())}function yL(e,n){1&e&&(b(0,"div",48),D(1," O campo de nome n\xe3o pode estar vazio. "),x())}function vL(e,n){1&e&&(b(0,"div",48),D(1," O campo de sobrenome n\xe3o pode estar vazio. "),x())}function CL(e,n){1&e&&(b(0,"div",48),D(1," A senha deve conter: "),b(2,"ul")(3,"li"),D(4,"A senha deve conter letras e n\xfameros"),x(),b(5,"li"),D(6,"Pelo menos um Caractere Especial (@,!. etc)"),x(),b(7,"li"),D(8,"No m\xednimo 8 d\xedgitos"),x(),b(9,"li"),D(10,"No m\xe1ximo 20 d\xedgitos"),x()()())}function wL(e,n){1&e&&(b(0,"div",48),D(1," As senhas digitadas n\xe3o coincidem. "),x())}function _L(e,n){1&e&&(b(0,"div",48),D(1," Por favor, digite um e-mail v\xe1lido. "),x())}function EL(e,n){1&e&&(b(0,"div",48),D(1," Por favor, digite um CPF v\xe1lido. "),x())}function xL(e,n){1&e&&(b(0,"div",48),D(1," Digite um CEP v\xe1lido. "),x())}function bL(e,n){1&e&&(b(0,"div",48),D(1," Selecione sua data de Nascimento. "),x())}function AL(e,n){1&e&&(b(0,"div",48),D(1," Digite uma Cidade. "),x())}function DL(e,n){1&e&&(b(0,"div",48),D(1," Digite um Logradouro. "),x())}function IL(e,n){if(1&e&&(b(0,"option",49),D(1),x()),2&e){const t=n.$implicit;bn("value",n.index),R(1),qe(" ",t.sigla," ")}}function SL(e,n){1&e&&(b(0,"div",48),D(1," Selecione um estado. "),x())}function TL(e,n){1&e&&(b(0,"div",50),D(1," Um e-mail de verifica\xe7\xe3o foi enviado! Verifique sua caixa de entrada. "),x())}function ML(e,n){1&e&&(b(0,"div",51),D(1," O e-mail fornecido j\xe1 foi registrado! Verifique sua caixa de entrada. "),x())}function NL(e,n){1&e&&(b(0,"div",51),D(1," O nome de usu\xe1rio j\xe1 est\xe1 cadastrado, por favor, escolha outro nome. "),x())}const Tr=function(e,n){return{"is-invalid":e,"is-valid":n}};function RL(e,n){if(1&e){const t=lt();Qr(),Co(),b(0,"form",5),Ce("ngSubmit",function(){return We(t),$e(ie().onSubmit())}),b(1,"div",6)(2,"div",7),D(3,"Cadastro de Usu\xe1rio"),x()(),b(4,"div",6)(5,"div",8)(6,"label",9),D(7,"Nome de Usu\xe1rio"),x(),le(8,"input",10),q(9,mL,2,0,"div",11),x(),b(10,"div",8)(11,"label",12),D(12,"Nome"),x(),le(13,"input",13),q(14,yL,2,0,"div",11),x(),b(15,"div",8)(16,"label",14),D(17,"Sobrenome"),x(),le(18,"input",15),q(19,vL,2,0,"div",11),x()(),b(20,"div",6)(21,"div",16)(22,"label",17),D(23,"Senha"),x(),le(24,"input",18),q(25,CL,11,0,"div",11),x(),b(26,"div",16)(27,"label",19),D(28,"Confirma\xe7\xe3o de Senha"),x(),le(29,"input",20),q(30,wL,2,0,"div",11),x(),b(31,"div",16)(32,"label",21),D(33,"E-mail"),x(),le(34,"input",22),q(35,_L,2,0,"div",11),x(),b(36,"div",16)(37,"label",23),D(38,"CPF"),x(),le(39,"input",24),q(40,EL,2,0,"div",11),x()(),b(41,"div",6)(42,"div",25)(43,"label",26),D(44,"CEP"),x(),le(45,"input",27),q(46,xL,2,0,"div",11),x(),b(47,"div",25)(48,"label",28),D(49,"Data de Nascimento:"),x(),le(50,"input",29),q(51,bL,2,0,"div",11),x(),b(52,"div",16)(53,"label",30),D(54,"Cidade"),x(),le(55,"input",31),q(56,AL,2,0,"div",11),x(),b(57,"div",16)(58,"label",32),D(59,"Rua"),x(),le(60,"input",33),q(61,DL,2,0,"div",11),x(),b(62,"div",25)(63,"label",34),D(64,"UF"),x(),b(65,"select",35),q(66,IL,2,2,"option",36),x(),q(67,SL,2,0,"div",11),x()(),b(68,"div",37)(69,"div",38)(70,"div",39),le(71,"input",40),b(72,"label",41),D(73," Concordo com os "),b(74,"a",42),Ce("click",function(){return We(t),$e(ie().termsandconditions())}),D(75,"Termos e Condi\xe7\xf5es"),x(),D(76,". "),x()()()(),b(77,"div",43)(78,"div",44),q(79,TL,2,0,"div",45),q(80,ML,2,0,"div",46),q(81,NL,2,0,"div",46),b(82,"button",47),Ce("click",function(){return We(t),$e(ie().salvar())}),D(83," Cadastrar "),x()()()()}if(2&e){const t=ie();let r,i,s,c,h,g,m,w,E,S,N,F,L,H,$,V,ee,ge,me,yt,An,oo,ur,Wa,Br;k("formGroup",t.form),R(8),k("ngClass",Yt(31,Tr,(null==(r=t.form.get("username"))?null:r.invalid)&&((null==(r=t.form.get("username"))?null:r.touched)||(null==(r=t.form.get("username"))?null:r.dirty)),(null==(r=t.form.get("username"))?null:r.valid)&&((null==(r=t.form.get("username"))?null:r.touched)||(null==(r=t.form.get("username"))?null:r.dirty)))),R(1),k("ngIf",(null==(i=t.form.get("username"))?null:i.invalid)&&((null==(i=t.form.get("username"))?null:i.touched)||(null==(i=t.form.get("username"))?null:i.dirty))),R(4),k("ngClass",Yt(34,Tr,(null==(s=t.form.get("nome"))?null:s.invalid)&&((null==(s=t.form.get("nome"))?null:s.touched)||(null==(s=t.form.get("nome"))?null:s.dirty)),(null==(s=t.form.get("nome"))?null:s.valid)&&((null==(s=t.form.get("nome"))?null:s.touched)||(null==(s=t.form.get("nome"))?null:s.dirty)))),R(1),k("ngIf",(null==(c=t.form.get("nome"))?null:c.invalid)&&((null==(c=t.form.get("nome"))?null:c.touched)||(null==(c=t.form.get("nome"))?null:c.dirty))),R(4),k("ngClass",Yt(37,Tr,(null==(h=t.form.get("sobrenome"))?null:h.invalid)&&((null==(h=t.form.get("sobrenome"))?null:h.touched)||(null==(h=t.form.get("sobrenome"))?null:h.dirty)),(null==(h=t.form.get("sobrenome"))?null:h.valid)&&((null==(h=t.form.get("sobrenome"))?null:h.touched)||(null==(h=t.form.get("sobrenome"))?null:h.dirty)))),R(1),k("ngIf",(null==(g=t.form.get("sobrenome"))?null:g.invalid)&&((null==(g=t.form.get("sobrenome"))?null:g.touched)||(null==(g=t.form.get("sobrenome"))?null:g.dirty))),R(5),k("ngClass",Yt(40,Tr,(null==(m=t.form.get("senha"))?null:m.invalid)&&((null==(m=t.form.get("senha"))?null:m.touched)||(null==(m=t.form.get("senha"))?null:m.dirty)),(null==(m=t.form.get("senha"))?null:m.valid)&&((null==(m=t.form.get("senha"))?null:m.touched)||(null==(m=t.form.get("senha"))?null:m.dirty)))),R(1),k("ngIf",(null==(w=t.form.get("senha"))?null:w.invalid)&&!(null!=(w=t.form.get("senha"))&&null!=w.errors&&w.errors.maxlength)&&!(null!=(w=t.form.get("senha"))&&null!=w.errors&&w.errors.minlength)),R(4),k("ngClass",Yt(43,Tr,(null==(E=t.form.get("confSenha"))?null:E.invalid)&&((null==(E=t.form.get("confSenha"))?null:E.touched)||(null==(E=t.form.get("confSenha"))?null:E.dirty)),(null==(E=t.form.get("confSenha"))?null:E.valid)&&((null==(E=t.form.get("confSenha"))?null:E.touched)||(null==(E=t.form.get("confSenha"))?null:E.dirty)))),R(1),k("ngIf",(null==(S=t.form.get("confSenha"))?null:S.invalid)&&!(null!=(S=t.form.get("confSenha"))&&null!=S.errors&&S.errors.maxlength)&&!(null!=(S=t.form.get("confSenha"))&&null!=S.errors&&S.errors.minlength)),R(4),k("ngClass",Yt(46,Tr,(null==(N=t.form.get("email"))?null:N.invalid)&&((null==(N=t.form.get("email"))?null:N.touched)||(null==(N=t.form.get("email"))?null:N.dirty)),(null==(N=t.form.get("email"))?null:N.valid)&&((null==(N=t.form.get("email"))?null:N.touched)||(null==(N=t.form.get("email"))?null:N.dirty)))),R(1),k("ngIf",(null==(F=t.form.get("email"))?null:F.invalid)&&((null==(F=t.form.get("email"))?null:F.touched)||(null==(F=t.form.get("email"))?null:F.dirty))),R(4),k("ngClass",Yt(49,Tr,(null==(L=t.form.get("cpf"))?null:L.invalid)&&((null==(L=t.form.get("cpf"))?null:L.touched)||(null==(L=t.form.get("cpf"))?null:L.dirty)),(null==(L=t.form.get("cpf"))?null:L.valid)&&((null==(L=t.form.get("cpf"))?null:L.touched)||(null==(L=t.form.get("cpf"))?null:L.dirty)))),R(1),k("ngIf",(null==(H=t.form.get("cpf"))?null:H.invalid)&&((null==(H=t.form.get("cpf"))?null:H.touched)||(null==(H=t.form.get("cpf"))?null:H.dirty))),R(5),k("ngClass",Yt(52,Tr,(null==($=t.form.get("cep"))?null:$.invalid)&&((null==($=t.form.get("cep"))?null:$.touched)||(null==($=t.form.get("cep"))?null:$.dirty)),(null==($=t.form.get("cep"))?null:$.valid)&&((null==($=t.form.get("cep"))?null:$.touched)||(null==($=t.form.get("cep"))?null:$.dirty)))),R(1),k("ngIf",(null==(V=t.form.get("cep"))?null:V.invalid)&&((null==(V=t.form.get("cep"))?null:V.touched)||(null==(V=t.form.get("cep"))?null:V.dirty))),R(4),k("ngClass",Yt(55,Tr,(null==(ee=t.form.get("data_nascimento"))?null:ee.invalid)&&((null==(ee=t.form.get("data_nascimento"))?null:ee.touched)||(null==(ee=t.form.get("data_nascimento"))?null:ee.dirty)),(null==(ee=t.form.get("data_nascimento"))?null:ee.valid)&&((null==(ee=t.form.get("data_nascimento"))?null:ee.touched)||(null==(ee=t.form.get("data_nascimento"))?null:ee.dirty)))),R(1),k("ngIf",(null==(ge=t.form.get("data_nascimento"))?null:ge.invalid)&&((null==(ge=t.form.get("data_nascimento"))?null:ge.touched)||(null==(ge=t.form.get("data_nascimento"))?null:ge.dirty))),R(4),k("ngClass",Yt(58,Tr,(null==(me=t.form.get("cidade"))?null:me.invalid)&&((null==(me=t.form.get("cidade"))?null:me.touched)||(null==(me=t.form.get("cidade"))?null:me.dirty)),(null==(me=t.form.get("cidade"))?null:me.valid)&&((null==(me=t.form.get("cidade"))?null:me.touched)||(null==(me=t.form.get("cidade"))?null:me.dirty)))),R(1),k("ngIf",(null==(yt=t.form.get("cidade"))?null:yt.invalid)&&((null==(yt=t.form.get("cidade"))?null:yt.touched)||(null==(yt=t.form.get("cidade"))?null:yt.dirty))),R(4),k("ngClass",Yt(61,Tr,(null==(An=t.form.get("rua"))?null:An.invalid)&&((null==(An=t.form.get("rua"))?null:An.touched)||(null==(An=t.form.get("rua"))?null:An.dirty)),(null==(An=t.form.get("rua"))?null:An.valid)&&((null==(An=t.form.get("rua"))?null:An.touched)||(null==(An=t.form.get("rua"))?null:An.dirty)))),R(1),k("ngIf",(null==(oo=t.form.get("rua"))?null:oo.invalid)&&((null==(oo=t.form.get("rua"))?null:oo.touched)||(null==(oo=t.form.get("rua"))?null:oo.dirty))),R(4),k("ngClass",Yt(64,Tr,(null==(ur=t.form.get("uf"))?null:ur.invalid)&&((null==(ur=t.form.get("uf"))?null:ur.touched)||(null==(ur=t.form.get("uf"))?null:ur.dirty)),(null==(ur=t.form.get("uf"))?null:ur.valid)&&((null==(ur=t.form.get("uf"))?null:ur.touched)||(null==(ur=t.form.get("uf"))?null:ur.dirty)))),R(1),k("ngForOf",t.estados),R(1),k("ngIf",(null==(Wa=t.form.get("uf"))?null:Wa.invalid)&&((null==(Wa=t.form.get("uf"))?null:Wa.touched)||(null==(Wa=t.form.get("uf"))?null:Wa.dirty))),R(4),k("ngClass",Yt(67,Tr,(null==(Br=t.form.get("termos"))?null:Br.invalid)&&((null==(Br=t.form.get("termos"))?null:Br.touched)||(null==(Br=t.form.get("termos"))?null:Br.dirty)),(null==(Br=t.form.get("termos"))?null:Br.valid)&&((null==(Br=t.form.get("termos"))?null:Br.touched)||(null==(Br=t.form.get("termos"))?null:Br.dirty)))),R(8),k("ngIf",t.verifyEmailSent),R(1),k("ngIf",t.emailAlreadyRegistered),R(1),k("ngIf",t.usernameAlreadyRegistered),R(1),k("disabled",t.buttonDisable)}}function OL(e,n){if(1&e){const t=lt();Qr(),Co(),b(0,"div",52)(1,"h1",53),D(2,"Termos e Condi\xe7\xf5es do Jogo Duck GO!"),x(),b(3,"p"),D(4," Ao se cadastrar no Duck GO! e utilizar nossos servi\xe7os, voc\xea concorda com os seguintes termos e condi\xe7\xf5es: "),x(),b(5,"h2",54),D(6,"Cadastro"),x(),b(7,"ul",55)(8,"li",56),D(9," O usu\xe1rio deve fornecer informa\xe7\xf5es verdadeiras e atualizadas ao se registrar. "),x(),b(10,"li",56),D(11," \xc9 proibida a cria\xe7\xe3o de contas com informa\xe7\xf5es falsas ou de terceiros. "),x(),b(12,"li",56),D(13," A senha criada no cadastro \xe9 de responsabilidade exclusiva do usu\xe1rio. O Duck GO! n\xe3o se responsabiliza por acessos indevidos resultantes de compartilhamento, perda ou roubo de senhas. "),x(),b(14,"li",56),D(15," O endere\xe7o de e-mail fornecido ser\xe1 usado para comunica\xe7\xf5es oficiais do Duck GO! "),x()(),b(16,"h2",54),D(17,"Explora\xe7\xe3o dos Locais de Ca\xe7a"),x(),b(18,"p"),D(19," Os pontos tur\xedsticos listados s\xe3o apenas sugest\xf5es de locais para a ca\xe7a de QR Codes. O Duck GO! n\xe3o se responsabiliza por qualquer incidente ou problema que possa ocorrer nesses locais. "),x(),b(20,"h2",54),D(21,"Ca\xe7a aos QR Codes e Pontua\xe7\xf5es"),x(),b(22,"ul",55)(23,"li",56),D(24," O usu\xe1rio deve estar ciente de seu ambiente ao procurar e escanear os QR Codes para garantir sua seguran\xe7a e a dos demais. "),x(),b(25,"li",56),D(26," QR Codes danificados, alterados ou reproduzidos de fontes n\xe3o oficiais do jogo n\xe3o ser\xe3o v\xe1lidos. "),x(),b(27,"li",56),D(28," A pontua\xe7\xe3o ser\xe1 atribu\xedda apenas quando o usu\xe1rio estiver conectado \xe0 sua conta. "),x()(),b(29,"h2",54),D(30,"Resgate de Pontos"),x(),b(31,"ul",55)(32,"li",56),D(33,"Os pontos s\xe3o pessoais e intransfer\xedveis."),x(),b(34,"li",56),D(35," Os pontos acumulados t\xeam validade de 1 ano a partir da data em que foram adquiridos. "),x(),b(36,"li",56),D(37," O Duck GO! reserva-se o direito de alterar ou encerrar programas de recompensa a qualquer momento, com aviso pr\xe9vio de 30 dias. "),x()(),b(38,"h2",54),D(39,"Restri\xe7\xf5es e Limita\xe7\xf5es"),x(),b(40,"ul",55)(41,"li",56),D(42," Os usu\xe1rios s\xf3 podem escanear um novo QR Code a cada 5 minutos. "),x(),b(43,"li",56),D(44," Existe um limite m\xe1ximo de 30 pontos que podem ser ganhos por semana. "),x(),b(45,"li",56),D(46," O Duck GO! pode implementar medidas de preven\xe7\xe3o contra atividades fraudulentas e pode suspender ou banir usu\xe1rios que violem essas regras. "),x()(),b(47,"h2",54),D(48,"Responsabilidades e Indeniza\xe7\xf5es"),x(),b(49,"ul",55)(50,"li",56),D(51," O Duck GO! n\xe3o se responsabiliza por qualquer dano, les\xe3o ou preju\xedzo que os usu\xe1rios possam sofrer ao jogar. "),x(),b(52,"li",56),D(53," Os usu\xe1rios concordam em indenizar e isentar o Duck GO! de quaisquer reivindica\xe7\xf5es ou demandas resultantes de neglig\xeancia, atos ou omiss\xf5es do usu\xe1rio, ou viola\xe7\xf5es destes termos. "),x()(),b(54,"h2",54),D(55,"Mudan\xe7as nos Termos e Condi\xe7\xf5es"),x(),b(56,"p"),D(57," O Duck GO! reserva-se o direito de alterar estes termos e condi\xe7\xf5es a qualquer momento, com aviso pr\xe9vio de 30 dias. "),x(),b(58,"div",57),D(59,' Ao clicar em "Cadastrar", voc\xea confirma que leu, entendeu e aceita os termos e condi\xe7\xf5es acima. '),x(),b(60,"div",6)(61,"div",58)(62,"a",59),Ce("click",function(){return We(t),$e(ie().accept())}),D(63,"Aceitar"),x()(),b(64,"div",58)(65,"a",60),Ce("click",function(){return We(t),$e(ie().recuse())}),D(66,"Recusar"),x()()()()}}let PL=(()=>{class e{constructor(t,r,i,s){this.formBuilder=t,this.http=r,this.router=i,this.api=s,this.isDisabled=!0,this.verifyEmailSent=!1,this.emailAlreadyRegistered=!1,this.usernameAlreadyRegistered=!1,this.buttonDisable=!1,this.showTerms=!1,this.estados=[{sigla:"",nome:""},{sigla:"AC",nome:"Acre"},{sigla:"AL",nome:"Alagoas"},{sigla:"AM",nome:"Amazonas"},{sigla:"AP",nome:"Amap\xe1"},{sigla:"BA",nome:"Bahia"},{sigla:"CE",nome:"Cear\xe1"},{sigla:"DF",nome:"Distrito Federal"},{sigla:"ES",nome:"Esp\xedrito Santo"},{sigla:"GO",nome:"Goi\xe1s"},{sigla:"MA",nome:"Maranh\xe3o"},{sigla:"MG",nome:"Minas Gerais"},{sigla:"MS",nome:"Mato Grosso do Sul"},{sigla:"MT",nome:"Mato Grosso"},{sigla:"PA",nome:"Par\xe1"},{sigla:"PB",nome:"Para\xedba"},{sigla:"PE",nome:"Pernambuco"},{sigla:"PI",nome:"Piau\xed"},{sigla:"PR",nome:"Paran\xe1"},{sigla:"RJ",nome:"Rio de Janeiro"},{sigla:"RN",nome:"Rio Grande do Norte"},{sigla:"RO",nome:"Rond\xf4nia"},{sigla:"RR",nome:"Roraima"},{sigla:"RS",nome:"Rio Grande do Sul"},{sigla:"SC",nome:"Santa Catarina"},{sigla:"SE",nome:"Sergipe"},{sigla:"SP",nome:"S\xe3o Paulo"},{sigla:"TO",nome:"Tocantins"}]}ngOnInit(){this.form=this.formBuilder.group({email:["",[ze.required,ze.email]],username:["",[ze.required,hL.username]],nome:["",[ze.required]],sobrenome:["",[ze.required]],senha:["",[ze.required,ze.minLength(8),ze.maxLength(20),pL.password]],confSenha:["",ze.required],cpf:["",[ze.required,Gx.cpf]],cep:["",[ze.required,Wx.cep]],rua:["",[ze.required]],cidade:["",[ze.required]],uf:["",[ze.required]],data_nascimento:["",[ze.required]],termos:["",ze.requiredTrue]}),this.subscribeForms(),this.form.controls.cidade.disable(),this.form.controls.rua.disable(),this.form.controls.uf.disable()}subscribeForms(){this.form.get("cep")?.valueChanges.subscribe(t=>{this.form.get("cep")?.valid&&this.http.get("https://viacep.com.br/ws/"+t+"/json/").subscribe(r=>{if(r.erro)return this.form.get("cep")?.setErrors({incorrect:!0}),this.form.get("rua").setValue("",{emitEvent:!1}),this.form.get("cidade").setValue("",{emitEvent:!1}),this.form.get("uf").setValue("",{emitEvent:!1}),this.form.controls.cidade.disable(),this.form.controls.rua.disable(),void this.form.controls.uf.disable();if(this.form.controls.cidade.enable(),this.form.controls.rua.enable(),this.form.controls.uf.enable(),r?.localidade&&(this.form.get("cidade").setValue(r?.localidade,{emitEvent:!1}),this.form.controls.cidade.disable(),this.form.get("cidade")?.updateValueAndValidity({emitEvent:!1})),r?.logradouro&&(this.form.get("rua").setValue(r?.logradouro,{emitEvent:!1}),this.form.controls.rua.disable(),this.form.get("rua")?.updateValueAndValidity({emitEvent:!1})),r?.uf){let i=this.estados.find(s=>s.sigla===r?.uf);this.form.get("uf").setValue(this.estados.indexOf(i),{emitEvent:!1}),this.form.controls.uf.disable()}})}),this.form.get("confSenha")?.valueChanges.subscribe(t=>{t==this.form.get("senha").value||this.form.get("confSenha")?.setErrors({incorrect:!0})})}salvar(){this.form.invalid&&this.form.markAllAsTouched()}onSubmit(){this.form?.valid&&(this.buttonDisable=!0,this.api.registerNewUser(this.form.getRawValue()).subscribe({error:t=>{this.buttonDisable=!1,this.emailAlreadyRegistered=!1,this.usernameAlreadyRegistered=!1,t.error.email&&(this.emailAlreadyRegistered=!0,this.form.get("email")?.setErrors({incorrect:!0})),t.error.username&&(this.usernameAlreadyRegistered=!0,this.form.get("username")?.setErrors({incorrect:!0}))},complete:()=>{this.verifyEmailSent=!0,this.emailAlreadyRegistered=!1,this.usernameAlreadyRegistered=!1,this.form.disable(),this.buttonDisable=!0,setTimeout(()=>{this.router.navigate(["login"])},3e3)}}))}termsandconditions(){this.showTerms=!0}accept(){this.showTerms=!1,this.form.get("termos").setValue(!0,{emitEvent:!1})}recuse(){this.showTerms=!1,this.form.get("termos").setValue(!1,{emitEvent:!1})}}return e.\u0275fac=function(t){return new(t||e)(W(Fc),W(jn),W(Ut),W(gL))},e.\u0275cmp=G({type:e,selectors:[["app-register"]],decls:5,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg",1,"d-none"],["id","check-circle-fill","viewBox","0 0 16 16"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"],["action","","class","container mt-1 px-5 px-5 py-3",3,"formGroup","ngSubmit",4,"ngIf"],["class","container mt-5",4,"ngIf"],["action","",1,"container","mt-1","px-5","px-5","py-3",3,"formGroup","ngSubmit"],[1,"row"],[1,"col","h2","text-center","pb-5"],[1,"col-md-4"],["for","username",1,"form-label"],["id","username","name","username","type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","nome",1,"form-label"],["id","nome","name","nome","type","text","formControlName","nome",1,"form-control",3,"ngClass"],["for","sobrenome",1,"form-label"],["id","sobrenome","name","sobrenome","type","text","formControlName","sobrenome",1,"form-control",3,"ngClass"],[1,"col-md-3"],["for","senha",1,"form-label"],["id","senha","type","password","formControlName","senha",1,"form-control",3,"ngClass"],["for","confSenha",1,"form-label"],["id","confSenha","type","password","formControlName","confSenha",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["id","email","name","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","cpf",1,"form-label"],["id","cpf","name","cpf","type","cpf","formControlName","cpf",1,"form-control",3,"ngClass"],[1,"col-md-2"],["for","cep",1,"form-label"],["type","text","name","cep","id","cep","formControlName","cep",1,"form-control",3,"ngClass"],["for","data_nascimento",1,"form-label"],["type","date","name","data_nascimento","id","data_nascimento","formControlName","data_nascimento",1,"form-control",3,"ngClass"],["for","cidade",1,"form-label"],["type","text","name","cidade","id","cidade","formControlName","cidade",1,"form-control",3,"ngClass"],["for","rua",1,"form-label"],["type","text","name","rua","id","rua","formControlName","rua",1,"form-control",3,"ngClass"],["for","uf",1,"form-label"],["title","UF","name","uf","id","uf","formControlName","uf",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"col"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault","formControlName","termos",1,"form-check-input",3,"ngClass"],["for","flexCheckDefault",1,"form-check-label"],["id","terms-link",1,"link-underline-primary",3,"click"],[1,"row","my-3"],[1,"col-md","d-flex","justify-content-center","flex-column"],["class","alert alert-success h-25 d-flex align-items-center","role","alert",4,"ngIf"],["class","alert alert-danger h-25 d-flex align-items-center","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-success","w-md-50","w-100","h-md-50","mt-2","mt-md-0",3,"disabled","click"],[1,"invalid-feedback"],[3,"value"],["role","alert",1,"alert","alert-success","h-25","d-flex","align-items-center"],["role","alert",1,"alert","alert-danger","h-25","d-flex","align-items-center"],[1,"container","mt-5"],[1,"mb-4"],[1,"mt-4"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["role","alert",1,"alert","alert-info","mt-4"],[1,"col","d-flex","justify-content-center"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(Qr(),b(0,"svg",0)(1,"symbol",1),le(2,"path",2),x()(),q(3,RL,84,70,"form",3),q(4,OL,67,0,"div",4)),2&t&&(R(3),k("ngIf",!r.showTerms),R(1),k("ngIf",r.showTerms))},dependencies:[eo,us,cr,za,O1,L1,Oo,m1,Lc,Va,Ua,ko,vs],styles:["#terms-link[_ngcontent-%COMP%]{cursor:pointer}"]}),e})(),$x=(()=>{class e{constructor(t){this.http=t,this.urls=new Sr,this.httpHeaders=new Ir({"Content-Type":"application/json"})}Login(t){return this.http.post(this.urls.login,{username:"",email:t.email,password:t.senha})}resendEmail(t){return this.http.post(this.urls.resend,{email:t.email})}}return e.\u0275fac=function(t){return new(t||e)(ne(jn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function LL(e,n){1&e&&(b(0,"div",18),D(1," E-mail n\xe3o cadastrado. "),x())}function FL(e,n){1&e&&(b(0,"div",18),D(1," Senha inv\xe1lida. "),x())}function kL(e,n){if(1&e){const t=lt();b(0,"div",19)(1,"span"),D(2,"E-mail n\xe3o verificado. "),b(3,"a",20),Ce("click",function(){return We(t),$e(ie(2).redirect())}),D(4,"Gostaria de reenviar o e-mail de verific\xe3o?"),x()()()}}function BL(e,n){1&e&&(b(0,"div",19),D(1," Usu\xe1rio ou senha incorretos "),x())}function VL(e,n){1&e&&(b(0,"div",21),D(1," Login feito com sucesso! "),x())}const qx=function(e){return{"is-invalid":e}};function UL(e,n){if(1&e){const t=lt();b(0,"div",2)(1,"div",3),le(2,"div",4),b(3,"div",5)(4,"div",6)(5,"h5",7),D(6,"Login"),x(),b(7,"div",8)(8,"form",9),Ce("ngSubmit",function(){return We(t),$e(ie().onSubmit())}),b(9,"label",10),D(10,"E-mail"),x(),le(11,"input",11),q(12,LL,2,0,"div",12),b(13,"label",13),D(14,"Senha"),x(),le(15,"input",14),q(16,FL,2,0,"div",12),q(17,kL,5,0,"div",15),q(18,BL,2,0,"div",15),q(19,VL,2,0,"div",16),b(20,"button",17),D(21," Entrar "),x()()()()()()()}if(2&e){const t=ie();let r,i,s,c;R(8),k("formGroup",t.login),R(3),k("ngClass",dn(9,qx,(null==(r=t.login.get("email"))?null:r.invalid)&&((null==(r=t.login.get("email"))?null:r.touched)||(null==(r=t.login.get("email"))?null:r.dirty)))),R(1),k("ngIf",(null==(i=t.login.get("email"))?null:i.invalid)&&((null==(i=t.login.get("email"))?null:i.touched)||(null==(i=t.login.get("email"))?null:i.dirty))),R(3),k("ngClass",dn(11,qx,(null==(s=t.login.get("senha"))?null:s.invalid)&&((null==(s=t.login.get("senha"))?null:s.touched)||(null==(s=t.login.get("senha"))?null:s.dirty)))),R(1),k("ngIf",null==(c=t.login.get("senha"))?null:c.invalid),R(1),k("ngIf",t.verifyEmail),R(1),k("ngIf",t.incorrect),R(1),k("ngIf",t.success),R(1),k("disabled",t.buttonDisable)}}function HL(e,n){1&e&&le(0,"router-outlet")}let jL=(()=>{class e{constructor(t,r,i,s){this.formBuilder=t,this.apiLogin=r,this.api=i,this.router=s,this.buttonDisable=!1,this.verifyEmail=!1,this.incorrect=!1,this.success=!1,this.resend=!1}ngOnInit(){this.login=this.formBuilder.group({email:["",[ze.required,ze.email]],senha:["",[ze.required]]})}onSubmit(){this.login?.valid?(this.buttonDisable=!0,this.apiLogin.Login(this.login.value).subscribe({next:t=>{this.handleLoginSuccess(t)},error:t=>{this.buttonDisable=!1,this.verifyEmail=!1,this.incorrect=!1,t.error.email&&this.login.get("email")?.setErrors({incorrect:!0}),"Unable to log in with provided credentials."==t.error.non_field_errors&&(this.login.get("password")?.setErrors({incorrect:!0}),this.incorrect=!0),"E-mail is not verified."==t.error.non_field_errors&&(this.verifyEmail=!0)},complete:()=>{this.handleLoginComplete()}})):this.login.markAllAsTouched()}handleLoginSuccess(t){localStorage.setItem("token",t.access),localStorage.setItem("refresh",t.refresh),localStorage.setItem("isVerified","true"),this.api.isPartner.next(t.user.is_partner),t.user.is_partner&&localStorage.setItem("isPartner","true")}handleLoginComplete(){this.login.disable(),this.buttonDisable=!0,this.verifyEmail=!1,this.incorrect=!1,this.success=!0,this.api.currentToken.next(localStorage.getItem("token")),this.api.isAuthenticated.subscribe({next:t=>{t&&setTimeout(()=>{this.router.navigate([""])},1e3)}})}redirect(){this.resend=!0,this.router.navigate(["/login/reenviar"])}}return e.\u0275fac=function(t){return new(t||e)(W(Fc),W($x),W(Ri),W(Ut))},e.\u0275cmp=G({type:e,selectors:[["app-login"]],decls:2,vars:2,consts:[["class","container p-4",4,"ngIf"],[4,"ngIf"],[1,"container","p-4"],[1,"row"],[1,"col-md-4"],[1,"col-md-4","col"],[1,"card"],[1,"card-header"],[1,"card-body"],["action","","action","",1,"",3,"formGroup","ngSubmit"],["for","email",1,"form-label"],["id","email","name","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","senha",1,"form-label"],["id","senha","type","password","formControlName","senha",1,"form-control",3,"ngClass"],["class","alert alert-danger d-flex align-items-center mt-3","role","alert",4,"ngIf"],["class","alert alert-success mt-3 d-flex align-items-center","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-primary","mt-2",3,"disabled"],[1,"invalid-feedback"],["role","alert",1,"alert","alert-danger","d-flex","align-items-center","mt-3"],[1,"text-danger-emphasis",2,"cursor","pointer",3,"click"],["role","alert",1,"alert","alert-success","mt-3","d-flex","align-items-center"]],template:function(t,r){1&t&&(q(0,UL,22,13,"div",0),q(1,HL,1,0,"router-outlet",1)),2&t&&(k("ngIf",!r.resend),R(1),k("ngIf",r.resend))},dependencies:[eo,cr,wc,za,Oo,Va,Ua,ko,vs]}),e})(),zL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=G({type:e,selectors:[["app-howtoplay"]],decls:58,vars:0,consts:[[1,"container","p-4"],[1,"mb-4"],[1,"mt-4"],["routerLink",""],["routerLink","/register"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"h1",1),D(2,"Como Jogar o Duck GO! - Guia do Usu\xe1rio"),x(),b(3,"p"),D(4,"Bem-vindo ao emocionante mundo do Duck GO!, o jogo de ca\xe7a aos QR Codes baseado em locais tur\xedsticos da encantadora cidade de Pato Branco! Siga o guia abaixo para aprender como se divertir e ganhar pontos enquanto explora os pontos tur\xedsticos da cidade e desfruta de brindes e descontos exclusivos no com\xe9rcio local."),x(),b(5,"h2",2),D(6,"Passo 1: Cadastro"),x(),b(7,"ol")(8,"li"),D(9,"Acesse o site oficial do "),b(10,"a",3),D(11,"Duck GO!"),x(),D(12," em seu navegador."),x(),b(13,"li"),D(14,"Clique na op\xe7\xe3o "),b(15,"a",4),D(16,"Registrar"),x(),D(17," no topo da p\xe1gina."),x(),b(18,"li"),D(19,"Preencha os campos obrigat\xf3rios com suas informa\xe7\xf5es pessoais, como nome, endere\xe7o de e-mail e senha."),x(),b(20,"li"),D(21,'Ap\xf3s preencher os campos, clique em "Cadastrar" para criar sua conta.'),x()(),b(22,"h2",2),D(23,"Passo 2: Explorando os Locais de Ca\xe7a"),x(),b(24,"ol")(25,"li"),D(26,'Navegue at\xe9 a se\xe7\xe3o "Locais de Ca\xe7a".'),x(),b(27,"li"),D(28,"Explore os diversos pontos tur\xedsticos da bela cidade de Pato Branco listados nessa se\xe7\xe3o. Cada ponto tur\xedstico estar\xe1 acompanhado de uma breve descri\xe7\xe3o."),x(),b(29,"li"),D(30,"Escolha um dos locais para come\xe7ar sua aventura de ca\xe7a aos QR Codes."),x()(),b(31,"h2",2),D(32,"Passo 3: Ca\xe7ando QR Codes e Pontua\xe7\xf5es"),x(),b(33,"ol")(34,"li"),D(35,"Uma vez no local escolhido, mantenha os olhos abertos para localizar os QR Codes escondidos. Eles estar\xe3o estrategicamente colocados ao redor do ponto tur\xedstico."),x(),b(36,"li"),D(37,"Escaneie os QR Codes usando o bot\xe3o de c\xe2mera na p\xe1gina principal do jogo. Clique no bot\xe3o e aponte a c\xe2mera para o c\xf3digo."),x(),b(38,"li"),D(39,"Cada QR Code escondido ter\xe1 uma pontua\xe7\xe3o diferente, dependendo do ponto tur\xedstico onde voc\xea o encontrou. As pontua\xe7\xf5es ser\xe3o automaticamente adicionadas \xe0 sua conta."),x()(),b(40,"h2",2),D(41,"Passo 4: Ganhe e Resgate Pontos"),x(),b(42,"ol")(43,"li"),D(44,"Acompanhe sua pontua\xe7\xe3o total na sua p\xe1gina de perfil."),x(),b(45,"li"),D(46,"Acumule pontos suficientes explorando diferentes locais de ca\xe7a."),x(),b(47,"li"),D(48,"Os pontos conquistados podem ser resgatados por meio de brindes emocionantes e descontos exclusivos no com\xe9rcio local de Pato Branco."),x()(),b(49,"h2",2),D(50,"Restri\xe7\xf5es e Limita\xe7\xf5es"),x(),b(51,"ul")(52,"li"),D(53,"Voc\xea pode escanear um novo QR Code a cada 5 minutos."),x(),b(54,"li"),D(55,"Existe um limite m\xe1ximo de 30 pontos por semana."),x(),b(56,"li"),D(57,"Certifique-se de estar conectado \xe0 sua conta ao escanear os QR Codes para garantir que os pontos sejam creditados corretamente."),x()()())},dependencies:[no]}),e})(),GL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Sf=(()=>{class e{constructor(t,r){this.http=t,this.api=r,this.urls=new Sr,this.userDataSubject=new he(null),this.userData$=this.userDataSubject.asObservable(),this.isLoadingSubject=new he(!1),this.isLoading$=this.isLoadingSubject.asObservable(),this.user=null,this.isLoading=!1}getUser(){if(this.isLoadingSubject.value)return ii(()=>console.error("Aquisi\xe7\xe3o de dados do usu\xe1rio em andamento"));const t=localStorage.getItem("token"),r=new Ir({"Content-Type":"application/json",Authorization:"Bearer "+t});return this.isLoadingSubject.next(!0),this.http.get(this.urls.user,{headers:r}).pipe(Nn(i=>{this.userDataSubject.next(i),this.isLoadingSubject.next(!1),this.user=i}),Fr(i=>(this.isLoadingSubject.next(!1),ii(()=>i))))}destroy(){this.userVerifiedSubscription&&this.userVerifiedSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(ne(jn),ne(GL))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function WL(e,n){if(1&e&&(b(0,"p",15),D(1),x()),2&e){const t=ie();R(1),qe("Pontua\xe7\xe3o Atual: ",t.total_points," Pontos")}}function $L(e,n){1&e&&(b(0,"div",11)(1,"a",16),D(2,"Hist\xf3rico"),x()())}function qL(e,n){if(1&e){const t=lt();b(0,"div",11)(1,"button",17),Ce("click",function(){return We(t),$e(ie().navigateToPartner())}),D(2,"Minha Empresa"),x()()}if(2&e){const t=ie();R(1),k("disabled",!t.partnerPage)}}const YL=function(e,n){return{"text-danger":e,"text-uppercase":n}};let XL=(()=>{class e{constructor(t,r,i,s){this.profileApi=t,this.pointsApi=r,this.api=i,this.router=s,this.partnerPage=!1}ngOnInit(){this.profileApi.getUser().subscribe({next:t=>{this.user=t},complete:()=>{this.profileApi.userData$.subscribe({next:t=>{t&&(this.user=t,t.partner_company_name_slug&&(this.partnerPage=!0),this.api.isPartner.next(t.is_partner),t.is_partner&&localStorage.setItem("isPartner","true"))}})}}),this.pointsApi.getUserHistory().subscribe({next:t=>{this.total_points=0===t.length?0:t[t.length-1].total_points},complete:()=>{}})}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}navigateToPartner(){this.router.navigate(["parceiros",this.user.partner_company_name_slug])}}return e.\u0275fac=function(t){return new(t||e)(W(Sf),W(Ba),W(Ri),W(Ut))},e.\u0275cmp=G({type:e,selectors:[["app-profile"]],decls:29,vars:11,consts:[[1,"container","p-4"],[1,"row","d-flex","justify-content-center"],[1,"col-6","col-md-2"],[1,""],[1,"img-thumbnail","rounded","float-start",3,"src"],[1,"col","col-md-5"],[1,"text-center","fw-bold","fs-5",3,"ngClass"],["class","text-center fw-bold fs-5",4,"ngIf"],[1,"col-md-6"],[1,"border","border-primary","border-2"],[1,"row"],[1,"col"],["routerLink","dados",1,"btn","btn-primary","w-100"],["class","col",4,"ngIf"],["routerLink","meus-cupons",1,"btn","btn-danger","w-100"],[1,"text-center","fw-bold","fs-5"],["routerLink","historico",1,"btn","btn-success","w-100"],[1,"btn","btn-success","w-100",3,"disabled","click"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),le(4,"img",4),x()()(),b(5,"div",1)(6,"div",5)(7,"p",6),D(8),nc(9,"titlecase"),x(),q(10,WL,2,1,"p",7),x()(),b(11,"div",1)(12,"div",8),le(13,"hr",9),x()(),b(14,"div",1)(15,"div",8)(16,"div",10)(17,"div",11)(18,"a",12),D(19,"Dados"),x()(),q(20,$L,3,0,"div",13),q(21,qL,3,1,"div",13),b(22,"div",11)(23,"a",14),D(24,"Meus Cupons"),x()()()()(),b(25,"div",1)(26,"div",8),le(27,"hr",9),x()(),le(28,"router-outlet"),x()),2&t&&(R(4),bn("src",null==r.user?null:r.user.profile_photo,Un),R(3),k("ngClass",Yt(8,YL,null==r.user?null:r.user.is_partner,null==r.user?null:r.user.is_partner)),R(1),Er(function Hv(e,n,t){const r=e+Ke,i=Z(),s=Hs(i,r);return rc(i,r)?Fv(i,$n(),n,s.transform,t,s):s.transform(t)}(9,6,null==r.user?null:r.user.username)),R(2),k("ngIf",!(null!=r.user&&r.user.is_partner)),R(10),k("ngIf",!(null!=r.user&&r.user.is_partner)),R(1),k("ngIf",null==r.user?null:r.user.is_partner))},dependencies:[eo,cr,wc,no,xw]}),e})(),ZL=(()=>{class e{constructor(t,r){this.http=t,this.profileApi=r,this.urls=new Sr,this.verified=!1,this.isLoading=!1,this.postRequest=!1}updateUserData(t,r,i){if(this.isLoading)return Ee(!1);this.postRequest=!0,this.isLoading=!0,localStorage.getItem("token");const c=new FormData;return c.append("first_name",t.nome),c.append("last_name",t.sobrenome),c.append("email",t.email),c.append("username",this.profileApi.user.username),c.append("cep",t.cep),c.append("cpf",t.cpf),c.append("address_street",t.rua),c.append("address_state",t.uf),c.append("address_city",t.cidade),c.append("birth_date",this.profileApi.user.birth_date),i&&(c.append("partner_company_name",t.empresa),c.append("partner_email_contact",t.contato_email),c.append("partner_number_contact",t.contato_numero),c.append("partner_company_description",t.descricao)),t.foto&&c.append("profile_photo",r,r.name),this.http.patch(this.urls.user,c)}}return e.\u0275fac=function(t){return new(t||e)(ne(jn),ne(Sf))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Yx=(()=>{class e{transform(t,...r){if(!t)return t;let i=t;return 10===t.length?i=`(${t.substr(0,3)}) ${t.substr(3,3)}-${t.substr(6)}`:11===t.length&&(i=`(${t.substr(0,2)}) ${t.substr(2,5)}-${t.substr(7)}`),i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=bt({name:"phone",type:e,pure:!0}),e})();function QL(e,n){1&e&&(b(0,"div",31),D(1," Dados do Usu\xe1rio: "),x())}function KL(e,n){1&e&&(b(0,"div",31),D(1," Dados da Empresa: "),x())}function JL(e,n){1&e&&(b(0,"label",32),D(1,"Nome"),x())}function e7(e,n){1&e&&(b(0,"label",32),D(1,"Nome do Respons\xe1vel"),x())}function t7(e,n){1&e&&(b(0,"div",33),D(1," O campo n\xe3o pode estar vazio. "),x())}const Mr=function(e){return{"is-invalid":e}};function n7(e,n){if(1&e&&(b(0,"div",3)(1,"label",34),D(2,"Sobrenome"),x(),le(3,"input",35),x()),2&e){const t=ie();let r;R(3),k("ngClass",dn(1,Mr,(null==(r=t.profile.get("sobrenome"))?null:r.invalid)&&((null==(r=t.profile.get("sobrenome"))?null:r.touched)||(null==(r=t.profile.get("sobrenome"))?null:r.dirty))))}}function r7(e,n){if(1&e&&(b(0,"div",3)(1,"label",36),D(2,"Nome da Empresa"),x(),le(3,"input",37),x()),2&e){const t=ie();let r;R(3),k("ngClass",dn(1,Mr,(null==(r=t.profile.get("empresa"))?null:r.invalid)&&((null==(r=t.profile.get("empresa"))?null:r.touched)||(null==(r=t.profile.get("empresa"))?null:r.dirty))))}}function i7(e,n){1&e&&(b(0,"label",38),D(1,"CPF"),x())}function o7(e,n){1&e&&(b(0,"label",38),D(1,"CPF do Respons\xe1vel"),x())}function s7(e,n){if(1&e&&(b(0,"div",0)(1,"div",3)(2,"label",39),D(3,"CNPJ"),x(),le(4,"input",40),x()()),2&e){const t=ie();let r;R(4),k("ngClass",dn(1,Mr,(null==(r=t.profile.get("cnpj"))?null:r.invalid)&&((null==(r=t.profile.get("cnpj"))?null:r.touched)||(null==(r=t.profile.get("cnpj"))?null:r.dirty))))}}function a7(e,n){if(1&e&&(b(0,"div",0)(1,"div",3)(2,"label",41),D(3,"N\xfamero para Contato"),x(),le(4,"input",42),x()()),2&e){const t=ie();R(4),k("ngClass",dn(1,Mr,t.numberInvalid))}}function l7(e,n){if(1&e&&(b(0,"div",0)(1,"div",3)(2,"label",43),D(3,"E-mail para Contato"),x(),le(4,"input",44),x()()),2&e){const t=ie();R(4),k("ngClass",dn(1,Mr,t.emailInvalid))}}function c7(e,n){1&e&&(b(0,"div",33),D(1," Insira uma descri\xe7\xe3o para sua empresa! "),x())}function u7(e,n){if(1&e&&(b(0,"div",0)(1,"div",3)(2,"label",45),D(3,"Descri\xe7\xe3o"),x(),le(4,"input",46),q(5,c7,2,0,"div",10),x()()),2&e){const t=ie();let r,i;R(4),k("ngClass",dn(2,Mr,(null==(r=t.profile.get("descricao"))?null:r.invalid)&&((null==(r=t.profile.get("descricao"))?null:r.touched)||(null==(r=t.profile.get("descricao"))?null:r.dirty)))),R(1),k("ngIf",t.profile.get("descricao").hasError("required")&&((null==(i=t.profile.get("descricao"))?null:i.touched)||(null==(i=t.profile.get("descricao"))?null:i.dirty)))}}function d7(e,n){if(1&e){const t=lt();b(0,"button",47),Ce("click",function(){return We(t),$e(ie().edit())}),D(1," Editar "),x()}}function f7(e,n){if(1&e){const t=lt();b(0,"button",48),Ce("click",function(){return We(t),$e(ie().save())}),D(1," Salvar "),x()}2&e&&k("disabled",ie().saveDisabler)}function h7(e,n){1&e&&(b(0,"button",49),D(1," Trocar Senha "),x())}function p7(e,n){if(1&e){const t=lt();b(0,"button",50),Ce("click",function(){return We(t),$e(ie().cancel())}),D(1," Cancelar "),x()}}let g7=(()=>{class e{constructor(t,r,i,s,c){this.formBuilder=t,this.profileApi=r,this.http=i,this.apiPatchUser=s,this.phone=c,this.userGet=!1,this.userEditing=!1,this.isPartner=!1,this.emailInvalid=!1,this.numberInvalid=!1,this.saveDisabler=!1,this.selectedFile=null,this.estados=[{sigla:"",nome:""},{sigla:"AC",nome:"Acre"},{sigla:"AL",nome:"Alagoas"},{sigla:"AM",nome:"Amazonas"},{sigla:"AP",nome:"Amap\xe1"},{sigla:"BA",nome:"Bahia"},{sigla:"CE",nome:"Cear\xe1"},{sigla:"DF",nome:"Distrito Federal"},{sigla:"ES",nome:"Esp\xedrito Santo"},{sigla:"GO",nome:"Goi\xe1s"},{sigla:"MA",nome:"Maranh\xe3o"},{sigla:"MG",nome:"Minas Gerais"},{sigla:"MS",nome:"Mato Grosso do Sul"},{sigla:"MT",nome:"Mato Grosso"},{sigla:"PA",nome:"Par\xe1"},{sigla:"PB",nome:"Para\xedba"},{sigla:"PE",nome:"Pernambuco"},{sigla:"PI",nome:"Piau\xed"},{sigla:"PR",nome:"Paran\xe1"},{sigla:"RJ",nome:"Rio de Janeiro"},{sigla:"RN",nome:"Rio Grande do Norte"},{sigla:"RO",nome:"Rond\xf4nia"},{sigla:"RR",nome:"Roraima"},{sigla:"RS",nome:"Rio Grande do Sul"},{sigla:"SC",nome:"Santa Catarina"},{sigla:"SE",nome:"Sergipe"},{sigla:"SP",nome:"S\xe3o Paulo"},{sigla:"TO",nome:"Tocantins"}],this.profile=this.formBuilder.group({email:["",[ze.required,ze.email]],nome:["",[ze.required]],empresa:[""],sobrenome:["",[ze.required]],cpf:["",[ze.required,Gx.cpf]],cnpj:[""],cep:["",[ze.required,Wx.cep]],rua:["",ze.required],cidade:["",ze.required],uf:["",ze.required],foto:[""],contato_email:["",ze.email],contato_numero:[""],descricao:[""]}),this.profile.disable()}ngOnInit(){this.profileApi.userData$.subscribe({next:t=>{t&&(this.isPartner=t.is_partner,this.patchForm(t))}})}subscribeForms(){this.cepSubscription=this.profile.get("cep")?.valueChanges.pipe(Si(()=>this.profile.get("cep")?.valid),Ve(t=>this.http.get(`https://viacep.com.br/ws/${t}/json/`))).subscribe(t=>{t.erro?this.handleCepError():this.updateProfileWithCepData(t)})}handleCepError(){this.profile.get("cep")?.setErrors({incorrect:!0}),this.setValueAndDisable("rua",""),this.setValueAndDisable("cidade",""),this.setValueAndDisable("uf","")}updateProfileWithCepData(t){t?.localidade?this.setValueAndDisable("cidade",t?.localidade):this.profile.get("cidade").enable(),t?.logradouro?this.setValueAndDisable("rua",t?.logradouro):this.profile.get("rua").enable(),t?.uf?this.setValueAndDisable("uf",t?.uf):this.profile.get("uf").enable()}setValueAndDisable(t,r){const i=this.profile.get(t);i?.setValue(r,{emitEvent:!1}),i?.disable(),i?.updateValueAndValidity({emitEvent:!1})}patchForm(t){this.profile.patchValue({email:t.email,nome:t.first_name,sobrenome:t.last_name,cpf:t.cpf,cep:t.cep,cnpj:t.cnpj,cidade:t.address_city,uf:t.address_state,rua:t.address_street,empresa:t.partner_company_name,contato_numero:this.phone.transform(t.partner_number_contact),contato_email:t.partner_email_contact,descricao:t.partner_company_description})}onFileChange(t){t.target.files.length>0&&(this.selectedFile=t.target.files[0])}edit(){this.userEditing=!0,this.profile.enable(),this.profile.get(["email"]).disable(),this.isPartner&&(this.profile.disable(),this.profile.get(["nome"]).enable(),this.profile.get(["contato_email"]).enable(),this.profile.get(["contato_numero"]).enable(),this.profile.get(["foto"]).enable(),this.profile.get(["descricao"]).enable()),this.subscribeForms()}save(){this.profile.valid&&(this.saveDisabler=!0,this.apiPatchUser.updateUserData(this.profile.getRawValue(),this.selectedFile,this.isPartner).subscribe({next:t=>{this.apiPatchUser.postRequest=!1,this.apiPatchUser.isLoading=!1,this.emailInvalid=!1,this.numberInvalid=!1,this.profileApi.userDataSubject.next(t),this.userEditing=!1,this.profile.disable(),this.saveDisabler=!1},error:t=>{this.saveDisabler=!1,this.apiPatchUser.isLoading=!1,400===t.status&&(t.error.email_contact&&(this.emailInvalid=!0),t.error.number_contact&&(this.numberInvalid=!0)),401===t.status&&console.error("Token inv\xe1lido e Refresh Token inv\xe1lidos")},complete:()=>{}}))}cancel(){this.userEditing=!1,this.profile.disable()}}return e.\u0275fac=function(t){return new(t||e)(W(Fc),W(Sf),W(jn),W(ZL),W(Yx))},e.\u0275cmp=G({type:e,selectors:[["app-data"]],decls:63,vars:39,consts:[[1,"row","d-flex","justify-content-center"],["action","",3,"formGroup"],[1,"row","d-flex","justify-content-center","pt-1","pb-3"],[1,"col-md-6"],["for","foto",1,"form-label"],[1,"row"],["type","file","formControlName","foto",1,"form-control",3,"change"],["class","col-md-6 fs-2 fw-bold py-2",4,"ngIf"],["for","nome","class","form-label",4,"ngIf"],["id","nome","name","nome","type","text","formControlName","nome",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","col-md-6",4,"ngIf"],["for","email",1,"form-label"],["id","email","name","email","type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","cpf","class","form-label",4,"ngIf"],["id","cpf","name","cpf","type","cpf","formControlName","cpf",1,"form-control",3,"ngClass"],["class","row d-flex justify-content-center",4,"ngIf"],["for","cep",1,"form-label"],["type","text","name","cep","id","cep","formControlName","cep",1,"form-control",3,"ngClass"],["for","cidade",1,"form-label"],["type","text","name","cidade","id","cidade","formControlName","cidade",1,"form-control",3,"ngClass"],["for","uf",1,"form-label"],["type","text","name","uf","id","uf","formControlName","uf",1,"form-control",3,"ngClass"],["for","rua",1,"form-label"],["type","text","name","rua","id","rua","formControlName","rua",1,"form-control",3,"ngClass"],[1,"row","d-flex","justify-content-center","mt-2"],[1,"col-6","d-flex","justify-content-center"],["class","btn btn-info",3,"click",4,"ngIf"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["class","btn btn-primary",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"col-md-6","fs-2","fw-bold","py-2"],["for","nome",1,"form-label"],[1,"invalid-feedback"],["for","sobrenome",1,"form-label"],["id","sobrenome","name","sobrenome","type","text","formControlName","sobrenome",1,"form-control",3,"ngClass"],["for","empresa",1,"form-label"],["id","empresa","name","empresa","type","text","formControlName","empresa",1,"form-control",3,"ngClass"],["for","cpf",1,"form-label"],["for","cnpj",1,"form-label"],["id","cnpj","name","cnpj","type","cnpj","formControlName","cnpj",1,"form-control",3,"ngClass"],["for","contato_numero",1,"form-label"],["id","contato_numero","name","contato_numero","type","contato_numero","formControlName","contato_numero",1,"form-control",3,"ngClass"],["for","contato_email",1,"form-label"],["id","contato_email","name","contato_email","type","contato_email","formControlName","contato_email",1,"form-control",3,"ngClass"],["for","descricao",1,"form-label"],["id","descricao","name","descricao","type","text","formControlName","descricao",1,"form-control",2,"height","5em",3,"ngClass"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-primary"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){if(1&t&&(b(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),D(5,"Foto de Perfil"),x(),b(6,"div",5)(7,"input",6),Ce("change",function(s){return r.onFileChange(s)}),x()()()(),b(8,"div",0),q(9,QL,2,0,"div",7),q(10,KL,2,0,"div",7),x(),b(11,"div",0)(12,"div",3),q(13,JL,2,0,"label",8),q(14,e7,2,0,"label",8),le(15,"input",9),q(16,t7,2,0,"div",10),x()(),b(17,"div",0),q(18,n7,4,3,"div",11),q(19,r7,4,3,"div",11),x(),b(20,"div",0)(21,"div",3)(22,"label",12),D(23,"E-mail"),x(),le(24,"input",13),x()(),b(25,"div",0)(26,"div",3),q(27,i7,2,0,"label",14),q(28,o7,2,0,"label",14),le(29,"input",15),x()(),q(30,s7,5,3,"div",16),b(31,"div",0)(32,"div",3)(33,"label",17),D(34,"CEP"),x(),le(35,"input",18),x()(),b(36,"div",0)(37,"div",3)(38,"label",19),D(39,"Cidade"),x(),le(40,"input",20),x()(),b(41,"div",0)(42,"div",3)(43,"label",21),D(44,"Estado"),x(),le(45,"input",22),x()(),b(46,"div",0)(47,"div",3)(48,"label",23),D(49,"Rua"),x(),le(50,"input",24),x()(),q(51,a7,5,3,"div",16),q(52,l7,5,3,"div",16),q(53,u7,6,4,"div",16),b(54,"div",25)(55,"div",3)(56,"div",5)(57,"div",26),q(58,d7,2,0,"button",27),q(59,f7,2,1,"button",28),x(),b(60,"div",26),q(61,h7,2,0,"button",29),q(62,p7,2,0,"button",30),x()()()()()()),2&t){let i,s,c,h,g,m,w,E;R(1),k("formGroup",r.profile),R(8),k("ngIf",!r.isPartner),R(1),k("ngIf",r.isPartner),R(3),k("ngIf",!r.isPartner),R(1),k("ngIf",r.isPartner),R(1),k("ngClass",dn(25,Mr,(null==(i=r.profile.get("nome"))?null:i.invalid)&&((null==(i=r.profile.get("nome"))?null:i.touched)||(null==(i=r.profile.get("nome"))?null:i.dirty)))),R(1),k("ngIf",(null==(s=r.profile.get("nome"))?null:s.invalid)&&((null==(s=r.profile.get("nome"))?null:s.touched)||(null==(s=r.profile.get("nome"))?null:s.dirty))),R(2),k("ngIf",!r.isPartner),R(1),k("ngIf",r.isPartner),R(5),k("ngClass",dn(27,Mr,(null==(c=r.profile.get("email"))?null:c.invalid)&&((null==(c=r.profile.get("email"))?null:c.touched)||(null==(c=r.profile.get("email"))?null:c.dirty)))),R(3),k("ngIf",!r.isPartner),R(1),k("ngIf",r.isPartner),R(1),k("ngClass",dn(29,Mr,(null==(h=r.profile.get("cpf"))?null:h.invalid)&&((null==(h=r.profile.get("cpf"))?null:h.touched)||(null==(h=r.profile.get("cpf"))?null:h.dirty)))),R(1),k("ngIf",r.isPartner),R(5),k("ngClass",dn(31,Mr,(null==(g=r.profile.get("cep"))?null:g.invalid)&&((null==(g=r.profile.get("cep"))?null:g.touched)||(null==(g=r.profile.get("cep"))?null:g.dirty)))),R(5),k("ngClass",dn(33,Mr,(null==(m=r.profile.get("cidade"))?null:m.invalid)&&((null==(m=r.profile.get("cidade"))?null:m.touched)||(null==(m=r.profile.get("cidade"))?null:m.dirty)))),R(5),k("ngClass",dn(35,Mr,(null==(w=r.profile.get("uf"))?null:w.invalid)&&((null==(w=r.profile.get("uf"))?null:w.touched)||(null==(w=r.profile.get("uf"))?null:w.dirty)))),R(5),k("ngClass",dn(37,Mr,(null==(E=r.profile.get("rua"))?null:E.invalid)&&((null==(E=r.profile.get("rua"))?null:E.touched)||(null==(E=r.profile.get("rua"))?null:E.dirty)))),R(1),k("ngIf",r.isPartner),R(1),k("ngIf",r.isPartner),R(1),k("ngIf",r.isPartner),R(5),k("ngIf",!r.userEditing),R(1),k("ngIf",r.userEditing),R(2),k("ngIf",!r.userEditing),R(1),k("ngIf",r.userEditing)}},dependencies:[eo,cr,za,Oo,Va,Ua,ko,vs]}),e})(),m7=(()=>{class e{constructor(t){this.http=t,this.urls=new Sr}getUserHistory(){return this.http.get(this.urls.history)}}return e.\u0275fac=function(t){return new(t||e)(ne(jn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y7(e,n){if(1&e&&(b(0,"div",3)(1,"div",4),D(2),nc(3,"date"),x(),b(4,"div",5),D(5),x(),b(6,"div",6),D(7),x(),b(8,"div",6),D(9),x()()),2&e){const t=n.$implicit;R(2),Er(_d(3,4,t.date,"short")),R(3),Er(t.description),R(2),Er(t.points),R(2),Er(t.total_points)}}let v7=(()=>{class e{constructor(t){this.apiHistory=t}ngOnInit(){this.apiHistory.getUserHistory().subscribe({next:t=>{this.history=t.slice(0).reverse()}})}}return e.\u0275fac=function(t){return new(t||e)(W(m7))},e.\u0275cmp=G({type:e,selectors:[["app-history"]],decls:15,vars:1,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-6","fs-2","fw-bold","py-2"],[1,"col-md-6"],[1,"row","text-center","fw-bold"],[1,"border","border-1","border-dark","col-3"],[1,"border","border-1","border-dark","col-5"],[1,"border","border-1","border-dark","col-2"],["class","row text-center fw-bold",4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"div",1),D(2,"Hist\xf3rico do Usu\xe1rio:"),x()(),b(3,"div",0)(4,"div",2)(5,"div",3)(6,"div",4),D(7,"Data"),x(),b(8,"div",5),D(9,"Descri\xe7\xe3o"),x(),b(10,"div",6),D(11,"Pontos"),x(),b(12,"div",6),D(13,"Saldo"),x()(),q(14,y7,10,7,"div",7),x()()),2&t&&(R(14),k("ngForOf",r.history))},dependencies:[us,jd]}),e})(),C7=(()=>{class e{constructor(t){this.http=t,this.urls=new Sr,this.httpHeaders=new Ir({"Content-Type":"application/json"})}getAllLocations(){return this.http.get(this.urls.locations,{headers:this.httpHeaders})}getLocation(t){return this.http.get(this.urls.touristAttaction+t,{headers:this.httpHeaders})}}return e.\u0275fac=function(t){return new(t||e)(ne(jn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function w7(e,n){if(1&e){const t=lt();b(0,"button",4),Ce("click",function(){return We(t),$e(ie().goBack())}),D(1," Voltar\n"),x()}}function _7(e,n){if(1&e){const t=lt();b(0,"div",7)(1,"div",8),Ce("click",function(){const s=We(t).$implicit;return $e(ie(2).redirect(s.id))}),b(2,"div",9),le(3,"img",10),x(),b(4,"div",11)(5,"a",12),D(6),x(),b(7,"p"),D(8),x()()()()}if(2&e){const t=n.$implicit;R(3),bn("src",t.locations_photo,Un),R(3),Er(t.name),R(2),Er(t.resume)}}function E7(e,n){if(1&e&&(b(0,"div",5),q(1,_7,9,3,"div",6),x()),2&e){const t=ie();R(1),k("ngForOf",t.locations)}}function x7(e,n){if(1&e&&(b(0,"div",13)(1,"div",14),D(2),x(),b(3,"div",15),D(4),x(),b(5,"div",16)(6,"a",17),D(7," Leve-me at\xe9 l\xe1 "),Qr(),b(8,"svg",18),le(9,"path",19),x()()(),Co(),b(10,"div",20)(11,"a",21),D(12," Mais informa\xe7\xf5es do local com o TripAdvisor "),Qr(),b(13,"svg",22),le(14,"path",23)(15,"path",24),x()()(),Co(),b(16,"div",25),le(17,"img",26)(18,"img",27)(19,"img",28),x()()),2&e){const t=ie();R(2),qe(" ",t.location.name," "),R(2),Er(t.location.description),R(2),bn("href",t.location.map_link,Un),R(5),bn("href",t.location.location_link,Un),R(6),bn("src",t.location.photo_1,Un),R(1),bn("src",t.location.photo_2,Un),R(1),bn("src",t.location.photo_3,Un)}}let b7=(()=>{class e{constructor(t){this.api=t,this.showAll=!0,this.getLocations=()=>{this.api.getAllLocations().subscribe({next:r=>this.locations=r,error:r=>console.log(r.message),complete:()=>{}})},this.getLocations()}redirect(t){this.showAll=!1,this.location=this.locations[t-1]}goBack(){this.showAll=!0,this.location=null}}return e.\u0275fac=function(t){return new(t||e)(W(C7))},e.\u0275cmp=G({type:e,selectors:[["app-locations"]],decls:4,vars:3,consts:[["class","btn btn-primary mt-3 mx-3",3,"click",4,"ngIf"],["class","px-3",4,"ngIf"],[1,"container"],["class","p-3 container border border-3 border-primary rounded my-5",4,"ngIf"],[1,"btn","btn-primary","mt-3","mx-3",3,"click"],[1,"px-3"],["class","container border border-3 border-primary rounded my-5",4,"ngFor","ngForOf"],[1,"container","border","border-3","border-primary","rounded","my-5"],[1,"row","p-3",3,"click"],[1,"col-5","col-md-2","border","border-2","border-warning","rounded","object-fit-contain","p-0","overflow-hidden"],["alt","","width","500px","height","250px",1,"overflow-hidden","position-relative","top-50","start-50","translate-middle",3,"src"],[1,"col-7","col-md-10"],[1,"text-decoration-none","d-flex","justify-content-center","pb-2","text-primary"],[1,"p-3","container","border","border-3","border-primary","rounded","my-5"],[1,"container","fw-bold","fs-5","text-center","pb-5"],[1,"container","lh-lg"],[1,"container","py-3"],[1,"icon-link","icon-link-hover",2,"--bs-link-hover-color-rgb","25, 135, 84",3,"href"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-geo-alt-fill"],["d","M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"],[1,"container","pb-5"],["target","_blank",1,"icon-link","icon-link-hover",2,"--bs-link-hover-color-rgb","25, 135, 84",3,"href"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-info-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"],[1,"container","d-flex","flex-column"],["alt","",1,"h-25","img-fluid","border","rounded","py-3",3,"src"],["alt","",1,"h-25","img-fluid","border","rounded","pb-3",3,"src"],["alt","",1,"h-25","img-fluid","border","rounded",3,"src"]],template:function(t,r){1&t&&(q(0,w7,2,0,"button",0),q(1,E7,2,1,"div",1),b(2,"div",2),q(3,x7,20,7,"div",3),x()),2&t&&(k("ngIf",!r.showAll),R(1),k("ngIf",r.showAll),R(2),k("ngIf",!r.showAll))},dependencies:[us,cr]}),e})();function A7(e,n){1&e&&(b(0,"div",15),D(1," Insira seu e-mail. "),x())}function D7(e,n){1&e&&(b(0,"div",16),D(1," Se o e-mail constar em nosso banco de dados, voc\xea recebera em breve o novo e-mail de confirma\xe7\xe3o. "),x())}const I7=function(e){return{"is-invalid":e}};let Xx=(()=>{class e{constructor(t,r,i){this.formBuilder=t,this.apiLogin=r,this.router=i,this.sendEmail=!1,this.resendIncorrect=!1,this.resendSuccess=!1,this.buttonSend=!1,this.buttonBack=!1}ngOnInit(){this.resend=this.formBuilder.group({email:["",[ze.required,ze.email]]})}send(){this.resend?.valid?(this.buttonSend=!0,this.buttonBack=!0,this.apiLogin.resendEmail(this.resend.getRawValue()).subscribe({next:()=>{this.resendSuccess=!0,this.buttonBack=!1}})):this.resend.markAllAsTouched()}redirect(){this.router.navigate(["/login"])}}return e.\u0275fac=function(t){return new(t||e)(W(Fc),W($x),W(Ut))},e.\u0275cmp=G({type:e,selectors:[["app-resend-email"]],decls:21,vars:8,consts:[[1,"container","p-4"],[1,"row"],[1,"col-md-4"],[1,"col-md-4","col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"",3,"formGroup"],["for","email",1,"form-label"],["id","email","name","email","type","email","formControlName","email",1,"form-control","my-2",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["class","alert alert-success mt-3 d-flex align-items-center","role","alert",4,"ngIf"],[1,"col"],["type","submit",1,"btn","btn-success","mt-2",3,"disabled","click"],["type","submit",1,"btn","btn-primary","mt-2",3,"disabled","click"],[1,"invalid-feedback"],["role","alert",1,"alert","alert-success","mt-3","d-flex","align-items-center"]],template:function(t,r){if(1&t&&(b(0,"div",0)(1,"div",1),le(2,"div",2),b(3,"div",3)(4,"div",4)(5,"h5",5),D(6,"Reenviar E-mail de Verifica\xe7\xe3o:"),x(),b(7,"div",6)(8,"form",7)(9,"label",8),D(10,"Digite o e-mail cadastrado:"),x(),le(11,"input",9),q(12,A7,2,0,"div",10),q(13,D7,2,0,"div",11),b(14,"div",1)(15,"div",12)(16,"button",13),Ce("click",function(){return r.send()}),D(17," Enviar "),x()(),b(18,"div",12)(19,"button",14),Ce("click",function(){return r.redirect()}),D(20," Voltar "),x()()()()()()()()()),2&t){let i,s;R(8),k("formGroup",r.resend),R(3),k("ngClass",dn(6,I7,(null==(i=r.resend.get("email"))?null:i.invalid)&&((null==(i=r.resend.get("email"))?null:i.touched)||(null==(i=r.resend.get("email"))?null:i.dirty)))),R(1),k("ngIf",(null==(s=r.resend.get("email"))?null:s.invalid)&&((null==(s=r.resend.get("email"))?null:s.touched)||(null==(s=r.resend.get("email"))?null:s.dirty))),R(1),k("ngIf",r.resendSuccess),R(3),k("disabled",r.buttonSend),R(3),k("disabled",r.buttonBack)}},dependencies:[eo,cr,za,Oo,Va,Ua,ko,vs]}),e})(),Bo=(()=>{class e{constructor(t,r){this.api=t,this.router=r}canActivate(t,r){return this.api.isAuthenticated.pipe(Te(i=>!!i||(this.router.navigate([""]),!1)))}}return e.\u0275fac=function(t){return new(t||e)(ne(Ri),ne(Ut))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),kc=(()=>{class e{constructor(t,r){this.api=t,this.router=r}canActivate(t,r){return this.api.isAuthenticated.pipe(Te(i=>!i||(this.router.navigate([""]),!1)))}}return e.\u0275fac=function(t){return new(t||e)(ne(Ri),ne(Ut))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),S7=(()=>{class e{constructor(t){this.http=t,this.urls=new Sr}verify(t){return this.http.post(this.urls.verifyEmail,{key:t})}}return e.\u0275fac=function(t){return new(t||e)(ne(jn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function T7(e,n){1&e&&(b(0,"div",2)(1,"div",3),le(2,"span",4),x()())}function M7(e,n){1&e&&(b(0,"div",8)(1,"div",9),D(2,"Verifica\xe7\xe3o de E-mail"),x(),b(3,"div",10)(4,"h4",11),D(5,"Sucesso!"),x(),b(6,"p",12),D(7," Seu e-mail foi verificado com sucesso. Obrigado por confirmar! "),x()(),b(8,"div",13)(9,"a",14),D(10,"Continuar para o Login"),x()()())}function N7(e,n){1&e&&(b(0,"div",15)(1,"div",16),D(2,"Verifica\xe7\xe3o de E-mail"),x(),b(3,"div",10)(4,"h4",11),D(5,"Erro"),x(),b(6,"p",12),D(7," Ocorreu um erro ao verificar seu e-mail. Por favor, tente novamente ou entre em contato com o suporte. "),x()(),b(8,"div",13)(9,"a",17),D(10,"P\xe1gina Inicial"),x()()())}function R7(e,n){if(1&e&&(b(0,"div",5),q(1,M7,11,0,"div",6),q(2,N7,11,0,"div",7),x()),2&e){const t=ie();R(1),k("ngIf",!t.hasError),R(1),k("ngIf",t.hasError)}}let O7=(()=>{class e{constructor(t,r){this.activeRout=t,this.verifyApi=r,this.isLoading=!0,this.hasError=!1}ngOnInit(){this.verifyApi.verify(this.activeRout.snapshot.params.key).subscribe({next:()=>{this.isLoading=!1},error:r=>{this.isLoading=!1,this.hasError=!0}})}}return e.\u0275fac=function(t){return new(t||e)(W(To),W(S7))},e.\u0275cmp=G({type:e,selectors:[["app-verify-email"]],decls:2,vars:2,consts:[["class","d-flex justify-content-center",4,"ngIf"],["class","container d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"container","d-flex","justify-content-center"],["class","card text-center border-success mb-3","style","max-width: 20rem",4,"ngIf"],["class","card text-center border-danger mb-3","style","max-width: 20rem",4,"ngIf"],[1,"card","text-center","border-success","mb-3",2,"max-width","20rem"],[1,"card-header","bg-success","text-white"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer"],["routerLink","/login",1,"btn","btn-success"],[1,"card","text-center","border-danger","mb-3",2,"max-width","20rem"],[1,"card-header","bg-danger","text-white"],["routerLink","",1,"btn","btn-danger"]],template:function(t,r){1&t&&(q(0,T7,3,0,"div",0),q(1,R7,3,2,"div",1)),2&t&&(k("ngIf",r.isLoading),R(1),k("ngIf",!r.isLoading))},dependencies:[cr,no]}),e})(),P7=(()=>{class e{constructor(t,r){this.http=t,this.apiPoints=r,this.urls=new Sr,this.isGetting=!1,this.isPosting=!1}getPrizes(){return this.isGetting?Ee([]):(this.isGetting=!0,this.http.get(this.urls.prize))}redeemPrize(t){if(!this.isPosting)return this.isPosting=!0,this.http.post(this.urls.redeem,{prize:t})}}return e.\u0275fac=function(t){return new(t||e)(ne(jn),ne(Ba))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function L7(e,n){if(1&e){const t=lt();b(0,"div",32)(1,"button",33),Ce("click",function(){We(t);const i=ie(2).$implicit;return $e(ie().confirmation(i.name,i.cost_in_points,i.id))}),D(2," Resgatar "),x()()}}const F7=function(e,n){return{"col-4":e,"col-7":n}};function k7(e,n){if(1&e){const t=lt();b(0,"div",16)(1,"div",17)(2,"div",18),le(3,"img",19),x(),b(4,"div",20)(5,"div",21),D(6),x(),b(7,"div",22),D(8),x(),b(9,"div",23)(10,"span",24),D(11,"Cupom gerado por: "),x(),b(12,"a",25),Ce("click",function(){We(t);const i=ie().$implicit;return $e(ie().navigateToPartner(i.generated_by_slug))}),D(13),x()()()(),b(14,"div",26)(15,"div",27),D(16," Unidades Restantes: "),x(),b(17,"div",28),D(18),x()(),b(19,"div",26)(20,"div",27),D(21," Valor do Cupom: "),x(),b(22,"div",29),D(23),x(),q(24,L7,3,0,"div",30),x(),b(25,"div",26)(26,"div",27),D(27," Validade do Cupom: "),x(),b(28,"div",31),D(29),nc(30,"date"),x()()()}if(2&e){const t=ie().$implicit,r=ie();R(3),bn("src",t.logo,Un),R(3),qe(" ",t.name," "),R(2),qe(" ",t.description," "),R(5),qe(" ",t.generated_by_company_name,""),R(5),qe(" ",t.times_to_be_used," Unidades "),R(4),k("ngClass",Yt(12,F7,!r.isPartner,r.isPartner)),R(1),qe(" ",t.cost_in_points," Pontos "),R(1),k("ngIf",!r.isPartner),R(5),qe(" ",_d(30,9,t.expiry_date,"medium")," ")}}function B7(e,n){if(1&e&&(b(0,"div"),q(1,k7,31,15,"div",15),x()),2&e){const t=n.$implicit;R(1),k("ngIf",!t.disabled)}}function V7(e,n){if(1&e&&(b(0,"div",34)(1,"span",35),D(2,"Ei, aventureiro!"),x(),D(3," Lembre-se de que, uma vez que voc\xea troque seus pontos preciosos, n\xe3o poder\xe1 voltar atr\xe1s. Est\xe1 certo de que deseja resgatar o item "),b(4,"span",36),D(5),x(),D(6," por "),b(7,"span",37),D(8),x(),D(9," no mundo de Duck GO!? "),x()),2&e){const t=ie();R(5),Er(t.prizeName),R(3),qe("",t.prizeCost," Pontos")}}function U7(e,n){1&e&&(b(0,"div",34)(1,"span",38),D(2,"Eba! Voc\xea resgatou o cupom com sucesso no Duck GO!"),x()())}function H7(e,n){1&e&&(b(0,"div",34)(1,"span",37),D(2,"Ops! Parece que voc\xea j\xe1 resgatou este cupom. No Duck GO!, cada aventureiro s\xf3 pode ter um cupom de cada tipo!"),x()())}function j7(e,n){1&e&&(b(0,"div",34)(1,"span",39),D(2,"Ah, n\xe3o! Voc\xea precisa de mais pontos para pegar este item no Duck GO! Continue jogando e acumule mais pontos!"),x()())}function z7(e,n){1&e&&(b(0,"div",34)(1,"span",39),D(2,"Desculpe, parece que o cupom que voc\xca est\xe1 tentando resgatar j\xe1 esgotou!"),x()())}function G7(e,n){1&e&&(b(0,"div",40)(1,"div",41),le(2,"span",42),x()())}function W7(e,n){if(1&e){const t=lt();b(0,"button",43),Ce("click",function(){return We(t),$e(ie().clearData())}),D(1," Retornar ao Jogo "),x()}2&e&&k("disabled",ie().loader)}function $7(e,n){if(1&e){const t=lt();b(0,"button",43),Ce("click",function(){return We(t),$e(ie().clearData())}),D(1," Talvez Mais Tarde "),x()}2&e&&k("disabled",ie().loader)}function q7(e,n){if(1&e){const t=lt();b(0,"button",44),Ce("click",function(){We(t);const i=ie();return $e(i.redeem(i.prizeId))}),D(1," Tenho Certeza! "),x()}2&e&&k("disabled",ie().loader)}let Y7=(()=>{class e{constructor(t,r){this.apiPrizes=t,this.router=r,this.loader=!1,this.success=!1,this.e402=!1,this.e400=!1,this.e406=!1,this.end=!1,this.isPartner=!1}ngOnInit(){this.isPartner="true"===localStorage.getItem("isPartner"),this.apiPrizes.getPrizes().subscribe({next:t=>{t&&(this.prizes=t,this.apiPrizes.isGetting=!1)},error:()=>{this.apiPrizes.isGetting=!1}})}redeem(t){this.loader=!0,this.end=!0,this.apiPrizes.redeemPrize(t).subscribe({next:r=>{this.loader=!1,this.apiPrizes.isPosting=!1,this.success=!0},error:r=>{this.loader=!1,this.apiPrizes.isPosting=!1,r instanceof Qn&&400===r.status&&(this.e400=!0,console.log("Cupom j\xe1 cadastrado")),r instanceof Qn&&402===r.status&&(this.e402=!0,console.log("Usu\xe1rio n\xe3o possui pontos suficientes")),r instanceof Qn&&406===r.status&&(this.e406=!0,console.log("Cupom Esgotado"))}})}confirmation(t,r,i){this.loader=!0,this.prizeName=t,this.prizeCost=r,this.prizeId=i,this.loader=!1}clearData(){this.prizeName="",this.prizeCost=null,this.prizeId=null,this.e400=!1,this.e402=!1,this.e406=!1,this.success=!1,this.end=!1}navigateToPartner(t){this.router.navigate(["parceiros",t])}}return e.\u0275fac=function(t){return new(t||e)(W(P7),W(Ut))},e.\u0275cmp=G({type:e,selectors:[["app-prizes"]],decls:21,vars:10,consts:[[1,"row","d-flex","justify-content-center","py-5","m-0"],[1,"col-md-6"],[4,"ngFor","ngForOf"],["id","confirmationModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"hidden.bs.modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-warning-subtle"],["id","exampleModalLabel",1,"modal-title","fs-5","fw-bolder"],["type","button","data-bs-dismiss","modal","aria-label","Fechar",1,"btn-close"],[1,"modal-body","d-flex","justify-content-center"],["style","overflow-wrap: break-word",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-between"],["type","button","class","btn btn-secondary","data-bs-dismiss","modal",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-success",3,"disabled","click",4,"ngIf"],["class","container border border-2 rounded mb-3 shadow-sm bg-white",4,"ngIf"],[1,"container","border","border-2","rounded","mb-3","shadow-sm","bg-white"],[1,"row","p-4"],[1,"col-3","d-flex","justify-content-center","align-items-center","p-0"],["alt","Logo",1,"img-fluid","rounded-circle",2,"object-fit","contain","max-height","10rem",3,"src"],[1,"col-9","d-flex","flex-column","justify-content-between"],[1,"fw-bold","fs-5","mb-2","text-wrap",2,"max-height","6rem","overflow","auto","overflow-wrap","break-word"],[1,"mb-2","text-wrap",2,"max-height","6rem","overflow","auto","overflow-wrap","break-word"],[1,"text-wrap"],[1,"fw-bold"],[1,"link-danger","link-offset-2","link-underline-opacity-25","link-underline-opacity-100-hover",2,"cursor","pointer",3,"click"],[1,"row","bg-info-subtle"],[1,"col-5","d-flex","justify-content-center","align-items-center","fw-semibold"],[1,"col-7","d-flex","justify-content-center","align-items-center","fw-bolder"],[1,"d-flex","justify-content-center","align-items-center","fw-bolder","text-danger",3,"ngClass"],["class","col-3 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"col-7","d-flex","justify-content-center","align-items-center","text-center","fw-bolder"],[1,"col-3","d-flex","justify-content-center","align-items-center"],["data-bs-toggle","modal","data-bs-target","#confirmationModal",1,"btn","btn-success",3,"click"],[2,"overflow-wrap","break-word"],[1,"fw-bolder"],[1,"fw-bolder","text-primary"],[1,"fw-bolder","text-danger"],[1,"fw-bolder","text-success"],[1,"fw-bolder","text-warning"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"disabled","click"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"div",1),q(2,B7,2,1,"div",2),x()(),b(3,"div",3),Ce("hidden.bs.modal",function(){return r.clearData()}),b(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7),D(8," Confirma\xe7\xe3o de Resgate no Duck GO! "),x(),le(9,"button",8),x(),b(10,"div",9),q(11,V7,10,2,"div",10),q(12,U7,3,0,"div",10),q(13,H7,3,0,"div",10),q(14,j7,3,0,"div",10),q(15,z7,3,0,"div",10),q(16,G7,3,0,"div",11),x(),b(17,"div",12),q(18,W7,2,1,"button",13),q(19,$7,2,1,"button",13),q(20,q7,2,1,"button",14),x()()()()),2&t&&(R(2),k("ngForOf",r.prizes),R(9),k("ngIf",!(r.loader||r.success||r.e400||r.e402||r.e406)),R(1),k("ngIf",!r.loader&&r.success),R(1),k("ngIf",!r.loader&&r.e400),R(1),k("ngIf",!r.loader&&r.e402),R(1),k("ngIf",!r.loader&&r.e406),R(1),k("ngIf",r.loader),R(2),k("ngIf",r.end),R(1),k("ngIf",!r.end),R(1),k("ngIf",!r.end))},dependencies:[eo,us,cr,jd],styles:[".truncate-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:90%}"]}),e})(),X7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=G({type:e,selectors:[["app-partner-guide"]],decls:40,vars:0,consts:[[1,"container","p-4"],[1,"mb-4"],[1,"mt-4"],["routerLink",""]],template:function(t,r){1&t&&(b(0,"div",0)(1,"h1",1),D(2,"Como Validar QR Codes - Guia para Parceiros Duck GO!"),x(),b(3,"p"),D(4,"Seja bem-vindo ao guia de valida\xe7\xe3o de QR Codes do Duck GO! Se sua empresa \xe9 uma parceira em nossa emocionante aventura pela cidade de Pato Branco, este guia o ajudar\xe1 a validar os QR Codes apresentados pelos clientes e a proporcionar a eles experi\xeancias incr\xedveis com descontos e recompensas."),x(),b(5,"h2",2),D(6,"Passo 1: Acesse o Web App"),x(),b(7,"ol")(8,"li"),D(9,"Em seu dispositivo, acesse o site oficial do "),b(10,"a",3),D(11,"Duck GO!"),x(),D(12,"."),x(),b(13,"li"),D(14,"Certifique-se de estar logado com a conta oficial da sua empresa."),x()(),b(15,"h2",2),D(16,"Passo 2: Inicie a C\xe2mera"),x(),b(17,"ol")(18,"li"),D(19,"Na p\xe1gina inicial do web app, localize e clique no bot\xe3o da c\xe2mera. Isso ativar\xe1 a fun\xe7\xe3o de leitura de QR Code."),x(),b(20,"li"),D(21,"Assim que a c\xe2mera for iniciada, posicione-a de forma que o QR Code apresentado pelo cliente fique vis\xedvel no visor."),x()(),b(22,"h2",2),D(23,"Passo 3: Valida\xe7\xe3o do QR Code"),x(),b(24,"ol")(25,"li"),D(26,"Aponte para o QR Code apresentado pelo cliente."),x(),b(27,"li"),D(28,"Se o c\xf3digo for v\xe1lido, uma mensagem de sucesso ser\xe1 exibida, confirmando a validade do QR Code."),x(),b(29,"li"),D(30,"Caso contr\xe1rio, uma mensagem de erro indicar\xe1 que o QR Code n\xe3o \xe9 v\xe1lido ou j\xe1 foi utilizado."),x()(),b(31,"h2",2),D(32,"Dicas Importantes para Parceiros"),x(),b(33,"ul")(34,"li"),D(35,"Cada QR Code pode ser validado apenas uma vez, por isso \xe9 essencial ficar atento e assegurar que n\xe3o haja reutiliza\xe7\xf5es indevidas."),x(),b(36,"li"),D(37,"Validar sempre os QR Codes dos clientes \xe9 crucial para garantir a integridade da promo\xe7\xe3o e evitar abusos quanto aos descontos e recompensas que voc\xea oferece."),x(),b(38,"li"),D(39,"Em caso de problemas ou d\xfavidas, n\xe3o hesite em entrar em contato com a equipe Duck GO! Estamos aqui para ajudar e garantir uma experi\xeancia fluida para todos!"),x()()())},dependencies:[no]}),e})();class Z7{static minOneWeek(n){if(!n.value)return null;const t=new Date(n.value),r=new Date;return t>=new Date(r.setDate(r.getDate()+6))?null:{minOneWeek:!0}}}let Q7=(()=>{class e{constructor(t,r){this.http=t,this.apiPoints=r,this.urls=new Sr}getCategory(){return this.http.get(this.urls.prizeCategory)}createPrize(t,r){return this.http.post(this.urls.prize,{name:t.nome,description:t.descricao,cost_in_points:t.pontos,times_to_be_used:t.unidades,expiry_date:t.expiracao,category:t.categoria})}}return e.\u0275fac=function(t){return new(t||e)(ne(jn),ne(Ba))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function K7(e,n){1&e&&(b(0,"div",56),D(1," O Pr\xeamio n\xe3o pode ter nome nulo! "),x())}function J7(e,n){1&e&&(b(0,"div",56),D(1," O Pr\xeamio precisa contar uma descri\xe7ao! "),x())}function eF(e,n){1&e&&(b(0,"div",56),D(1," Insira as unidades do pr\xeamio a serem geradas! "),x())}function tF(e,n){1&e&&(b(0,"div",56),D(1," No m\xednimo uma unidade deve ser gerada! "),x())}function nF(e,n){1&e&&(b(0,"div",56),D(1," No m\xe1xima 3000 unidades podem ser geradas! "),x())}function rF(e,n){1&e&&(b(0,"div",56),D(1," Insira a Pontua\xe7\xe3o necess\xe1ria para obter o pr\xeamio! "),x())}function iF(e,n){1&e&&(b(0,"div",56),D(1," A Pontua\xe7\xe3o m\xednima deve ser 100 Pontos! "),x())}function oF(e,n){1&e&&(b(0,"div",56),D(1," A pontua\xe7\xe3o m\xe1xima deve ser 1000 Pontos! "),x())}function sF(e,n){1&e&&(b(0,"div",56),D(1," Insira a data de expira\xe7\xe3o do pr\xeamio! "),x())}function aF(e,n){1&e&&(b(0,"div",56),D(1," A validade do cupom deve ser de no m\xednimo uma semana! "),x())}function lF(e,n){if(1&e&&(b(0,"option",57),D(1),x()),2&e){const t=n.$implicit;bn("value",t.id),R(1),qe(" ",t.name," ")}}function cF(e,n){1&e&&(b(0,"div",56),D(1," Selecione uma Categoria. "),x())}function uF(e,n){1&e&&(b(0,"div",58),D(1," Um Pr\xeamio com esse nome j\xe1 existe! "),x())}const Ga=function(e,n){return{"is-invalid":e,"is-valid":n}};function dF(e,n){if(1&e&&(b(0,"form",33)(1,"div",20)(2,"div",1)(3,"div",2),D(4," Dados do Pr\xeamio "),x(),b(5,"div",34)(6,"label",35),D(7,"Nome do Cupom"),x(),b(8,"div",36),le(9,"input",37),q(10,K7,2,0,"div",38),x()(),b(11,"div",34)(12,"label",39),D(13,"Descri\xe7\xe3o"),x(),b(14,"div",36),le(15,"input",40),q(16,J7,2,0,"div",38),x()(),b(17,"div",34)(18,"div",41)(19,"label",42),D(20,"Unidades"),x(),le(21,"input",43),q(22,eF,2,0,"div",38),q(23,tF,2,0,"div",38),q(24,nF,2,0,"div",38),x(),b(25,"div",41)(26,"label",44),D(27,"Pontos"),x(),le(28,"input",45),q(29,rF,2,0,"div",38),q(30,iF,2,0,"div",38),q(31,oF,2,0,"div",38),x(),b(32,"div",41)(33,"label",46),D(34,"Data de Expira\xe7\xe3o"),x(),le(35,"input",47),q(36,sF,2,0,"div",38),q(37,aF,2,0,"div",38),x()(),b(38,"div",34)(39,"div",48)(40,"label",49),D(41,"Categoria do Brinde"),x(),b(42,"select",50),q(43,lF,2,2,"option",51),x(),q(44,cF,2,0,"div",38),x()(),b(45,"div",20)(46,"div",1),q(47,uF,2,0,"div",52),x()(),b(48,"div",53)(49,"div",54)(50,"button",55),D(51," Criar Pr\xeamio! "),x()()()()()()),2&e){const t=ie();let r,i,s,c,h,g,m,w,E,S,N,F,L,H,$,V,ee;k("formGroup",t.prize),R(9),k("ngClass",Yt(21,Ga,(null==(r=t.prize.get("nome"))?null:r.invalid)&&((null==(r=t.prize.get("nome"))?null:r.touched)||(null==(r=t.prize.get("nome"))?null:r.dirty)),(null==(r=t.prize.get("nome"))?null:r.valid)&&((null==(r=t.prize.get("nome"))?null:r.touched)||(null==(r=t.prize.get("nome"))?null:r.dirty)))),R(1),k("ngIf",t.prize.get("nome").hasError("required")&&((null==(i=t.prize.get("nome"))?null:i.touched)||(null==(i=t.prize.get("nome"))?null:i.dirty))),R(5),k("ngClass",Yt(24,Ga,(null==(s=t.prize.get("descricao"))?null:s.invalid)&&((null==(s=t.prize.get("descricao"))?null:s.touched)||(null==(s=t.prize.get("descricao"))?null:s.dirty)),(null==(s=t.prize.get("descricao"))?null:s.valid)&&((null==(s=t.prize.get("descricao"))?null:s.touched)||(null==(s=t.prize.get("descricao"))?null:s.dirty)))),R(1),k("ngIf",t.prize.get("descricao").hasError("required")&&((null==(c=t.prize.get("descricao"))?null:c.touched)||(null==(c=t.prize.get("descricao"))?null:c.dirty))),R(5),k("ngClass",Yt(27,Ga,(null==(h=t.prize.get("unidades"))?null:h.invalid)&&((null==(h=t.prize.get("unidades"))?null:h.touched)||(null==(h=t.prize.get("unidades"))?null:h.dirty)),(null==(h=t.prize.get("unidades"))?null:h.valid)&&((null==(h=t.prize.get("unidades"))?null:h.touched)||(null==(h=t.prize.get("unidades"))?null:h.dirty)))),R(1),k("ngIf",t.prize.get("unidades").hasError("required")&&((null==(g=t.prize.get("unidades"))?null:g.touched)||(null==(g=t.prize.get("unidades"))?null:g.dirty))),R(1),k("ngIf",t.prize.get("unidades").hasError("min")&&((null==(m=t.prize.get("unidades"))?null:m.touched)||(null==(m=t.prize.get("unidades"))?null:m.dirty))),R(1),k("ngIf",t.prize.get("unidades").hasError("max")&&((null==(w=t.prize.get("unidades"))?null:w.touched)||(null==(w=t.prize.get("unidades"))?null:w.dirty))),R(4),k("ngClass",Yt(30,Ga,t.prize.get("pontos").invalid&&((null==(E=t.prize.get("pontos"))?null:E.touched)||(null==(E=t.prize.get("pontos"))?null:E.dirty)),(null==(E=t.prize.get("pontos"))?null:E.valid)&&((null==(E=t.prize.get("pontos"))?null:E.touched)||(null==(E=t.prize.get("pontos"))?null:E.dirty)))),R(1),k("ngIf",t.prize.get("pontos").hasError("required")&&((null==(S=t.prize.get("pontos"))?null:S.touched)||(null==(S=t.prize.get("pontos"))?null:S.dirty))),R(1),k("ngIf",t.prize.get("pontos").hasError("min")&&((null==(N=t.prize.get("pontos"))?null:N.touched)||(null==(N=t.prize.get("pontos"))?null:N.dirty))),R(1),k("ngIf",t.prize.get("pontos").hasError("max")&&((null==(F=t.prize.get("pontos"))?null:F.touched)||(null==(F=t.prize.get("pontos"))?null:F.dirty))),R(4),bn("min",t.minDate),k("ngClass",Yt(33,Ga,t.prize.get("expiracao").invalid&&((null==(L=t.prize.get("expiracao"))?null:L.touched)||(null==(L=t.prize.get("expiracao"))?null:L.dirty)),t.prize.get("expiracao").valid&&((null==(L=t.prize.get("expiracao"))?null:L.touched)||(null==(L=t.prize.get("expiracao"))?null:L.dirty)))),R(1),k("ngIf",t.prize.get("expiracao").hasError("required")&&((null==(H=t.prize.get("expiracao"))?null:H.touched)||(null==(H=t.prize.get("expiracao"))?null:H.dirty))),R(1),k("ngIf",t.prize.get("expiracao").hasError("minOneWeek")&&((null==($=t.prize.get("expiracao"))?null:$.touched)||(null==($=t.prize.get("expiracao"))?null:$.dirty))),R(5),k("ngClass",Yt(36,Ga,(null==(V=t.prize.get("categoria"))?null:V.invalid)&&((null==(V=t.prize.get("categoria"))?null:V.touched)||(null==(V=t.prize.get("categoria"))?null:V.dirty)),(null==(V=t.prize.get("categoria"))?null:V.valid)&&((null==(V=t.prize.get("categoria"))?null:V.touched)||(null==(V=t.prize.get("categoria"))?null:V.dirty)))),R(1),k("ngForOf",t.categorys),R(1),k("ngIf",(null==(ee=t.prize.get("categoria"))?null:ee.invalid)&&((null==(ee=t.prize.get("categoria"))?null:ee.touched)||(null==(ee=t.prize.get("categoria"))?null:ee.dirty))),R(3),k("ngIf",t.e400)}}function fF(e,n){1&e&&(b(0,"div",59),D(1," Pr\xeamio Criado com sucesso! "),x())}let hF=(()=>{class e{constructor(t,r,i,s){this.profileApi=t,this.api=r,this.formBuilder=i,this.apiCreatePrize=s,this.e400=!1,this.prizeCreated=!1}ngOnInit(){this.profileApi.getUser().subscribe({next:t=>{t&&(this.user=t)}}),this.apiCreatePrize.getCategory().subscribe({next:t=>{t&&(this.categorys=t)}}),this.today=new Date,this.today.setDate(this.today.getDate()+7),this.dd=String(this.today.getDate()).padStart(2,"0"),this.mm=String(this.today.getMonth()+1).padStart(2,"0"),this.yyyy=this.today.getFullYear(),this.minDate=`${this.yyyy}-${this.mm}-${this.dd}`,this.prize=this.formBuilder.group({nome:["",[ze.required]],pontos:["",[ze.min(100),ze.max(1e3),ze.required]],unidades:["",[ze.min(1),ze.max(3e3),ze.required]],expiracao:["",[ze.required,Z7.minOneWeek]],descricao:["",[ze.required]],categoria:["",[ze.required]]}),this.subscribeForms()}subscribeForms(){this.prize.get("nome")?.valueChanges.subscribe(()=>{this.prize.get("nome").valid&&(this.e400=!1)})}submit(){this.prize.invalid?this.prize.markAllAsTouched():this.apiCreatePrize.createPrize(this.prize.getRawValue(),this.user.profile_photo).subscribe({next:t=>this.prizeCreated=!0,error:t=>{t instanceof Qn&&400===t.status&&(this.e400=!0,this.prize.get("nome")?.setErrors({incorrect:!0}))}})}cleanData(){}}return e.\u0275fac=function(t){return new(t||e)(W(Sf),W(Ri),W(Fc),W(Q7))},e.\u0275cmp=G({type:e,selectors:[["app-create"]],decls:55,vars:12,consts:[[1,"row","d-flex","justify-content-center","pt-2","m-0"],[1,"col-md-6"],[1,"display-6","text-center","border","border-2","rounded","mb-2","bg-light","shadow-sm"],[1,"container","border","border-2","rounded","mb-3","shadow-sm","bg-white"],[1,"row","p-4"],[1,"col-3","d-flex","justify-content-center","align-items-center","p-0"],["alt","Logo",1,"img-fluid","rounded-circle",2,"object-fit","contain","max-height","10rem",3,"src"],[1,"col-9","d-flex","flex-column","justify-content-between"],[1,"fw-bold","fs-5","mb-2","text-wrap",2,"max-height","2rem","overflow","auto","overflow-wrap","break-word"],[1,"mb-2","text-wrap",2,"max-height","6rem","overflow","auto","overflow-wrap","break-word"],[1,"text-wrap"],[1,"fw-bold"],[1,"row","bg-info-subtle"],[1,"col-5","d-flex","justify-content-center","align-items-center","fw-semibold"],[1,"col-7","d-flex","justify-content-center","align-items-center","fw-bolder"],[1,"col-4","d-flex","justify-content-center","align-items-center","fw-bolder","text-danger"],[1,"col-3","d-flex","justify-content-center","align-items-center"],[1,"btn","btn-success"],[1,"col-7","d-flex","justify-content-center","align-items-center","text-center","fw-bolder"],["action","",3,"formGroup",4,"ngIf"],[1,"row","d-flex","justify-content-center","py-2","m-0"],["class","alert alert-success mt-2",4,"ngIf"],["id","confirmationModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade",3,"hidden.bs.modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header",2,"background-color","#f5f5f5"],["id","modalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Fechar",1,"btn-close"],[1,"modal-body",2,"background-color","#ffffff","color","#333"],[1,"text-start","fw-bold"],[1,"modal-footer",2,"background-color","#f9f9f9"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark",3,"click"],["action","",3,"formGroup"],[1,"row"],["for","nome",1,"form-label"],[1,"container"],["id","nome","name","nome","type","text","formControlName","nome",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","descricao",1,"form-label"],["id","descricao","name","descricao","type","text","formControlName","descricao",1,"form-control","w-100",2,"height","5em",3,"ngClass"],[1,"col-md"],["for","unidades",1,"form-label"],["id","unidades","name","unidades","type","number","formControlName","unidades",1,"form-control",3,"ngClass"],["for","pontos",1,"form-label"],["id","pontos","name","pontos","type","number","formControlName","pontos",1,"form-control",3,"ngClass"],["for","expiracao",1,"form-label"],["id","expiracao","name","expiracao","type","date","formControlName","expiracao",1,"form-control",3,"min","ngClass"],[1,"col"],["for","categoria",1,"form-label"],["title","categoria","name","categoria","id","categoria","formControlName","categoria",1,"form-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"row","my-2"],[1,"col","d-flex","justify-content-center"],["data-bs-toggle","modal","data-bs-target","#confirmationModal",1,"btn","btn-primary"],[1,"invalid-feedback"],[3,"value"],[1,"alert","alert-danger","mt-2"],[1,"alert","alert-success","mt-2"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"div",1)(2,"div",2),D(3," Preview "),x(),b(4,"div",3)(5,"div",4)(6,"div",5),le(7,"img",6),x(),b(8,"div",7)(9,"div",8),D(10),x(),b(11,"div",9),D(12),x(),b(13,"div",10)(14,"span",11),D(15,"Cupom gerado por: "),x(),D(16),x()()(),b(17,"div",12)(18,"div",13),D(19," Unidades Restantes: "),x(),b(20,"div",14),D(21),x()(),b(22,"div",12)(23,"div",13),D(24," Valor do Cupom: "),x(),b(25,"div",15),D(26),x(),b(27,"div",16)(28,"button",17),D(29,"Resgatar"),x()()(),b(30,"div",12)(31,"div",13),D(32," Validade do Cupom: "),x(),b(33,"div",18),D(34),nc(35,"date"),x()()()()(),q(36,dF,52,39,"form",19),b(37,"div",20)(38,"div",1),q(39,fF,2,0,"div",21),x()(),b(40,"div",22),Ce("hidden.bs.modal",function(){return r.cleanData()}),b(41,"div",23)(42,"div",24)(43,"div",25)(44,"h1",26),D(45,"Cria\xe7\xe3o de Pr\xeamio"),x(),le(46,"button",27),x(),b(47,"div",28)(48,"p",29),D(49,' Quando um pr\xeamio \xe9 criado, ele n\xe3o pode ser exclu\xeddo at\xe9 a data de expira\xe7\xe3o fornecida. A partir do momento em que voc\xea clicar em "Criar Pr\xeamio", os usu\xe1rios j\xe1 podem resgatar o mesmo. Caso necess\xe1rio, voc\xea pode desativar o cupom em Perfil da Empresa -> Meus Cupons. '),x()(),b(50,"div",30)(51,"button",31),Ce("click",function(){return r.submit()}),D(52," Criar Pr\xeamio "),x(),b(53,"button",32),Ce("click",function(){return r.cleanData()}),D(54," Cancelar "),x()()()()()),2&t&&(R(7),bn("src",null==r.user?null:r.user.profile_photo,Un),R(3),qe(" ",r.prize.get("nome").value," "),R(2),qe(" ",r.prize.get("descricao").value," "),R(4),qe(" ",null==r.user?null:r.user.partner_company_name," "),R(5),qe(" ",r.prize.get("unidades").value," Unidades "),R(5),qe(" ",r.prize.get("pontos").value," Pontos "),R(8),qe(" ",_d(35,9,r.prize.get("expiracao").value,"medium")," "),R(2),k("ngIf",!r.prizeCreated),R(3),k("ngIf",r.prizeCreated))},dependencies:[eo,us,cr,za,O1,L1,Oo,T1,Lc,Va,Ua,ko,vs,jd]}),e})(),pF=(()=>{class e{constructor(t){this.http=t,this.urls=new Sr}getPartner(t){return this.http.get(this.urls.partner+t)}}return e.\u0275fac=function(t){return new(t||e)(ne(jn))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function gF(e,n){if(1&e&&(b(0,"div",9)(1,"div",15),D(2," Telefone: "),x(),b(3,"div",16),D(4),x()()),2&e){const t=ie();R(4),qe(" ",null==t.partner?null:t.partner.partner_number_contact," ")}}function mF(e,n){if(1&e&&(b(0,"div",9)(1,"div",17),D(2," E-mail: "),x(),b(3,"div",16),D(4),x()()),2&e){const t=ie();R(4),qe(" ",null==t.partner?null:t.partner.partner_email_contact," ")}}function yF(e,n){if(1&e&&(b(0,"div",18)(1,"div",17),D(2," Rua: "),x(),b(3,"div",16),D(4),x()()),2&e){const t=ie();R(4),qe(" ",null==t.partner?null:t.partner.address_street," ")}}function vF(e,n){if(1&e&&(b(0,"div",18)(1,"div",17),D(2," CEP: "),x(),b(3,"div",16),D(4),x()()),2&e){const t=ie();R(4),qe(" ",null==t.partner?null:t.partner.cep," ")}}let CF=(()=>{class e{constructor(t,r,i){this.route=t,this.router=r,this.apiPartner=i}ngOnInit(){this.slug=this.route.snapshot.paramMap.get("slug"),this.baseUrl=this.apiPartner.urls.baseUrl,this.apiPartner.getPartner(this.slug).subscribe({next:t=>this.partner=t,error:t=>{t instanceof Qn&&404===t.status&&this.router.navigate(["not-found"])}})}}return e.\u0275fac=function(t){return new(t||e)(W(To),W(Ut),W(pF))},e.\u0275cmp=G({type:e,selectors:[["app-partner"]],decls:21,vars:7,consts:[[1,"row","d-flex","justify-content-center","pt-2","m-0"],[1,"col-md-6"],[1,"container","mb-3","shadow-sm","bg-danger-subtle","rounded"],[1,"row","p-4"],[1,"col-3","d-flex","justify-content-center","align-items-center","p-0"],["alt","Logo",1,"img-fluid","rounded-circle",2,"object-fit","contain","max-height","10rem",3,"src"],[1,"col-9","d-flex","flex-column","justify-content-around"],[1,"fw-bold","fs-5","mb-2","text-wrap",2,"max-height","2rem","overflow","auto","overflow-wrap","break-word"],[1,"mb-2","text-wrap","fs-5",2,"max-height","6rem","overflow","auto","overflow-wrap","break-word"],[1,"row","bg-info-subtle"],[1,"col","d-flex","justify-content-center","align-items-center","fw-bold","fs-3"],["class","row bg-info-subtle ",4,"ngIf"],["class","row bg-info-subtle",4,"ngIf"],[1,"row","bg-warning-subtle","border-warning"],["class","row bg-warning-subtle",4,"ngIf"],[1,"col","d-flex","justify-content-around","align-items-center","fw-bold"],[1,"col","d-flex","justify-content-center"],[1,"col","fw-bold","d-flex","justify-content-center"],[1,"row","bg-warning-subtle"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),le(5,"img",5),x(),b(6,"div",6)(7,"div",7),D(8),x(),b(9,"div",8),D(10),x()()(),b(11,"div",9)(12,"div",10),D(13," Contato "),x()(),q(14,gF,5,1,"div",11),q(15,mF,5,1,"div",12),b(16,"div",13)(17,"div",10),D(18," Endere\xe7o "),x()(),q(19,yF,5,1,"div",14),q(20,vF,5,1,"div",14),x()()()),2&t&&(R(5),bn("src",r.baseUrl+(null==r.partner?null:r.partner.profile_photo),Un),R(3),qe(" ",null==r.partner?null:r.partner.partner_company_name," "),R(2),qe(" ",null==r.partner?null:r.partner.partner_company_description," "),R(4),k("ngIf",null==r.partner?null:r.partner.partner_number_contact),R(1),k("ngIf",null==r.partner?null:r.partner.partner_email_contact),R(4),k("ngIf",null==r.partner?null:r.partner.partner_email_contact),R(1),k("ngIf",null==r.partner?null:r.partner.partner_email_contact))},dependencies:[cr]}),e})(),wF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=G({type:e,selectors:[["app-not-found"]],decls:12,vars:0,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-6","offset-md-3","text-center"],["id","Logo","fill","currentColor","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","100px","height","100px","viewBox","0 0 209.322 209.322",0,"xml","space","preserve",1,"m-2"],["d","M105.572,101.811c9.889-6.368,27.417-16.464,28.106-42.166c0.536-20.278-9.971-49.506-49.155-50.878\n                                    C53.041,7.659,39.9,28.251,36.071,46.739l-0.928-0.126c-1.932,0-3.438,1.28-5.34,2.889c-2.084,1.784-4.683,3.979-7.792,4.308\n                                    c-3.573,0.361-8.111-1.206-11.698-2.449c-4.193-1.431-6.624-2.047-8.265-0.759c-1.503,1.163-2.178,3.262-2.028,6.226\n                                    c0.331,6.326,4.971,18.917,16.016,25.778c7.67,4.765,16.248,5.482,20.681,5.482c0.006,0,0.006,0,0.006,0\n                                    c2.37,0,4.945-0.239,7.388-0.726c2.741,4.218,5.228,7.476,6.037,9.752c2.054,5.851-27.848,25.087-27.848,55.01\n                                    c0,29.916,22.013,48.475,56.727,48.475h55.004c30.593,0,70.814-29.908,75.291-92.48C180.781,132.191,167.028,98.15,105.572,101.811\n                                    z M18.941,77.945C8.775,71.617,4.992,58.922,5.294,55.525c0.897,0.24,2.194,0.689,3.228,1.042\n                                    c4.105,1.415,9.416,3.228,14.068,2.707c4.799-0.499,8.253-3.437,10.778-5.574c0.607-0.509,1.393-1.176,1.872-1.491\n                                    c0.87,0.315,0.962,0.693,1.176,3.14c0.196,2.26,0.473,5.37,2.362,9.006c1.437,2.761,3.581,5.705,5.646,8.542\n                                    c1.701,2.336,4.278,5.871,4.535,6.404c-0.445,1.184-4.907,3.282-12.229,3.282C30.177,82.591,23.69,80.904,18.941,77.945z\n                                    M56.86,49.368c0-4.938,4.001-8.943,8.931-8.943c4.941,0,8.942,4.005,8.942,8.943c0,4.931-4.001,8.942-8.942,8.942\n                                    C60.854,58.311,56.86,54.299,56.86,49.368z M149.159,155.398l-20.63,11.169l13.408,9.293c0,0-49.854,15.813-72.198-6.885\n                                    c-11.006-11.16-13.06-28.533,4.124-38.84c17.184-10.312,84.609,3.943,84.609,3.943L134.295,147.8L149.159,155.398z"],[1,"display-4","mt-3"],[1,"lead"],["routerLink","",1,"btn","btn-primary"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"div",1)(2,"div",2),Qr(),b(3,"svg",3)(4,"g"),le(5,"path",4),x()(),Co(),b(6,"h1",5),D(7,"Ops!"),x(),b(8,"p",6),D(9,"N\xe3o conseguimos encontrar a p\xe1gina que voc\xea est\xe1 procurando."),x(),b(10,"a",7),D(11,"Voltar para o In\xedcio"),x()()()())},dependencies:[no]}),e})(),_F=(()=>{class e{constructor(t,r,i){this.http=t,this.apiPoints=r,this.api=i,this.isGetting=!1,this.urls=new Sr}getRedeemedPrizes(){return this.http.get(this.urls.redeem)}getCreatedPrizes(){return this.http.get(this.urls.partnerPrizes)}getQrCode(t){return this.http.get(this.urls.qrCode+t)}disablePrize(t){return this.http.patch(this.urls.prize+t+"/",{disabled:!0})}activatePrize(t){return this.http.patch(this.urls.prize+t+"/",{disabled:!1})}}return e.\u0275fac=function(t){return new(t||e)(ne(jn),ne(Ba),ne(Ri))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function EF(e,n){if(1&e){const t=lt();b(0,"div",27)(1,"div",28),le(2,"img",29),x(),b(3,"div",30)(4,"div",31),D(5),x(),b(6,"div",32),D(7),x(),b(8,"div",33),D(9),x()(),b(10,"div",28)(11,"button",34),Ce("click",function(){We(t);const i=ie().$implicit;return $e(ie().getQrCode(i.prize.id))}),D(12," Gerar Qr Code "),x()()()}if(2&e){const t=ie().$implicit;R(2),hd("src","http://127.0.0.1:8000/",t.prize.logo,"",Un),R(3),qe(" ",t.prize.name," "),R(2),qe(" ",t.prize.description," "),R(2),qe(" Expira em: ",t.prize.expiry_date," ")}}function xF(e,n){if(1&e&&(b(0,"div"),q(1,EF,13,4,"div",26),x()),2&e){const t=n.$implicit;R(1),k("ngIf",!t.is_used)}}function bF(e,n){if(1&e){const t=lt();b(0,"button",40),Ce("click",function(){We(t);const i=ie(),s=i.$implicit,c=i.index;return $e(ie().getPrize(s.id,c))}),D(1," Desativar "),x()}}function AF(e,n){if(1&e){const t=lt();b(0,"button",41),Ce("click",function(){We(t);const i=ie(),s=i.$implicit,c=i.index;return $e(ie().getPrize(s.id,c))}),D(1," Ativar "),x()}}const k1=function(e){return{filter:e}};function DF(e,n){if(1&e&&(b(0,"div",27)(1,"div",35),le(2,"img",29),x(),b(3,"div",36)(4,"div",31),D(5),x(),b(6,"div",37),D(7),x(),b(8,"div",33),D(9),x()(),b(10,"div",28),q(11,bF,2,0,"button",38),q(12,AF,2,0,"button",39),x()()),2&e){const t=n.$implicit;R(1),k("ngStyle",dn(9,k1,t.disabled?"grayscale(100%)":"none")),R(1),bn("src",t.logo,Un),R(1),k("ngStyle",dn(11,k1,t.disabled?"grayscale(100%)":"none")),R(2),qe(" ",t.name," "),R(1),k("ngStyle",dn(13,k1,t.disabled?"grayscale(100%)":"none")),R(1),qe(" ",t.description," "),R(2),qe(" Expira em: ",t.expiry_date," "),R(2),k("ngIf",!t.disabled),R(1),k("ngIf",t.disabled)}}function IF(e,n){1&e&&le(0,"img",42),2&e&&bn("src",ie().qrCode,Un)}function SF(e,n){1&e&&(b(0,"div",43)(1,"div",44),le(2,"span",45),x()())}let TF=(()=>{class e{constructor(t){this.apiRedeemedPrizes=t,this.dataGet=!1,this.loader=!1,this.isPartner=!1}ngOnInit(){this.isPartner="true"===localStorage.getItem("isPartner"),this.isPartner?this.apiRedeemedPrizes.getCreatedPrizes().subscribe({next:t=>{this.createdPrizes=t},error:t=>{}}):this.apiRedeemedPrizes.getRedeemedPrizes().subscribe({next:t=>{this.redeemedPrizes=t,console.log(this.redeemedPrizes)},error:t=>{}})}getQrCode(t){this.loader=!0,this.apiRedeemedPrizes.getQrCode(t).subscribe({next:r=>{this.qrCode=r[0].qr_code},error:r=>{console.log(r)},complete:()=>{this.loader=!1}})}cleanData(){this.qrCode="",this.loader=!1,this.prize=null,this.index=null}desactivate(){this.apiRedeemedPrizes.disablePrize(this.prize).subscribe({next:t=>{this.createdPrizes[this.index]=t},error:t=>console.log(t)})}activate(){this.apiRedeemedPrizes.activatePrize(this.prize).subscribe({next:t=>{this.createdPrizes[this.index]=t},error:t=>console.log(t)})}getPrize(t,r){this.prize=t,this.index=r}}return e.\u0275fac=function(t){return new(t||e)(W(_F))},e.\u0275cmp=G({type:e,selectors:[["app-user-prizes"]],decls:50,vars:4,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-6","fs-2","fw-bold","py-2"],[1,"col-md-6","p-3"],[4,"ngFor","ngForOf"],["style","height: 8rem","class","row border border-2 rounded mb-3 bg-light rounded shadow-sm",4,"ngFor","ngForOf"],["id","confirmationModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Fechar",1,"btn-close"],[1,"modal-body","d-flex","justify-content-center"],["alt","","srcset","",3,"src",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-center"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["id","confirmationDeleteModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade",3,"hidden.bs.modal"],[1,"modal-header",2,"background-color","#f5f5f5"],["id","modalLabel",1,"modal-title","fs-5"],[1,"modal-body",2,"background-color","#ffffff","color","#333"],[1,"text-start","fw-bold"],[1,"modal-footer",2,"background-color","#f9f9f9"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-dark",3,"click"],["id","confirmationActivateModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true",1,"modal","fade",3,"hidden.bs.modal"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],["style","height: 8rem","class","row border border-2 rounded mb-3 bg-light rounded shadow-sm",4,"ngIf"],[1,"row","border","border-2","rounded","mb-3","bg-light","rounded","shadow-sm",2,"height","8rem"],[1,"col-3","d-flex","justify-content-center","align-items-center"],["alt","","srcset","",1,"img-thumbnail",3,"src"],[1,"col-6"],[1,"fw-bold","fs-5"],[1,"overflow-auto",2,"overflow-wrap","break-word"],[1,"overflow-auto","fw-semibold",2,"overflow-wrap","break-word"],["type","button","data-bs-toggle","modal","data-bs-target","#confirmationModal",1,"btn","btn-danger",3,"click"],[1,"col-3","d-flex","justify-content-center","align-items-center",3,"ngStyle"],[1,"col-6","d-flex","flex-column","justify-content-between",3,"ngStyle"],[1,"overflow-auto",2,"overflow-wrap","break-word",3,"ngStyle"],["type","button","class","btn btn-danger","data-bs-toggle","modal","data-bs-target","#confirmationDeleteModal",3,"click",4,"ngIf"],["type","button","class","btn btn-success","data-bs-toggle","modal","data-bs-target","#confirmationActivateModal",3,"click",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#confirmationDeleteModal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#confirmationActivateModal",1,"btn","btn-success",3,"click"],["alt","","srcset","",3,"src"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"div",1),D(2,"Meus Cupons:"),x()(),b(3,"div",0)(4,"div",2),q(5,xF,2,1,"div",3),q(6,DF,13,15,"div",4),x()(),b(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"h1",9),D(12,"QRCode"),x(),le(13,"button",10),x(),b(14,"div",11),q(15,IF,1,1,"img",12),q(16,SF,3,0,"div",13),x(),b(17,"div",14)(18,"button",15),Ce("click",function(){return r.cleanData()}),D(19," Cancelar "),x()()()()(),b(20,"div",16),Ce("hidden.bs.modal",function(){return r.cleanData()}),b(21,"div",6)(22,"div",7)(23,"div",17)(24,"h1",18),D(25,"Desativa\xe7\xe3o de Cupom"),x(),le(26,"button",10),x(),b(27,"div",19)(28,"p",20),D(29," Ao desativar este cupom, ele n\xe3o estar\xe1 mais dispon\xedvel para novos resgates. Entretanto, usu\xe1rios que j\xe1 o resgataram continuar\xe3o com seus cupons ativos. Deseja continuar? "),x()(),b(30,"div",21)(31,"button",22),Ce("click",function(){return r.desactivate()}),D(32," Desativar "),x(),b(33,"button",23),Ce("click",function(){return r.cleanData()}),D(34," Cancelar "),x()()()()(),b(35,"div",24),Ce("hidden.bs.modal",function(){return r.cleanData()}),b(36,"div",6)(37,"div",7)(38,"div",17)(39,"h1",18),D(40,"Reativa\xe7\xe3o de Cupom"),x(),le(41,"button",10),x(),b(42,"div",19)(43,"p",20),D(44," Ao reativar este cupom, ele se tornar\xe1 mais uma vez dispon\xedvel para novos resgates. Deseja continuar? "),x()(),b(45,"div",21)(46,"button",25),Ce("click",function(){return r.activate()}),D(47," Reativar "),x(),b(48,"button",23),Ce("click",function(){return r.cleanData()}),D(49," Cancelar "),x()()()()()),2&t&&(R(5),k("ngForOf",r.redeemedPrizes),R(1),k("ngForOf",r.createdPrizes),R(9),k("ngIf",!r.loader),R(1),k("ngIf",r.loader))},dependencies:[us,cr,Ew]}),e})(),Zx=(()=>{class e{constructor(t,r){this.router=t,this.api=r}canActivate(t,r){return"true"===localStorage.getItem("isPartner")||(this.router.navigate([""]),!1)}}return e.\u0275fac=function(t){return new(t||e)(ne(Ut),ne(Ri))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const MF=[{path:"",component:C5},{path:"register",component:PL,canActivate:[kc]},{path:"login",component:jL,canActivate:[kc]},{path:"login/reenviar",component:Xx,canActivate:[kc]},{path:"como-jogar",component:zL},{path:"guia-parceiros",component:X7,canActivate:[Bo,Zx]},{path:"perfil",component:XL,children:[{path:"dados",component:g7,canActivate:[Bo]},{path:"historico",component:v7,canActivate:[Bo]},{path:"meus-cupons",component:TF,canActivate:[Bo]}],canActivate:[Bo]},{path:"locais",component:b7},{path:"reenviar-email-verificacao",component:Xx,canActivate:[kc]},{path:"parceiros/:slug",component:CF,canActivate:[Bo]},{path:"verificacao-email/:key",component:O7,canActivate:[kc]},{path:"premios",component:Y7,canActivate:[Bo]},{path:"novo-premio",component:hF,canActivate:[Bo,Zx]},{path:"**",component:wF}];let NF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=nr({imports:[nE.forRoot(MF),nE]}),e})();function RF(e,n){1&e&&(b(0,"a",28),D(1,"Perfil da Empresa"),x())}function OF(e,n){1&e&&(b(0,"a",28),D(1,"Perfil do Usu\xe1rio"),x())}function PF(e,n){1&e&&(b(0,"a",29),D(1,"Como Jogar"),x())}function LF(e,n){1&e&&(b(0,"a",30),D(1,"Guia Para Parceiros"),x())}function FF(e,n){1&e&&(b(0,"a",31),D(1,"Lista de Pr\xeamios"),x())}function kF(e,n){1&e&&(b(0,"a",32),D(1,"Criar um Pr\xeamio"),x())}function BF(e,n){1&e&&(b(0,"a",33),D(1,"Registrar"),x())}function VF(e,n){1&e&&(b(0,"a",34),D(1,"Entrar"),x())}function UF(e,n){if(1&e){const t=lt();b(0,"button",35),Ce("click",function(){return We(t),$e(ie().logout())}),D(1," Logout "),x()}}let HF=(()=>{class e{constructor(t,r,i){this.api=t,this.router=r,this.apiPoints=i,this.title="duck-go",this.userVerified=!1,this.isPartner=!1}ngOnInit(){this.api.isAuthenticated.subscribe({next:t=>{this.userVerified=t}}),this.subscription=this.router.events.subscribe(t=>{t instanceof So&&(this.isPartner="true"===localStorage.getItem("isPartner"),this.apiPoints.manyGetPoints=!1,this.apiPoints.getPointSuccess=!1,this.verification=this.api.userAuthenticated.subscribe({next:r=>{r?(this.userVerified=!0,this.api.isPartner$.subscribe({next:i=>{this.isPartner=i}})):this.userVerified=!1},complete:()=>{this.verification.unsubscribe()}}))})}logout(){this.api.logout()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(W(Ri),W(Ut),W(Ba))},e.\u0275cmp=G({type:e,selectors:[["app-root"]],decls:47,vars:9,consts:[[1,"navbar","navbar-expand-lg","bg-primary-subtle"],[1,"container-fluid"],["routerLink","",1,"navbar-brand","text-primary","d-flex","justify-content-between","align-items-center"],["id","Logo","fill","currentColor","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","25px","height","25px","viewBox","0 0 209.322 209.322",0,"xml","space","preserve",1,"m-2"],["d","M105.572,101.811c9.889-6.368,27.417-16.464,28.106-42.166c0.536-20.278-9.971-49.506-49.155-50.878\n                            C53.041,7.659,39.9,28.251,36.071,46.739l-0.928-0.126c-1.932,0-3.438,1.28-5.34,2.889c-2.084,1.784-4.683,3.979-7.792,4.308\n                            c-3.573,0.361-8.111-1.206-11.698-2.449c-4.193-1.431-6.624-2.047-8.265-0.759c-1.503,1.163-2.178,3.262-2.028,6.226\n                            c0.331,6.326,4.971,18.917,16.016,25.778c7.67,4.765,16.248,5.482,20.681,5.482c0.006,0,0.006,0,0.006,0\n                            c2.37,0,4.945-0.239,7.388-0.726c2.741,4.218,5.228,7.476,6.037,9.752c2.054,5.851-27.848,25.087-27.848,55.01\n                            c0,29.916,22.013,48.475,56.727,48.475h55.004c30.593,0,70.814-29.908,75.291-92.48C180.781,132.191,167.028,98.15,105.572,101.811\n                            z M18.941,77.945C8.775,71.617,4.992,58.922,5.294,55.525c0.897,0.24,2.194,0.689,3.228,1.042\n                            c4.105,1.415,9.416,3.228,14.068,2.707c4.799-0.499,8.253-3.437,10.778-5.574c0.607-0.509,1.393-1.176,1.872-1.491\n                            c0.87,0.315,0.962,0.693,1.176,3.14c0.196,2.26,0.473,5.37,2.362,9.006c1.437,2.761,3.581,5.705,5.646,8.542\n                            c1.701,2.336,4.278,5.871,4.535,6.404c-0.445,1.184-4.907,3.282-12.229,3.282C30.177,82.591,23.69,80.904,18.941,77.945z\n                            M56.86,49.368c0-4.938,4.001-8.943,8.931-8.943c4.941,0,8.942,4.005,8.942,8.943c0,4.931-4.001,8.942-8.942,8.942\n                            C60.854,58.311,56.86,54.299,56.86,49.368z M149.159,155.398l-20.63,11.169l13.408,9.293c0,0-49.854,15.813-72.198-6.885\n                            c-11.006-11.16-13.06-28.533,4.124-38.84c17.184-10.312,84.609,3.943,84.609,3.943L134.295,147.8L149.159,155.398z"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end","bg-primary-subtle"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title","text-primary"],["d","M105.572,101.811c9.889-6.368,27.417-16.464,28.106-42.166c0.536-20.278-9.971-49.506-49.155-50.878\n                                    C53.041,7.659,39.9,28.251,36.071,46.739l-0.928-0.126c-1.932,0-3.438,1.28-5.34,2.889c-2.084,1.784-4.683,3.979-7.792,4.308\n                                    c-3.573,0.361-8.111-1.206-11.698-2.449c-4.193-1.431-6.624-2.047-8.265-0.759c-1.503,1.163-2.178,3.262-2.028,6.226\n                                    c0.331,6.326,4.971,18.917,16.016,25.778c7.67,4.765,16.248,5.482,20.681,5.482c0.006,0,0.006,0,0.006,0\n                                    c2.37,0,4.945-0.239,7.388-0.726c2.741,4.218,5.228,7.476,6.037,9.752c2.054,5.851-27.848,25.087-27.848,55.01\n                                    c0,29.916,22.013,48.475,56.727,48.475h55.004c30.593,0,70.814-29.908,75.291-92.48C180.781,132.191,167.028,98.15,105.572,101.811\n                                    z M18.941,77.945C8.775,71.617,4.992,58.922,5.294,55.525c0.897,0.24,2.194,0.689,3.228,1.042\n                                    c4.105,1.415,9.416,3.228,14.068,2.707c4.799-0.499,8.253-3.437,10.778-5.574c0.607-0.509,1.393-1.176,1.872-1.491\n                                    c0.87,0.315,0.962,0.693,1.176,3.14c0.196,2.26,0.473,5.37,2.362,9.006c1.437,2.761,3.581,5.705,5.646,8.542\n                                    c1.701,2.336,4.278,5.871,4.535,6.404c-0.445,1.184-4.907,3.282-12.229,3.282C30.177,82.591,23.69,80.904,18.941,77.945z\n                                    M56.86,49.368c0-4.938,4.001-8.943,8.931-8.943c4.941,0,8.942,4.005,8.942,8.943c0,4.931-4.001,8.942-8.942,8.942\n                                    C60.854,58.311,56.86,54.299,56.86,49.368z M149.159,155.398l-20.63,11.169l13.408,9.293c0,0-49.854,15.813-72.198-6.885\n                                    c-11.006-11.16-13.06-28.533,4.124-38.84c17.184-10.312,84.609,3.943,84.609,3.943L134.295,147.8L149.159,155.398z"],[1,"m-2"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[1,"navbar-nav","flex-grow-1","pe-md-5"],[1,"nav-item"],["data-bs-dismiss","offcanvas","aria-current","page","routerLink","",1,"nav-link","active","pe-md-5","text-secondary"],["data-bs-dismiss","offcanvas","class","nav-link active pe-md-5 text-secondary","routerLink","/perfil",4,"ngIf"],["data-bs-dismiss","offcanvas","class","nav-link active pe-md-5 text-secondary","routerLink","/como-jogar",4,"ngIf"],["data-bs-dismiss","offcanvas","class","nav-link active pe-md-5 text-secondary","routerLink","/guia-parceiros",4,"ngIf"],["data-bs-dismiss","offcanvas","class","nav-link active pe-md-5 text-secondary","routerLink","premios",4,"ngIf"],["data-bs-dismiss","offcanvas","class","nav-link active pe-md-5 text-secondary","routerLink","novo-premio",4,"ngIf"],["data-bs-dismiss","offcanvas","routerLink","locais",1,"nav-link","active","pe-md-5","text-secondary"],[1,"d-flex","flex-column","flex-lg-row"],["data-bs-dismiss","offcanvas","class","btn btn-primary mx-2 my-2 my-lg-0 nav-link active p-2","routerLink","/register",4,"ngIf"],["data-bs-dismiss","offcanvas","class","btn btn-success mx-2 my-2 my-lg-0 nav-link active p-2","routerLink","/login",4,"ngIf"],["data-bs-dismiss","offcanvas","href","","class","btn btn-danger mx-2 my-2 my-lg-0 nav-link active p-2",3,"click",4,"ngIf"],[1,"container-fluid","border-top","border","text-center","mt-1","text-secondary","fs-6"],["data-bs-dismiss","offcanvas","routerLink","/perfil",1,"nav-link","active","pe-md-5","text-secondary"],["data-bs-dismiss","offcanvas","routerLink","/como-jogar",1,"nav-link","active","pe-md-5","text-secondary"],["data-bs-dismiss","offcanvas","routerLink","/guia-parceiros",1,"nav-link","active","pe-md-5","text-secondary"],["data-bs-dismiss","offcanvas","routerLink","premios",1,"nav-link","active","pe-md-5","text-secondary"],["data-bs-dismiss","offcanvas","routerLink","novo-premio",1,"nav-link","active","pe-md-5","text-secondary"],["data-bs-dismiss","offcanvas","routerLink","/register",1,"btn","btn-primary","mx-2","my-2","my-lg-0","nav-link","active","p-2"],["data-bs-dismiss","offcanvas","routerLink","/login",1,"btn","btn-success","mx-2","my-2","my-lg-0","nav-link","active","p-2"],["data-bs-dismiss","offcanvas","href","",1,"btn","btn-danger","mx-2","my-2","my-lg-0","nav-link","active","p-2",3,"click"]],template:function(t,r){1&t&&(b(0,"nav",0)(1,"div",1)(2,"a",2),Qr(),b(3,"svg",3)(4,"g"),le(5,"path",4),x()(),D(6," Duck GO!"),x(),Co(),b(7,"button",5),le(8,"span",6),x(),b(9,"div",7)(10,"div",8)(11,"h5",9),Qr(),b(12,"svg",3)(13,"g"),le(14,"path",10),x()(),Co(),b(15,"span",11),D(16,"Duck GO!"),x()(),le(17,"button",12),x(),b(18,"div",13)(19,"ul",14)(20,"li",15)(21,"a",16),D(22,"Home"),x()(),b(23,"li",15),q(24,RF,2,0,"a",17),x(),b(25,"li",15),q(26,OF,2,0,"a",17),x(),b(27,"li",15),q(28,PF,2,0,"a",18),x(),b(29,"li",15),q(30,LF,2,0,"a",19),x(),b(31,"li",15),q(32,FF,2,0,"a",20),x(),b(33,"li",15),q(34,kF,2,0,"a",21),x(),b(35,"li",15)(36,"a",22),D(37,"Locais de Ca\xe7a"),x()()(),b(38,"div",23),q(39,BF,2,0,"a",24),q(40,VF,2,0,"a",25),q(41,UF,2,0,"button",26),x()()()()(),b(42,"main"),le(43,"router-outlet"),x(),b(44,"footer")(45,"div",27),D(46," Todos os direitos reservados - (Nome da empresa aqui e outras informa\xe7\xf5es) "),x()()),2&t&&(R(24),k("ngIf",r.userVerified&&r.isPartner),R(2),k("ngIf",r.userVerified&&!r.isPartner),R(2),k("ngIf",!r.isPartner),R(2),k("ngIf",r.isPartner),R(2),k("ngIf",r.userVerified),R(2),k("ngIf",r.userVerified&&r.isPartner),R(5),k("ngIf",!r.userVerified),R(1),k("ngIf",!r.userVerified),R(1),k("ngIf",r.userVerified))},dependencies:[cr,wc,no]}),e})(),jF=(()=>{class e{constructor(t){this.auth=t}intercept(t,r){return this.auth.currentToken.pipe(ds(1),Ve(i=>(i&&(this.auth.userAuthenticated.next(!0),t=t.clone({setHeaders:{Authorization:`Bearer ${i}`}})),r.handle(t).pipe(Fr(s=>s instanceof Qn&&401===s.status&&this.auth.refreshTokenInProgress?ii(()=>s):s instanceof Qn&&401===s.status?this.handle401Error(t,r):ii(()=>s))))))}handle401Error(t,r){return this.auth.refreshToken().pipe(Ve(()=>(t=t.clone({setHeaders:{Authorization:`Bearer ${this.auth.currentToken.value}`}}),r.handle(t))),Fr(i=>(this.auth.userAuthenticated.next(!1),ii(()=>i))))}}return e.\u0275fac=function(t){return new(t||e)(ne(Ri))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),zF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Gt({type:e,bootstrap:[HF]}),e.\u0275inj=nr({providers:[{provide:OE,useClass:jF,multi:!0},Yx],imports:[eR,NF,fL,jP]}),e})();K8().bootstrapModule(zF).catch(e=>console.error(e))},834:function(Bc,Vc){!function(Q){"use strict";function et(C){return null==C}var $a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,o){C.__proto__=o}||function(C,o){for(var a in o)o.hasOwnProperty(a)&&(C[a]=o[a])};var Uc=function(C){function o(a){var l=this.constructor,u=C.call(this,a)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),function Ya(C,o){var a=Object.setPrototypeOf;a?a(C,o):C.__proto__=o}(u,l.prototype),function Jn(C,o){void 0===o&&(o=C.constructor);var a=Error.captureStackTrace;a&&a(C,o)}(u),u}return function qa(C,o){function a(){this.constructor=C}$a(C,o),C.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}(o,C),o}(Error);let wn=(()=>{class C extends Uc{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}return C.kind="Exception",C})(),Gn=(()=>{class C extends wn{}return C.kind="ArgumentException",C})(),fe=(()=>{class C extends wn{}return C.kind="IllegalArgumentException",C})();class Vr{constructor(o){if(this.binarizer=o,null===o)throw new fe("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,a){return this.binarizer.getBlackRow(o,a)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,a,l,u){const d=this.binarizer.getLuminanceSource().crop(o,a,l,u);return new Vr(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new Vr(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new Vr(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let Kt=(()=>{class C extends wn{static getChecksumInstance(){return new C}}return C.kind="ChecksumException",C})();class Xa{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _t{static arraycopy(o,a,l,u,d){for(;d--;)l[u++]=o[a++]}static currentTimeMillis(){return Date.now()}}let Za=(()=>{class C extends wn{}return C.kind="IndexOutOfBoundsException",C})(),Hc=(()=>{class C extends Za{constructor(a=void 0,l=void 0){super(l),this.index=a,this.message=l}}return C.kind="ArrayIndexOutOfBoundsException",C})();class Zt{static fill(o,a){for(let l=0,u=o.length;l<u;l++)o[l]=a}static fillWithin(o,a,l,u){Zt.rangeCheck(o.length,a,l);for(let d=a;d<l;d++)o[d]=u}static rangeCheck(o,a,l){if(a>l)throw new fe("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new Hc(a);if(l>o)throw new Hc(l)}static asList(...o){return o}static create(o,a,l){return Array.from({length:o}).map(d=>Array.from({length:a}).fill(l))}static createInt32Array(o,a,l){return Array.from({length:o}).map(d=>Int32Array.from({length:a}).fill(l))}static equals(o,a){if(!(o&&a&&o.length&&a.length&&o.length===a.length))return!1;for(let l=0,u=o.length;l<u;l++)if(o[l]!==a[l])return!1;return!0}static hashCode(o){if(null===o)return 0;let a=1;for(const l of o)a=31*a+l;return a}static fillUint8Array(o,a){for(let l=0;l!==o.length;l++)o[l]=a}static copyOf(o,a){return o.slice(0,a)}static copyOfUint8Array(o,a){if(o.length<=a){const l=new Uint8Array(a);return l.set(o),l}return o.slice(0,a)}static copyOfRange(o,a,l){const u=l-a,d=new Int32Array(u);return _t.arraycopy(o,a,d,0,u),d}static binarySearch(o,a,l){void 0===l&&(l=Zt.numberComparator);let u=0,d=o.length-1;for(;u<=d;){const f=d+u>>1,p=l(a,o[f]);if(p>0)u=f+1;else{if(!(p<0))return f;d=f-1}}return-u-1}static numberComparator(o,a){return o-a}}class Ne{static numberOfTrailingZeros(o){let a;if(0===o)return 32;let l=31;return a=o<<16,0!==a&&(l-=16,o=a),a=o<<8,0!==a&&(l-=8,o=a),a=o<<4,0!==a&&(l-=4,o=a),a=o<<2,0!==a&&(l-=2,o=a),l-(o<<1>>>31)}static numberOfLeadingZeros(o){if(0===o)return 32;let a=1;return o>>>16||(a+=16,o<<=16),o>>>24||(a+=8,o<<=8),o>>>28||(a+=4,o<<=4),o>>>30||(a+=2,o<<=2),a-=o>>>31,a}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=(o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135,63&(o+=o>>>8)+(o>>>16)}static truncDivision(o,a){return Math.trunc(o/a)}static parseInt(o,a=void 0){return parseInt(o,a)}}Ne.MIN_VALUE_32_BITS=-2147483648,Ne.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Et{constructor(o,a){void 0===o?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,this.bits=null==a?Et.makeArray(o):a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>32*this.bits.length){const a=Et.makeArray(o);_t.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(o){return 0!=(this.bits[Math.floor(o/32)]&1<<(31&o))}set(o){this.bits[Math.floor(o/32)]|=1<<(31&o)}flip(o){this.bits[Math.floor(o/32)]^=1<<(31&o)}getNextSet(o){const a=this.size;if(o>=a)return a;const l=this.bits;let u=Math.floor(o/32),d=l[u];d&=~((1<<(31&o))-1);const f=l.length;for(;0===d;){if(++u===f)return a;d=l[u]}const p=32*u+Ne.numberOfTrailingZeros(d);return p>a?a:p}getNextUnset(o){const a=this.size;if(o>=a)return a;const l=this.bits;let u=Math.floor(o/32),d=~l[u];d&=~((1<<(31&o))-1);const f=l.length;for(;0===d;){if(++u===f)return a;d=~l[u]}const p=32*u+Ne.numberOfTrailingZeros(d);return p>a?a:p}setBulk(o,a){this.bits[Math.floor(o/32)]=a}setRange(o,a){if(a<o||o<0||a>this.size)throw new fe;if(a===o)return;a--;const l=Math.floor(o/32),u=Math.floor(a/32),d=this.bits;for(let f=l;f<=u;f++)d[f]|=(2<<(f<u?31:31&a))-(1<<(f>l?0:31&o))}clear(){const o=this.bits.length,a=this.bits;for(let l=0;l<o;l++)a[l]=0}isRange(o,a,l){if(a<o||o<0||a>this.size)throw new fe;if(a===o)return!0;a--;const u=Math.floor(o/32),d=Math.floor(a/32),f=this.bits;for(let p=u;p<=d;p++){const _=(2<<(p<d?31:31&a))-(1<<(p>u?0:31&o))&4294967295;if((f[p]&_)!==(l?_:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(o,a){if(a<0||a>32)throw new fe("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit(1==(o>>l-1&1))}appendBitArray(o){const a=o.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(o.get(l))}xor(o){if(this.size!==o.size)throw new fe("Sizes don't match");const a=this.bits;for(let l=0,u=a.length;l<u;l++)a[l]^=o.bits[l]}toBytes(o,a,l,u){for(let d=0;d<u;d++){let f=0;for(let p=0;p<8;p++)this.get(o)&&(f|=1<<7-p),o++;a[l+d]=f}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,u=this.bits;for(let d=0;d<l;d++){let f=u[d];f=f>>1&1431655765|(1431655765&f)<<1,f=f>>2&858993459|(858993459&f)<<2,f=f>>4&252645135|(252645135&f)<<4,f=f>>8&16711935|(16711935&f)<<8,f=f>>16&65535|(65535&f)<<16,o[a-d]=f}if(this.size!==32*l){const d=32*l-this.size;let f=o[0]>>>d;for(let p=1;p<l;p++){const y=o[p];f|=y<<32-d,o[p-1]=f,f=y>>>d}o[l-1]=f}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){return o instanceof Et&&this.size===o.size&&Zt.equals(this.bits,o.bits)}hashCode(){return 31*this.size+Zt.hashCode(this.bits)}toString(){let o="";for(let a=0,l=this.size;a<l;a++)7&a||(o+=" "),o+=this.get(a)?"X":".";return o}clone(){return new Et(this.size,this.bits.slice())}}var jc=function(C){return C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",C}(jc||{}),St=jc;let oe=(()=>{class C extends wn{static getFormatInstance(){return new C}}return C.kind="FormatException",C})();var ct=function(C){return C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR",C}(ct||{});class te{constructor(o,a,l,...u){this.valueIdentifier=o,this.name=l,this.values="number"==typeof a?Int32Array.from([a]):a,this.otherEncodingNames=u,te.VALUE_IDENTIFIER_TO_ECI.set(o,this),te.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,p=d.length;f!==p;f++)te.VALUES_TO_ECI.set(d[f],this);for(const f of u)te.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new oe("incorect value");const a=te.VALUES_TO_ECI.get(o);if(void 0===a)throw new oe("incorect value");return a}static getCharacterSetECIByName(o){const a=te.NAME_TO_ECI.get(o);if(void 0===a)throw new oe("incorect value");return a}equals(o){if(!(o instanceof te))return!1;const a=o;return this.getName()===a.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te(ct.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te(ct.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te(ct.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te(ct.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te(ct.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te(ct.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te(ct.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te(ct.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te(ct.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te(ct.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te(ct.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te(ct.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te(ct.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te(ct.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te(ct.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te(ct.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te(ct.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te(ct.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te(ct.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te(ct.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te(ct.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te(ct.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te(ct.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te(ct.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te(ct.Big5,28,"Big5"),te.GB18030=new te(ct.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te(ct.EUC_KR,30,"EUC_KR","EUC-KR");let Ur=(()=>{class C extends wn{}return C.kind="UnsupportedOperationException",C})();class hn{static decode(o,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(o,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(o,l):new TextDecoder(l).decode(o)}static shouldDecodeOnFallback(o){return!hn.isBrowser()&&"ISO-8859-1"===o}static encode(o,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(o,l):typeof TextEncoder>"u"?this.encodeFallback(o):(new TextEncoder).encode(o)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(o){return"string"==typeof o?o:o.getName()}static encodingCharacterSet(o){return o instanceof te?o:te.getCharacterSetECIByName(o)}static decodeFallback(o,a){const l=this.encodingCharacterSet(a);if(hn.isDecodeFallbackSupported(l)){let u="";for(let d=0,f=o.length;d<f;d++){let p=o[d].toString(16);p.length<2&&(p="0"+p),u+="%"+p}return decodeURIComponent(u)}if(l.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new Ur(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(te.UTF8)||o.equals(te.ISO8859_1)||o.equals(te.ASCII)}static encodeFallback(o){const l=btoa(unescape(encodeURIComponent(o))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class Se{static castAsNonUtf8Char(o,a=null){const l=a?a.getName():this.ISO88591;return hn.decode(new Uint8Array([o]),l)}static guessEncoding(o,a){if(null!=a&&void 0!==a.get(St.CHARACTER_SET))return a.get(St.CHARACTER_SET).toString();const l=o.length;let u=!0,d=!0,f=!0,p=0,y=0,v=0,_=0,A=0,I=0,M=0,O=0,P=0,B=0,j=0;const J=o.length>3&&239===o[0]&&187===o[1]&&191===o[2];for(let ae=0;ae<l&&(u||d||f);ae++){const G=255&o[ae];f&&(p>0?128&G?p--:f=!1:128&G&&(64&G?(p++,32&G?(p++,16&G?(p++,8&G?f=!1:_++):v++):y++):f=!1)),u&&(G>127&&G<160?u=!1:G>159&&(G<192||215===G||247===G)&&j++),d&&(A>0?G<64||127===G||G>252?d=!1:A--:128===G||160===G||G>239?d=!1:G>160&&G<224?(I++,O=0,M++,M>P&&(P=M)):G>127?(A++,M=0,O++,O>B&&(B=O)):(M=0,O=0))}return f&&p>0&&(f=!1),d&&A>0&&(d=!1),f&&(J||y+v+_>0)?Se.UTF8:d&&(Se.ASSUME_SHIFT_JIS||P>=3||B>=3)?Se.SHIFT_JIS:u&&d?2===P&&2===I||10*j>=l?Se.SHIFT_JIS:Se.ISO88591:u?Se.ISO88591:d?Se.SHIFT_JIS:f?Se.UTF8:Se.PLATFORM_DEFAULT_ENCODING}static format(o,...a){let l=-1;return o.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function u(f,p,y,v,_,A){if("%%"===f)return"%";if(void 0===a[++l])return;f=v?parseInt(v.substr(1)):void 0;let M,I=_?parseInt(_.substr(1)):void 0;switch(A){case"s":M=a[l];break;case"c":M=a[l][0];break;case"f":M=parseFloat(a[l]).toFixed(f);break;case"p":M=parseFloat(a[l]).toPrecision(f);break;case"e":M=parseFloat(a[l]).toExponential(f);break;case"x":M=parseInt(a[l]).toString(I||16);break;case"d":M=parseFloat(parseInt(a[l],I||10).toPrecision(f)).toFixed(0)}M="object"==typeof M?JSON.stringify(M):(+M).toString(I);let O=parseInt(y),P=y&&y[0]+""=="0"?"0":" ";for(;M.length<O;)M=void 0!==p?M+P:P+M;return M})}static getBytes(o,a){return hn.encode(o,a)}static getCharCode(o,a=0){return o.charCodeAt(a)}static getCharAt(o){return String.fromCharCode(o)}}Se.SHIFT_JIS=te.SJIS.getName(),Se.GB2312="GB2312",Se.ISO88591=te.ISO8859_1.getName(),Se.EUC_JP="EUC_JP",Se.UTF8=te.UTF8.getName(),Se.PLATFORM_DEFAULT_ENCODING=Se.UTF8,Se.ASSUME_SHIFT_JIS=!1;class ut{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return this.value+="string"==typeof o?o.toString():this.encoding?Se.castAsNonUtf8Char(o,this.encoding):String.fromCharCode(o),this}appendChars(o,a,l){for(let u=a;a<a+l;u++)this.append(o[u]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,a){this.value=this.value.substr(0,o)+a+this.value.substr(o+1)}substring(o,a){return this.value.substring(o,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,a){this.value=this.value.substr(0,o)+a+this.value.substr(o+a.length)}}class an{constructor(o,a,l,u){if(this.width=o,this.height=a,this.rowSize=l,this.bits=u,null==a&&(a=o),this.height=a,o<1||a<1)throw new fe("Both dimensions must be greater than 0");null==l&&(l=Math.floor((o+31)/32)),this.rowSize=l,null==u&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const a=o.length,l=o[0].length,u=new an(l,a);for(let d=0;d<a;d++){const f=o[d];for(let p=0;p<l;p++)f[p]&&u.set(p,d)}return u}static parseFromString(o,a,l){if(null===o)throw new fe("stringRepresentation cannot be null");const u=new Array(o.length);let d=0,f=0,p=-1,y=0,v=0;for(;v<o.length;)if("\n"===o.charAt(v)||"\r"===o.charAt(v)){if(d>f){if(-1===p)p=d-f;else if(d-f!==p)throw new fe("row lengths do not match");f=d,y++}v++}else if(o.substring(v,v+a.length)===a)v+=a.length,u[d]=!0,d++;else{if(o.substring(v,v+l.length)!==l)throw new fe("illegal character encountered: "+o.substring(v));v+=l.length,u[d]=!1,d++}if(d>f){if(-1===p)p=d-f;else if(d-f!==p)throw new fe("row lengths do not match");y++}const _=new an(p,y);for(let A=0;A<d;A++)u[A]&&_.set(Math.floor(A%p),Math.floor(A/p));return _}get(o,a){const l=a*this.rowSize+Math.floor(o/32);return 0!=(this.bits[l]>>>(31&o)&1)}set(o,a){const l=a*this.rowSize+Math.floor(o/32);this.bits[l]|=1<<(31&o)&4294967295}unset(o,a){const l=a*this.rowSize+Math.floor(o/32);this.bits[l]&=~(1<<(31&o)&4294967295)}flip(o,a){const l=a*this.rowSize+Math.floor(o/32);this.bits[l]^=1<<(31&o)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new fe("input matrix dimensions do not match");const a=new Et(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,f=this.height;d<f;d++){const p=d*l,y=o.getRow(d,a).getBitArray();for(let v=0;v<l;v++)u[p+v]^=y[v]}}clear(){const o=this.bits,a=o.length;for(let l=0;l<a;l++)o[l]=0}setRegion(o,a,l,u){if(a<0||o<0)throw new fe("Left and top must be nonnegative");if(u<1||l<1)throw new fe("Height and width must be at least 1");const d=o+l,f=a+u;if(f>this.height||d>this.width)throw new fe("The region must fit inside the matrix");const p=this.rowSize,y=this.bits;for(let v=a;v<f;v++){const _=v*p;for(let A=o;A<d;A++)y[_+Math.floor(A/32)]|=1<<(31&A)&4294967295}}getRow(o,a){null==a||a.getSize()<this.width?a=new Et(this.width):a.clear();const l=this.rowSize,u=this.bits,d=o*l;for(let f=0;f<l;f++)a.setBulk(32*f,u[d+f]);return a}setRow(o,a){_t.arraycopy(a.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),a=this.getHeight();let l=new Et(o),u=new Et(o);for(let d=0,f=Math.floor((a+1)/2);d<f;d++)l=this.getRow(d,l),u=this.getRow(a-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(a-1-d,l)}getEnclosingRectangle(){const a=this.height,l=this.rowSize,u=this.bits;let d=this.width,f=a,p=-1,y=-1;for(let v=0;v<a;v++)for(let _=0;_<l;_++){const A=u[v*l+_];if(0!==A){if(v<f&&(f=v),v>y&&(y=v),32*_<d){let I=0;for(;!(A<<31-I&4294967295);)I++;32*_+I<d&&(d=32*_+I)}if(32*_+31>p){let I=31;for(;!(A>>>I);)I--;32*_+I>p&&(p=32*_+I)}}}return p<d||y<f?null:Int32Array.from([d,f,p-d+1,y-f+1])}getTopLeftOnBit(){const o=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&0===a[l];)l++;if(l===a.length)return null;const u=l/o;let d=l%o*32;const f=a[l];let p=0;for(;!(f<<31-p&4294967295);)p++;return d+=p,Int32Array.from([d,u])}getBottomRightOnBit(){const o=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&0===a[l];)l--;if(l<0)return null;const u=Math.floor(l/o);let d=32*Math.floor(l%o);const f=a[l];let p=31;for(;!(f>>>p);)p--;return d+=p,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){return o instanceof an&&this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&Zt.equals(this.bits,o.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+Zt.hashCode(this.bits),o}toString(o="X ",a="  ",l="\n"){return this.buildToString(o,a,l)}buildToString(o,a,l){let u=new ut;for(let d=0,f=this.height;d<f;d++){for(let p=0,y=this.width;p<y;p++)u.append(this.get(p,d)?o:a);u.append(l)}return u.toString()}clone(){return new an(this.width,this.height,this.rowSize,this.bits.slice())}}let Y=(()=>{class C extends wn{static getNotFoundInstance(){return new C}}return C.kind="NotFoundException",C})();class Mt extends Xa{constructor(o){super(o),this.luminances=Mt.EMPTY,this.buckets=new Int32Array(Mt.LUMINANCE_BUCKETS)}getBlackRow(o,a){const l=this.getLuminanceSource(),u=l.getWidth();null==a||a.getSize()<u?a=new Et(u):a.clear(),this.initArrays(u);const d=l.getRow(o,this.luminances),f=this.buckets;for(let y=0;y<u;y++)f[(255&d[y])>>Mt.LUMINANCE_SHIFT]++;const p=Mt.estimateBlackPoint(f);if(u<3)for(let y=0;y<u;y++)(255&d[y])<p&&a.set(y);else{let y=255&d[0],v=255&d[1];for(let _=1;_<u-1;_++){const A=255&d[_+1];(4*v-y-A)/2<p&&a.set(_),y=v,v=A}}return a}getBlackMatrix(){const o=this.getLuminanceSource(),a=o.getWidth(),l=o.getHeight(),u=new an(a,l);this.initArrays(a);const d=this.buckets;for(let y=1;y<5;y++){const v=Math.floor(l*y/5),_=o.getRow(v,this.luminances),A=Math.floor(4*a/5);for(let I=Math.floor(a/5);I<A;I++)d[(255&_[I])>>Mt.LUMINANCE_SHIFT]++}const f=Mt.estimateBlackPoint(d),p=o.getMatrix();for(let y=0;y<l;y++){const v=y*a;for(let _=0;_<a;_++)(255&p[v+_])<f&&u.set(_,y)}return u}createBinarizer(o){return new Mt(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const a=this.buckets;for(let l=0;l<Mt.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(o){const a=o.length;let l=0,u=0,d=0;for(let _=0;_<a;_++)o[_]>d&&(u=_,d=o[_]),o[_]>l&&(l=o[_]);let f=0,p=0;for(let _=0;_<a;_++){const A=_-u,I=o[_]*A*A;I>p&&(f=_,p=I)}if(u>f){const _=u;u=f,f=_}if(f-u<=a/16)throw new Y;let y=f-1,v=-1;for(let _=f-1;_>u;_--){const A=_-u,I=A*A*(f-_)*(l-o[_]);I>v&&(y=_,v=I)}return y<<Mt.LUMINANCE_SHIFT}}Mt.LUMINANCE_BITS=5,Mt.LUMINANCE_SHIFT=8-Mt.LUMINANCE_BITS,Mt.LUMINANCE_BUCKETS=1<<Mt.LUMINANCE_BITS,Mt.EMPTY=Uint8ClampedArray.from([0]);class Be extends Mt{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const o=this.getLuminanceSource(),a=o.getWidth(),l=o.getHeight();if(a>=Be.MINIMUM_DIMENSION&&l>=Be.MINIMUM_DIMENSION){const u=o.getMatrix();let d=a>>Be.BLOCK_SIZE_POWER;a&Be.BLOCK_SIZE_MASK&&d++;let f=l>>Be.BLOCK_SIZE_POWER;l&Be.BLOCK_SIZE_MASK&&f++;const p=Be.calculateBlackPoints(u,d,f,a,l),y=new an(a,l);Be.calculateThresholdForBlock(u,d,f,a,l,p,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new Be(o)}static calculateThresholdForBlock(o,a,l,u,d,f,p){const y=d-Be.BLOCK_SIZE,v=u-Be.BLOCK_SIZE;for(let _=0;_<l;_++){let A=_<<Be.BLOCK_SIZE_POWER;A>y&&(A=y);const I=Be.cap(_,2,l-3);for(let M=0;M<a;M++){let O=M<<Be.BLOCK_SIZE_POWER;O>v&&(O=v);const P=Be.cap(M,2,a-3);let B=0;for(let J=-2;J<=2;J++){const ae=f[I+J];B+=ae[P-2]+ae[P-1]+ae[P]+ae[P+1]+ae[P+2]}Be.thresholdBlock(o,O,A,B/25,u,p)}}}static cap(o,a,l){return o<a?a:o>l?l:o}static thresholdBlock(o,a,l,u,d,f){for(let p=0,y=l*d+a;p<Be.BLOCK_SIZE;p++,y+=d)for(let v=0;v<Be.BLOCK_SIZE;v++)(255&o[y+v])<=u&&f.set(a+v,l+p)}static calculateBlackPoints(o,a,l,u,d){const f=d-Be.BLOCK_SIZE,p=u-Be.BLOCK_SIZE,y=new Array(l);for(let v=0;v<l;v++){y[v]=new Int32Array(a);let _=v<<Be.BLOCK_SIZE_POWER;_>f&&(_=f);for(let A=0;A<a;A++){let I=A<<Be.BLOCK_SIZE_POWER;I>p&&(I=p);let M=0,O=255,P=0;for(let j=0,J=_*u+I;j<Be.BLOCK_SIZE;j++,J+=u){for(let ae=0;ae<Be.BLOCK_SIZE;ae++){const G=255&o[J+ae];M+=G,G<O&&(O=G),G>P&&(P=G)}if(P-O>Be.MIN_DYNAMIC_RANGE)for(j++,J+=u;j<Be.BLOCK_SIZE;j++,J+=u)for(let ae=0;ae<Be.BLOCK_SIZE;ae++)M+=255&o[J+ae]}let B=M>>2*Be.BLOCK_SIZE_POWER;if(P-O<=Be.MIN_DYNAMIC_RANGE&&(B=O/2,v>0&&A>0)){const j=(y[v-1][A]+2*y[v][A-1]+y[v-1][A-1])/4;O<j&&(B=j)}y[v][A]=B}}return y}}Be.BLOCK_SIZE_POWER=3,Be.BLOCK_SIZE=1<<Be.BLOCK_SIZE_POWER,Be.BLOCK_SIZE_MASK=Be.BLOCK_SIZE-1,Be.MINIMUM_DIMENSION=5*Be.BLOCK_SIZE,Be.MIN_DYNAMIC_RANGE=24;class so{constructor(o,a){this.width=o,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,a,l,u){throw new Ur("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ur("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ur("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let a=new ut;for(let l=0;l<this.height;l++){const u=this.getRow(l,o);for(let d=0;d<this.width;d++){const f=255&u[d];let p;p=f<64?"#":f<128?"+":f<192?".":" ",a.append(p)}a.append("\n")}return a.toString()}}class vt extends so{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,a){const l=this.delegate.getRow(o,a),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(255&l[d]);return l}getMatrix(){const o=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let u=0;u<a;u++)l[u]=255-(255&o[u]);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(o,a,l,u){return new vt(this.delegate.crop(o,a,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new vt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new vt(this.delegate.rotateCounterClockwise45())}}class Hr extends so{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=Hr.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const a=o.getContext("2d").getImageData(0,0,o.width,o.height);return Hr.toGrayscaleBuffer(a.data,o.width,o.height)}static toGrayscaleBuffer(o,a,l){const u=new Uint8ClampedArray(a*l);for(let d=0,f=0,p=o.length;d<p;d+=4,f++){let y;y=0===o[d+3]?255:306*o[d]+601*o[d+1]+117*o[d+2]+512>>10,u[f]=y}return u}getRow(o,a){if(o<0||o>=this.getHeight())throw new fe("Requested row is outside the image: "+o);const l=this.getWidth(),u=o*l;return null===a?a=this.buffer.slice(u,u+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(u,u+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,a,l,u){return super.crop(o,a,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const a=this.getTempCanvasElement(),l=a.getContext("2d"),u=o*Hr.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*f),y=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*f);return a.width=p,a.height=y,l.translate(p/2,y/2),l.rotate(u),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=Hr.makeBufferFromCanvasImageData(a),this}invert(){return new vt(this)}}Hr.DEGREE_TO_RADIANS=Math.PI/180;class zc{constructor(o,a,l){this.deviceId=o,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Dn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(C,o,a,l){return new(a||(a=Promise))(function(d,f){function p(_){try{v(l.next(_))}catch(A){f(A)}}function y(_){try{v(l.throw(_))}catch(A){f(A)}}function v(_){_.done?d(_.value):function u(d){return d instanceof a?d:new a(function(f){f(d)})}(_.value).then(p,y)}v((l=l.apply(C,o||[])).next())})};class Pi{constructor(o,a=500,l){this.reader=o,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Dn(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of o){const u="video"===l.kind?"videoinput":l.kind;"videoinput"===u&&a.push({deviceId:l.deviceId||l.id,label:l.label||`Video device ${a.length+1}`,kind:u,groupId:l.groupId})}return a})}getVideoInputDevices(){return Dn(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new zc(a.deviceId,a.label))})}findDeviceById(o){return Dn(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===o):null})}decodeFromInputVideoDevice(o,a){return Dn(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,a)})}decodeOnceFromVideoDevice(o,a){return Dn(this,void 0,void 0,function*(){let l;this.reset(),l=o?{deviceId:{exact:o}}:{facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(o,a){return Dn(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(o,a){return Dn(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(o,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(o,a,l){return Dn(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,a,l)})}decodeFromVideoDevice(o,a,l){return Dn(this,void 0,void 0,function*(){let u;u=o?{deviceId:{exact:o}}:{facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,a,l)})}decodeFromConstraints(o,a,l){return Dn(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(u,a,l)})}decodeFromStream(o,a,l){return Dn(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(o,a);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,a){return Dn(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,o),this.videoElement=l,this.stream=o,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(o){return new Promise((a,l)=>this.playVideoOnLoad(o,()=>a()))}playVideoOnLoad(o,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",a),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Dn(this,void 0,void 0,function*(){if(this.isVideoPlaying(o))console.warn("Trying to play video that is already playing.");else try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,a){const l=document.getElementById(o);if(!l)throw new Gn(`element with id '${o}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new Gn(`element with id '${o}' must be an ${a} element`);return l}decodeFromImage(o,a){if(!o&&!a)throw new Gn("either imageElement with a src set or an url must be provided");return a&&!o?this.decodeFromImageUrl(a):this.decodeFromImageElement(o)}decodeFromVideo(o,a){if(!o&&!a)throw new Gn("Either an element with a src set or an URL must be provided");return a&&!o?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,a,l){if(void 0===o&&void 0===a)throw new Gn("Either an element with a src set or an URL must be provided");return a&&!o?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(o,l)}decodeFromImageElement(o){if(!o)throw new Gn("An image element must be provided.");this.reset();const a=this.prepareImageElement(o);let l;return this.imageElement=a,l=this.isImageLoaded(a)?this.decodeOnce(a,!1,!0):this._decodeOnLoadImage(a),l}decodeFromVideoElement(o){const a=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(o,a){const l=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(o){if(!o)throw new Gn("A video element must be provided.");this.reset();const a=this.prepareVideoElement(o);return this.videoElement=a,a}decodeFromImageUrl(o){if(!o)throw new Gn("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=o,l}decodeFromVideoUrl(o){if(!o)throw new Gn("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=o,l}decodeFromVideoUrlContinuously(o,a){if(!o)throw new Gn("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,a);return l.src=o,u}_decodeOnLoadImage(o){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(a,l),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Dn(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,a){return Dn(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,a)})}isImageLoaded(o){return!(!o.complete||0===o.naturalWidth)}prepareImageElement(o){let a;return typeof o>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),"string"==typeof o&&(a=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(a=o),a}prepareVideoElement(o){let a;return!o&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),"string"==typeof o&&(a=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(a=o),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(o,a=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,f)=>{if(this._stopAsyncDecode)return f(new Y("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{d(this.decode(o))}catch(p){if(a&&p instanceof Y||(p instanceof Kt||p instanceof oe)&&l)return setTimeout(u,this._timeBetweenDecodingAttempts,d,f);f(p)}};return new Promise((d,f)=>u(d,f))}decodeContinuously(o,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const u=this.decode(o);a(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){a(null,u),(u instanceof Kt||u instanceof oe||u instanceof Y)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(o){const a=this.createBinaryBitmap(o);return this.decodeBitmap(a)}_isHTMLVideoElement(o){return 0!==o.videoWidth}drawFrameOnCanvas(o,a,l){a||(a={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(o,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(o,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(o,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const l=this.getCaptureCanvas(o),u=new Hr(l),d=new Be(u);return new Vr(d)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const a=this.createCaptureCanvas(o);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,u;return typeof o<"u"&&(o instanceof HTMLVideoElement?(l=o.videoWidth,u=o.videoHeight):o instanceof HTMLImageElement&&(l=o.naturalWidth||o.width,u=o.naturalHeight||o.height)),a.style.width=l+"px",a.style.height=u+"px",a.width=l,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,a){try{o.srcObject=a}catch{o.src=URL.createObjectURL(a)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class Ot{constructor(o,a,l=(null==a?0:8*a.length),u,d,f=_t.currentTimeMillis()){this.text=o,this.rawBytes=a,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=f,this.text=o,this.rawBytes=a,this.numBits=null==l?null==a?0:8*a.length:l,this.resultPoints=u,this.format=d,this.resultMetadata=null,this.timestamp=null==f?_t.currentTimeMillis():f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,a){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(o,a)}putAllMetadata(o){null!==o&&(this.resultMetadata=null===this.resultMetadata?o:new Map(o))}addResultPoints(o){const a=this.resultPoints;if(null===a)this.resultPoints=o;else if(null!==o&&o.length>0){const l=new Array(a.length+o.length);_t.arraycopy(a,0,l,0,a.length),_t.arraycopy(o,0,l,a.length,o.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Qa=function(C){return C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",C}(Qa||{}),he=Qa,Ka=function(C){return C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",C}(Ka||{}),Xe=Ka;class Ft{constructor(o,a,l,u,d=-1,f=-1){this.rawBytes=o,this.text=a,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=null==o?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Vo{exp(o){return this.expTable[o]}log(o){if(0===o)throw new fe;return this.logTable[o]}static addOrSubtract(o,a){return o^a}}class Te{constructor(o,a){if(0===a.length)throw new fe;this.field=o;const l=a.length;if(l>1&&0===a[0]){let u=1;for(;u<l&&0===a[u];)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),_t.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(0===o)return this.getCoefficient(0);const a=this.coefficients;let l;if(1===o){l=0;for(let f=0,p=a.length;f!==p;f++)l=Vo.addOrSubtract(l,a[f]);return l}l=a[0];const u=a.length,d=this.field;for(let f=1;f<u;f++)l=Vo.addOrSubtract(d.multiply(o,l),a[f]);return l}addOrSubtract(o){if(!this.field.equals(o.field))throw new fe("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let a=this.coefficients,l=o.coefficients;if(a.length>l.length){const f=a;a=l,l=f}let u=new Int32Array(l.length);const d=l.length-a.length;_t.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=Vo.addOrSubtract(a[f-d],l[f]);return new Te(this.field,u)}multiply(o){if(!this.field.equals(o.field))throw new fe("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,u=o.coefficients,d=u.length,f=new Int32Array(l+d-1),p=this.field;for(let y=0;y<l;y++){const v=a[y];for(let _=0;_<d;_++)f[y+_]=Vo.addOrSubtract(f[y+_],p.multiply(v,u[_]))}return new Te(p,f)}multiplyScalar(o){if(0===o)return this.field.getZero();if(1===o)return this;const a=this.coefficients.length,l=this.field,u=new Int32Array(a),d=this.coefficients;for(let f=0;f<a;f++)u[f]=l.multiply(d[f],o);return new Te(l,u)}multiplyByMonomial(o,a){if(o<0)throw new fe;if(0===a)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+o),f=this.field;for(let p=0;p<u;p++)d[p]=f.multiply(l[p],a);return new Te(f,d)}divide(o){if(!this.field.equals(o.field))throw new fe("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new fe("Divide by 0");const a=this.field;let l=a.getZero(),u=this;const d=o.getCoefficient(o.getDegree()),f=a.inverse(d);for(;u.getDegree()>=o.getDegree()&&!u.isZero();){const p=u.getDegree()-o.getDegree(),y=a.multiply(u.getCoefficient(u.getDegree()),f),v=o.multiplyByMonomial(p,y),_=a.buildMonomial(p,y);l=l.addOrSubtract(_),u=u.addOrSubtract(v)}return[l,u]}toString(){let o="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(0!==l){if(l<0?(o+=" - ",l=-l):o.length>0&&(o+=" + "),0===a||1!==l){const u=this.field.log(l);0===u?o+="1":1===u?o+="a":(o+="a^",o+=u)}0!==a&&(1===a?o+="x":(o+="x^",o+=a))}}return o}}let Uo=(()=>{class C extends wn{}return C.kind="ArithmeticException",C})();class it extends Vo{constructor(o,a,l){super(),this.primitive=o,this.size=a,this.generatorBase=l;const u=new Int32Array(a);let d=1;for(let p=0;p<a;p++)u[p]=d,d*=2,d>=a&&(d^=o,d&=a-1);this.expTable=u;const f=new Int32Array(a);for(let p=0;p<a-1;p++)f[u[p]]=p;this.logTable=f,this.zero=new Te(this,Int32Array.from([0])),this.one=new Te(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,a){if(o<0)throw new fe;if(0===a)return this.zero;const l=new Int32Array(o+1);return l[0]=a,new Te(this,l)}inverse(o){if(0===o)throw new Uo;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,a){return 0===o||0===a?0:this.expTable[(this.logTable[o]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Ne.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}it.AZTEC_DATA_12=new it(4201,4096,1),it.AZTEC_DATA_10=new it(1033,1024,1),it.AZTEC_DATA_6=new it(67,64,1),it.AZTEC_PARAM=new it(19,16,1),it.QR_CODE_FIELD_256=new it(285,256,0),it.DATA_MATRIX_FIELD_256=new it(301,256,1),it.AZTEC_DATA_8=it.DATA_MATRIX_FIELD_256,it.MAXICODE_FIELD_64=it.AZTEC_DATA_6;let Li=(()=>{class C extends wn{}return C.kind="ReedSolomonException",C})(),jr=(()=>{class C extends wn{}return C.kind="IllegalStateException",C})();class Ho{constructor(o){this.field=o}decode(o,a){const l=this.field,u=new Te(l,o),d=new Int32Array(a);let f=!0;for(let M=0;M<a;M++){const O=u.evaluateAt(l.exp(M+l.getGeneratorBase()));d[d.length-1-M]=O,0!==O&&(f=!1)}if(f)return;const p=new Te(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(a,1),p,a),_=y[1],A=this.findErrorLocations(y[0]),I=this.findErrorMagnitudes(_,A);for(let M=0;M<A.length;M++){const O=o.length-1-l.log(A[M]);if(O<0)throw new Li("Bad error location");o[O]=it.addOrSubtract(o[O],I[M])}}runEuclideanAlgorithm(o,a,l){if(o.getDegree()<a.getDegree()){const M=o;o=a,a=M}const u=this.field;let d=o,f=a,p=u.getZero(),y=u.getOne();for(;f.getDegree()>=(l/2|0);){let M=d,O=p;if(d=f,p=y,d.isZero())throw new Li("r_{i-1} was zero");f=M;let P=u.getZero();const B=d.getCoefficient(d.getDegree()),j=u.inverse(B);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const J=f.getDegree()-d.getDegree(),ae=u.multiply(f.getCoefficient(f.getDegree()),j);P=P.addOrSubtract(u.buildMonomial(J,ae)),f=f.addOrSubtract(d.multiplyByMonomial(J,ae))}if(y=P.multiply(p).addOrSubtract(O),f.getDegree()>=d.getDegree())throw new jr("Division algorithm failed to reduce polynomial?")}const v=y.getCoefficient(0);if(0===v)throw new Li("sigmaTilde(0) was zero");const _=u.inverse(v);return[y.multiplyScalar(_),f.multiplyScalar(_)]}findErrorLocations(o){const a=o.getDegree();if(1===a)return Int32Array.from([o.getCoefficient(1)]);const l=new Int32Array(a);let u=0;const d=this.field;for(let f=1;f<d.getSize()&&u<a;f++)0===o.evaluateAt(f)&&(l[u]=d.inverse(f),u++);if(u!==a)throw new Li("Error locator degree does not match number of roots");return l}findErrorMagnitudes(o,a){const l=a.length,u=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const p=d.inverse(a[f]);let y=1;for(let v=0;v<l;v++)if(f!==v){const _=d.multiply(a[v],p);y=d.multiply(y,1&_?-2&_:1|_)}u[f]=d.multiply(o.evaluateAt(p),d.inverse(y)),0!==d.getGeneratorBase()&&(u[f]=d.multiply(u[f],p))}return u}}var _n=function(C){return C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY",C}(_n||{});let Gc=(()=>{class C{decode(a){this.ddata=a;let l=a.getBits(),u=this.extractBits(l),d=this.correctBits(u),f=C.convertBoolArrayToByteArray(d),p=C.getEncodedData(d),y=new Ft(f,p,null,null);return y.setNumBits(d.length),y}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let l=a.length,u=_n.UPPER,d=_n.UPPER,f="",p=0;for(;p<l;)if(d===_n.BINARY){if(l-p<5)break;let y=C.readCode(a,p,5);if(p+=5,0===y){if(l-p<11)break;y=C.readCode(a,p,11)+31,p+=11}for(let v=0;v<y;v++){if(l-p<8){p=l;break}const _=C.readCode(a,p,8);f+=Se.castAsNonUtf8Char(_),p+=8}d=u}else{let y=d===_n.DIGIT?4:5;if(l-p<y)break;let v=C.readCode(a,p,y);p+=y;let _=C.getCharacter(d,v);_.startsWith("CTRL_")?(u=d,d=C.getTable(_.charAt(5)),"L"===_.charAt(6)&&(u=d)):(f+=_,d=u)}return f}static getTable(a){switch(a){case"L":return _n.LOWER;case"P":return _n.PUNCT;case"M":return _n.MIXED;case"D":return _n.DIGIT;case"B":return _n.BINARY;default:return _n.UPPER}}static getCharacter(a,l){switch(a){case _n.UPPER:return C.UPPER_TABLE[l];case _n.LOWER:return C.LOWER_TABLE[l];case _n.MIXED:return C.MIXED_TABLE[l];case _n.PUNCT:return C.PUNCT_TABLE[l];case _n.DIGIT:return C.DIGIT_TABLE[l];default:throw new jr("Bad table")}}correctBits(a){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=it.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=it.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=it.AZTEC_DATA_10):(u=12,l=it.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),f=a.length/u;if(f<d)throw new oe;let p=a.length%u,y=new Int32Array(f);for(let M=0;M<f;M++,p+=u)y[M]=C.readCode(a,p,u);try{new Ho(l).decode(y,f-d)}catch(M){throw new oe(M)}let v=(1<<u)-1,_=0;for(let M=0;M<d;M++){let O=y[M];if(0===O||O===v)throw new oe;(1===O||O===v-1)&&_++}let A=new Array(d*u-_),I=0;for(let M=0;M<d;M++){let O=y[M];if(1===O||O===v-1)A.fill(O>1,I,I+u-1),I+=u-1;else for(let P=u-1;P>=0;--P)A[I++]=0!=(O&1<<P)}return A}extractBits(a){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),d=(l?11:14)+4*u,f=new Int32Array(d),p=new Array(this.totalBitsInLayer(u,l));if(l)for(let y=0;y<f.length;y++)f[y]=y;else{let y=d+1+2*Ne.truncDivision(Ne.truncDivision(d,2)-1,15),v=d/2,_=Ne.truncDivision(y,2);for(let A=0;A<v;A++){let I=A+Ne.truncDivision(A,15);f[v-A-1]=_-I-1,f[v+A]=_+I+1}}for(let y=0,v=0;y<u;y++){let _=4*(u-y)+(l?9:12),A=2*y,I=d-1-A;for(let M=0;M<_;M++){let O=2*M;for(let P=0;P<2;P++)p[v+O+P]=a.get(f[A+P],f[A+M]),p[v+2*_+O+P]=a.get(f[A+M],f[I-P]),p[v+4*_+O+P]=a.get(f[I-P],f[I-M]),p[v+6*_+O+P]=a.get(f[I-M],f[A+P])}v+=8*_}return p}static readCode(a,l,u){let d=0;for(let f=l;f<l+u;f++)d<<=1,a[f]&&(d|=1);return d}static readByte(a,l){let u=a.length-l;return u>=8?C.readCode(a,l,8):C.readCode(a,l,u)<<8-u}static convertBoolArrayToByteArray(a){let l=new Uint8Array((a.length+7)/8);for(let u=0;u<l.length;u++)l[u]=C.readByte(a,8*u);return l}totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}return C.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],C.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],C.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],C.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],C.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],C})();class tt{constructor(){}static round(o){return NaN===o?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,a,l,u){const d=o-l,f=a-u;return Math.sqrt(d*d+f*f)}static sum(o){let a=0;for(let l=0,u=o.length;l!==u;l++)a+=o[l];return a}}class Ja{static floatToIntBits(o){return o}}Ja.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(o,a){this.x=o,this.y=a}getX(){return this.x}getY(){return this.y}equals(o){return o instanceof we&&this.x===o.x&&this.y===o.y}hashCode(){return 31*Ja.floatToIntBits(this.x)+Ja.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const a=this.distance(o[0],o[1]),l=this.distance(o[1],o[2]),u=this.distance(o[0],o[2]);let d,f,p;if(l>=a&&l>=u?(f=o[0],d=o[1],p=o[2]):u>=l&&u>=a?(f=o[1],d=o[0],p=o[2]):(f=o[2],d=o[0],p=o[1]),this.crossProductZ(d,f,p)<0){const y=d;d=p,p=y}o[0]=d,o[1]=f,o[2]=p}static distance(o,a){return tt.distance(o.x,o.y,a.x,a.y)}static crossProductZ(o,a,l){const u=a.x,d=a.y;return(l.x-u)*(o.y-d)-(l.y-d)*(o.x-u)}}class ws{constructor(o,a){this.bits=o,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class el extends ws{constructor(o,a,l,u,d){super(o,a),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let _s=(()=>{class C{constructor(a,l,u,d){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),null==l&&(l=C.INIT_SIZE),null==u&&(u=a.getWidth()/2|0),null==d&&(d=a.getHeight()/2|0);const f=l/2|0;if(this.leftInit=u-f,this.rightInit=u+f,this.upInit=d-f,this.downInit=d+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let a=this.leftInit,l=this.rightInit,u=this.upInit,d=this.downInit,f=!1,p=!0,y=!1,v=!1,_=!1,A=!1,I=!1;const M=this.width,O=this.height;for(;p;){p=!1;let P=!0;for(;(P||!v)&&l<M;)P=this.containsBlackPoint(u,d,l,!1),P?(l++,p=!0,v=!0):v||l++;if(l>=M){f=!0;break}let B=!0;for(;(B||!_)&&d<O;)B=this.containsBlackPoint(a,l,d,!0),B?(d++,p=!0,_=!0):_||d++;if(d>=O){f=!0;break}let j=!0;for(;(j||!A)&&a>=0;)j=this.containsBlackPoint(u,d,a,!1),j?(a--,p=!0,A=!0):A||a--;if(a<0){f=!0;break}let J=!0;for(;(J||!I)&&u>=0;)J=this.containsBlackPoint(a,l,u,!0),J?(u--,p=!0,I=!0):I||u--;if(u<0){f=!0;break}p&&(y=!0)}if(!f&&y){const P=l-a;let B=null;for(let G=1;null===B&&G<P;G++)B=this.getBlackPointOnSegment(a,d-G,a+G,d);if(null==B)throw new Y;let j=null;for(let G=1;null===j&&G<P;G++)j=this.getBlackPointOnSegment(a,u+G,a+G,u);if(null==j)throw new Y;let J=null;for(let G=1;null===J&&G<P;G++)J=this.getBlackPointOnSegment(l,u+G,l-G,u);if(null==J)throw new Y;let ae=null;for(let G=1;null===ae&&G<P;G++)ae=this.getBlackPointOnSegment(l,d-G,l-G,d);if(null==ae)throw new Y;return this.centerEdges(ae,B,J,j)}throw new Y}getBlackPointOnSegment(a,l,u,d){const f=tt.round(tt.distance(a,l,u,d)),p=(u-a)/f,y=(d-l)/f,v=this.image;for(let _=0;_<f;_++){const A=tt.round(a+_*p),I=tt.round(l+_*y);if(v.get(A,I))return new we(A,I)}return null}centerEdges(a,l,u,d){const f=a.getX(),p=a.getY(),y=l.getX(),v=l.getY(),_=u.getX(),A=u.getY(),I=d.getX(),M=d.getY(),O=C.CORR;return f<this.width/2?[new we(I-O,M+O),new we(y+O,v+O),new we(_-O,A-O),new we(f+O,p-O)]:[new we(I+O,M+O),new we(y+O,v-O),new we(_-O,A+O),new we(f-O,p-O)]}containsBlackPoint(a,l,u,d){const f=this.image;if(d){for(let p=a;p<=l;p++)if(f.get(p,u))return!0}else for(let p=a;p<=l;p++)if(f.get(u,p))return!0;return!1}}return C.INIT_SIZE=10,C.CORR=1,C})();class jo{static checkAndNudgePoints(o,a){const l=o.getWidth(),u=o.getHeight();let d=!0;for(let f=0;f<a.length&&d;f+=2){const p=Math.floor(a[f]),y=Math.floor(a[f+1]);if(p<-1||p>l||y<-1||y>u)throw new Y;d=!1,-1===p?(a[f]=0,d=!0):p===l&&(a[f]=l-1,d=!0),-1===y?(a[f+1]=0,d=!0):y===u&&(a[f+1]=u-1,d=!0)}d=!0;for(let f=a.length-2;f>=0&&d;f-=2){const p=Math.floor(a[f]),y=Math.floor(a[f+1]);if(p<-1||p>l||y<-1||y>u)throw new Y;d=!1,-1===p?(a[f]=0,d=!0):p===l&&(a[f]=l-1,d=!0),-1===y?(a[f+1]=0,d=!0):y===u&&(a[f+1]=u-1,d=!0)}}}class dr{constructor(o,a,l,u,d,f,p,y,v){this.a11=o,this.a21=a,this.a31=l,this.a12=u,this.a22=d,this.a32=f,this.a13=p,this.a23=y,this.a33=v}static quadrilateralToQuadrilateral(o,a,l,u,d,f,p,y,v,_,A,I,M,O,P,B){const j=dr.quadrilateralToSquare(o,a,l,u,d,f,p,y);return dr.squareToQuadrilateral(v,_,A,I,M,O,P,B).times(j)}transformPoints(o){const a=o.length,l=this.a11,u=this.a12,d=this.a13,f=this.a21,p=this.a22,y=this.a23,v=this.a31,_=this.a32,A=this.a33;for(let I=0;I<a;I+=2){const M=o[I],O=o[I+1],P=d*M+y*O+A;o[I]=(l*M+f*O+v)/P,o[I+1]=(u*M+p*O+_)/P}}transformPointsWithValues(o,a){const l=this.a11,u=this.a12,d=this.a13,f=this.a21,p=this.a22,y=this.a23,v=this.a31,_=this.a32,A=this.a33,I=o.length;for(let M=0;M<I;M++){const O=o[M],P=a[M],B=d*O+y*P+A;o[M]=(l*O+f*P+v)/B,a[M]=(u*O+p*P+_)/B}}static squareToQuadrilateral(o,a,l,u,d,f,p,y){const v=o-l+d-p,_=a-u+f-y;if(0===v&&0===_)return new dr(l-o,d-l,o,u-a,f-u,a,0,0,1);{const A=l-d,I=p-d,M=u-f,O=y-f,P=A*O-I*M,B=(v*O-I*_)/P,j=(A*_-v*M)/P;return new dr(l-o+B*l,p-o+j*p,o,u-a+B*u,y-a+j*y,a,B,j,1)}}static quadrilateralToSquare(o,a,l,u,d,f,p,y){return dr.squareToQuadrilateral(o,a,l,u,d,f,p,y).buildAdjoint()}buildAdjoint(){return new dr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new dr(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Es extends jo{sampleGrid(o,a,l,u,d,f,p,y,v,_,A,I,M,O,P,B,j,J,ae){const G=dr.quadrilateralToQuadrilateral(u,d,f,p,y,v,_,A,I,M,O,P,B,j,J,ae);return this.sampleGridWithTransform(o,a,l,G)}sampleGridWithTransform(o,a,l,u){if(a<=0||l<=0)throw new Y;const d=new an(a,l),f=new Float32Array(2*a);for(let p=0;p<l;p++){const y=f.length,v=p+.5;for(let _=0;_<y;_+=2)f[_]=_/2+.5,f[_+1]=v;u.transformPoints(f),jo.checkAndNudgePoints(o,f);try{for(let _=0;_<y;_+=2)o.get(Math.floor(f[_]),Math.floor(f[_+1]))&&d.set(_/2,p)}catch{throw new Y}}return d}}class zr{static setGridSampler(o){zr.gridSampler=o}static getInstance(){return zr.gridSampler}}zr.gridSampler=new Es;class In{constructor(o,a){this.x=o,this.y=a}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Wc{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(o){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new el(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!(this.isValidPoint(o[0])&&this.isValidPoint(o[1])&&this.isValidPoint(o[2])&&this.isValidPoint(o[3])))throw new Y;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(o[0],o[1],a),this.sampleLine(o[1],o[2],a),this.sampleLine(o[2],o[3],a),this.sampleLine(o[3],o[0],a)]);this.shift=this.getRotation(l,a);let u=0;for(let f=0;f<4;f++){let p=l[(this.shift+f)%4];this.compact?(u<<=7,u+=p>>1&127):(u<<=10,u+=(p>>2&992)+(p>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=1+(d>>6),this.nbDataBlocks=1+(63&d)):(this.nbLayers=1+(d>>11),this.nbDataBlocks=1+(2047&d))}getRotation(o,a){let l=0;o.forEach((u,d,f)=>{l=(u>>a-2<<1)+(1&u)+(l<<3)}),l=((1&l)<<11)+(l>>1);for(let u=0;u<4;u++)if(Ne.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new Y}getCorrectedParameterData(o,a){let l,u;a?(l=7,u=2):(l=10,u=4);let d=l-u,f=new Int32Array(l);for(let y=l-1;y>=0;--y)f[y]=15&o,o>>=4;try{new Ho(it.AZTEC_PARAM).decode(f,d)}catch{throw new Y}let p=0;for(let y=0;y<u;y++)p=(p<<4)+f[y];return p}getBullsEyeCorners(o){let a=o,l=o,u=o,d=o,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(a,f,1,-1),I=this.getFirstDifferent(l,f,1,1),M=this.getFirstDifferent(u,f,-1,1),O=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let P=this.distancePoint(O,A)*this.nbCenterLayers/(this.distancePoint(d,a)*(this.nbCenterLayers+2));if(P<.75||P>1.25||!this.isWhiteOrBlackRectangle(A,I,M,O))break}a=A,l=I,u=M,d=O,f=!f}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new Y;this.compact=5===this.nbCenterLayers;let p=new we(a.getX()+.5,a.getY()-.5),y=new we(l.getX()+.5,l.getY()+.5),v=new we(u.getX()-.5,u.getY()+.5),_=new we(d.getX()-.5,d.getY()-.5);return this.expandSquare([p,y,v,_],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,a,l,u;try{let p=new _s(this.image).detect();o=p[0],a=p[1],l=p[2],u=p[3]}catch{let y=this.image.getWidth()/2,v=this.image.getHeight()/2;o=this.getFirstDifferent(new In(y+7,v-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new In(y+7,v+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new In(y-7,v+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new In(y-7,v-7),!1,-1,-1).toResultPoint()}let d=tt.round((o.getX()+u.getX()+a.getX()+l.getX())/4),f=tt.round((o.getY()+u.getY()+a.getY()+l.getY())/4);try{let p=new _s(this.image,15,d,f).detect();o=p[0],a=p[1],l=p[2],u=p[3]}catch{o=this.getFirstDifferent(new In(d+7,f-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new In(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new In(d-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new In(d-7,f-7),!1,-1,-1).toResultPoint()}return d=tt.round((o.getX()+u.getX()+a.getX()+l.getX())/4),f=tt.round((o.getY()+u.getY()+a.getY()+l.getY())/4),new In(d,f)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,a,l,u,d){let f=zr.getInstance(),p=this.getDimension(),y=p/2-this.nbCenterLayers,v=p/2+this.nbCenterLayers;return f.sampleGrid(o,p,p,y,y,v,y,v,v,y,v,a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(o,a,l){let u=0,d=this.distanceResultPoint(o,a),f=d/l,p=o.getX(),y=o.getY(),v=f*(a.getX()-o.getX())/d,_=f*(a.getY()-o.getY())/d;for(let A=0;A<l;A++)this.image.get(tt.round(p+A*v),tt.round(y+A*_))&&(u|=1<<l-A-1);return u}isWhiteOrBlackRectangle(o,a,l,u){o=new In(o.getX()-3,o.getY()+3),a=new In(a.getX()-3,a.getY()-3),l=new In(l.getX()+3,l.getY()-3),u=new In(u.getX()+3,u.getY()+3);let f=this.getColor(u,o);if(0===f)return!1;let p=this.getColor(o,a);return p===f&&(p=this.getColor(a,l),p===f)&&(p=this.getColor(l,u),p===f)}getColor(o,a){let l=this.distancePoint(o,a),u=(a.getX()-o.getX())/l,d=(a.getY()-o.getY())/l,f=0,p=o.getX(),y=o.getY(),v=this.image.get(o.getX(),o.getY()),_=Math.ceil(l);for(let I=0;I<_;I++)p+=u,y+=d,this.image.get(tt.round(p),tt.round(y))!==v&&f++;let A=f/l;return A>.1&&A<.9?0:A<=.1===v?1:-1}getFirstDifferent(o,a,l,u){let d=o.getX()+l,f=o.getY()+u;for(;this.isValid(d,f)&&this.image.get(d,f)===a;)d+=l,f+=u;for(d-=l,f-=u;this.isValid(d,f)&&this.image.get(d,f)===a;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===a;)f+=u;return f-=u,new In(d,f)}expandSquare(o,a,l){let u=l/(2*a),d=o[0].getX()-o[2].getX(),f=o[0].getY()-o[2].getY(),p=(o[0].getX()+o[2].getX())/2,y=(o[0].getY()+o[2].getY())/2,v=new we(p+u*d,y+u*f),_=new we(p-u*d,y-u*f);return d=o[1].getX()-o[3].getX(),f=o[1].getY()-o[3].getY(),p=(o[1].getX()+o[3].getX())/2,y=(o[1].getY()+o[3].getY())/2,[v,new we(p+u*d,y+u*f),_,new we(p-u*d,y-u*f)]}isValid(o,a){return o>=0&&o<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(o){let a=tt.round(o.getX()),l=tt.round(o.getY());return this.isValid(a,l)}distancePoint(o,a){return tt.distance(o.getX(),o.getY(),a.getX(),a.getY())}distanceResultPoint(o,a){return tt.distance(o.getX(),o.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ne.truncDivision(this.nbLayers-4,8)+1)+15}}class xs{decode(o,a=null){let l=null,u=new Wc(o.getBlackMatrix()),d=null,f=null;try{let _=u.detectMirror(!1);d=_.getPoints(),this.reportFoundResultPoints(a,d),f=(new Gc).decode(_)}catch(_){l=_}if(null==f)try{let _=u.detectMirror(!0);d=_.getPoints(),this.reportFoundResultPoints(a,d),f=(new Gc).decode(_)}catch(_){throw l??_}let p=new Ot(f.getText(),f.getRawBytes(),f.getNumBits(),d,he.AZTEC,_t.currentTimeMillis()),y=f.getByteSegments();null!=y&&p.putMetadata(Xe.BYTE_SEGMENTS,y);let v=f.getECLevel();return null!=v&&p.putMetadata(Xe.ERROR_CORRECTION_LEVEL,v),p}reportFoundResultPoints(o,a){if(null!=o){let l=o.get(St.NEED_RESULT_POINT_CALLBACK);null!=l&&a.forEach((u,d,f)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class jt{decode(o,a){try{return this.doDecode(o,a)}catch{if(a&&!0===a.get(St.TRY_HARDER)&&o.isRotateSupported()){const d=o.rotateCounterClockwise(),f=this.doDecode(d,a),p=f.getResultMetadata();let y=270;null!==p&&!0===p.get(Xe.ORIENTATION)&&(y+=p.get(Xe.ORIENTATION)%360),f.putMetadata(Xe.ORIENTATION,y);const v=f.getResultPoints();if(null!==v){const _=d.getHeight();for(let A=0;A<v.length;A++)v[A]=new we(_-v[A].getY()-1,v[A].getX())}return f}throw new Y}}reset(){}doDecode(o,a){const l=o.getWidth(),u=o.getHeight();let d=new Et(l);const f=a&&!0===a.get(St.TRY_HARDER),p=Math.max(1,u>>(f?8:5));let y;y=f?u:15;const v=Math.trunc(u/2);for(let _=0;_<y;_++){const A=Math.trunc((_+1)/2),M=v+p*(0==(1&_)?A:-A);if(M<0||M>=u)break;try{d=o.getBlackRow(M,d)}catch{continue}for(let O=0;O<2;O++){if(1===O&&(d.reverse(),a&&!0===a.get(St.NEED_RESULT_POINT_CALLBACK))){const P=new Map;a.forEach((B,j)=>P.set(j,B)),P.delete(St.NEED_RESULT_POINT_CALLBACK),a=P}try{const P=this.decodeRow(M,d,a);if(1===O){P.putMetadata(Xe.ORIENTATION,180);const B=P.getResultPoints();null!==B&&(B[0]=new we(l-B[0].getX()-1,B[0].getY()),B[1]=new we(l-B[1].getX()-1,B[1].getY()))}return P}catch{}}}throw new Y}static recordPattern(o,a,l){const u=l.length;for(let v=0;v<u;v++)l[v]=0;const d=o.getSize();if(a>=d)throw new Y;let f=!o.get(a),p=0,y=a;for(;y<d;){if(o.get(y)!==f)l[p]++;else{if(++p===u)break;l[p]=1,f=!f}y++}if(p!==u&&(p!==u-1||y!==d))throw new Y}static recordPatternInReverse(o,a,l){let u=l.length,d=o.get(a);for(;a>0&&u>=0;)o.get(--a)!==d&&(u--,d=!d);if(u>=0)throw new Y;jt.recordPattern(o,a+1,l)}static patternMatchVariance(o,a,l){const u=o.length;let d=0,f=0;for(let v=0;v<u;v++)d+=o[v],f+=a[v];if(d<f)return Number.POSITIVE_INFINITY;const p=d/f;l*=p;let y=0;for(let v=0;v<u;v++){const _=o[v],A=a[v]*p,I=_>A?_-A:A-_;if(I>l)return Number.POSITIVE_INFINITY;y+=I}return y/d}}class re extends jt{static findStartPattern(o){const a=o.getSize(),l=o.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,p=!1;for(let v=l;v<a;v++)if(o.get(v)!==p)d[u]++;else{if(5===u){let _=re.MAX_AVG_VARIANCE,A=-1;for(let I=re.CODE_START_A;I<=re.CODE_START_C;I++){const M=jt.patternMatchVariance(d,re.CODE_PATTERNS[I],re.MAX_INDIVIDUAL_VARIANCE);M<_&&(_=M,A=I)}if(A>=0&&o.isRange(Math.max(0,f-(v-f)/2),f,!1))return Int32Array.from([f,v,A]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,p=!p}throw new Y}static decodeCode(o,a,l){jt.recordPattern(o,l,a);let u=re.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<re.CODE_PATTERNS.length;f++){const y=this.patternMatchVariance(a,re.CODE_PATTERNS[f],re.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,d=f)}if(d>=0)return d;throw new Y}decodeRow(o,a,l){const u=l&&!0===l.get(St.ASSUME_GS1),d=re.findStartPattern(a),f=d[2];let p=0;const y=new Uint8Array(20);let v;switch(y[p++]=f,f){case re.CODE_START_A:v=re.CODE_CODE_A;break;case re.CODE_START_B:v=re.CODE_CODE_B;break;case re.CODE_START_C:v=re.CODE_CODE_C;break;default:throw new oe}let _=!1,A=!1,I="",M=d[0],O=d[1];const P=Int32Array.from([0,0,0,0,0,0]);let B=0,j=0,J=f,ae=0,G=!0,Ge=!1,Oe=!1;for(;!_;){const Wt=A;switch(A=!1,B=j,j=re.decodeCode(a,P,O),y[p++]=j,j!==re.CODE_STOP&&(G=!0),j!==re.CODE_STOP&&(ae++,J+=ae*j),M=O,O+=P.reduce((Fn,mo)=>Fn+mo,0),j){case re.CODE_START_A:case re.CODE_START_B:case re.CODE_START_C:throw new oe}switch(v){case re.CODE_CODE_A:if(j<64)I+=String.fromCharCode(Oe===Ge?" ".charCodeAt(0)+j:" ".charCodeAt(0)+j+128),Oe=!1;else if(j<96)I+=String.fromCharCode(Oe===Ge?j-64:j+64),Oe=!1;else switch(j!==re.CODE_STOP&&(G=!1),j){case re.CODE_FNC_1:u&&(I+=0===I.length?"]C1":String.fromCharCode(29));break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_A:!Ge&&Oe?(Ge=!0,Oe=!1):Ge&&Oe?(Ge=!1,Oe=!1):Oe=!0;break;case re.CODE_SHIFT:A=!0,v=re.CODE_CODE_B;break;case re.CODE_CODE_B:v=re.CODE_CODE_B;break;case re.CODE_CODE_C:v=re.CODE_CODE_C;break;case re.CODE_STOP:_=!0}break;case re.CODE_CODE_B:if(j<96)I+=String.fromCharCode(Oe===Ge?" ".charCodeAt(0)+j:" ".charCodeAt(0)+j+128),Oe=!1;else switch(j!==re.CODE_STOP&&(G=!1),j){case re.CODE_FNC_1:u&&(I+=0===I.length?"]C1":String.fromCharCode(29));break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_B:!Ge&&Oe?(Ge=!0,Oe=!1):Ge&&Oe?(Ge=!1,Oe=!1):Oe=!0;break;case re.CODE_SHIFT:A=!0,v=re.CODE_CODE_A;break;case re.CODE_CODE_A:v=re.CODE_CODE_A;break;case re.CODE_CODE_C:v=re.CODE_CODE_C;break;case re.CODE_STOP:_=!0}break;case re.CODE_CODE_C:if(j<100)j<10&&(I+="0"),I+=j;else switch(j!==re.CODE_STOP&&(G=!1),j){case re.CODE_FNC_1:u&&(I+=0===I.length?"]C1":String.fromCharCode(29));break;case re.CODE_CODE_A:v=re.CODE_CODE_A;break;case re.CODE_CODE_B:v=re.CODE_CODE_B;break;case re.CODE_STOP:_=!0}}Wt&&(v=v===re.CODE_CODE_A?re.CODE_CODE_B:re.CODE_CODE_A)}const Pn=O-M;if(O=a.getNextUnset(O),!a.isRange(O,Math.min(a.getSize(),O+(O-M)/2),!1))throw new Y;if(J-=ae*B,J%103!==B)throw new Kt;const Gt=I.length;if(0===Gt)throw new Y;Gt>0&&G&&(I=I.substring(0,v===re.CODE_CODE_C?Gt-2:Gt-1));const Ln=(d[1]+d[0])/2,wt=M+Pn/2,ve=y.length,bt=new Uint8Array(ve);for(let Wt=0;Wt<ve;Wt++)bt[Wt]=y[Wt];const Ye=[new we(Ln,o),new we(wt,o)];return new Ot(I,bt,0,Ye,he.CODE_128,(new Date).getTime())}}re.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],re.MAX_AVG_VARIANCE=.25,re.MAX_INDIVIDUAL_VARIANCE=.7,re.CODE_SHIFT=98,re.CODE_CODE_C=99,re.CODE_CODE_B=100,re.CODE_CODE_A=101,re.CODE_FNC_1=102,re.CODE_FNC_2=97,re.CODE_FNC_3=96,re.CODE_FNC_4_A=101,re.CODE_FNC_4_B=100,re.CODE_START_A=103,re.CODE_START_B=104,re.CODE_START_C=105,re.CODE_STOP=106;let bs=(()=>{class C extends jt{constructor(a=!1,l=!1){super(),this.usingCheckDigit=a,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,l,u){let d=this.counters;d.fill(0),this.decodeRowResult="";let v,_,f=C.findAsteriskPattern(l,d),p=l.getNextSet(f[1]),y=l.getSize();do{C.recordPattern(l,p,d);let B=C.toNarrowWidePattern(d);if(B<0)throw new Y;v=C.patternToChar(B),this.decodeRowResult+=v,_=p;for(let j of d)p+=j;p=l.getNextSet(p)}while("*"!==v);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let M,A=0;for(let B of d)A+=B;if(p!==y&&2*(p-_-A)<A)throw new Y;if(this.usingCheckDigit){let B=this.decodeRowResult.length-1,j=0;for(let J=0;J<B;J++)j+=C.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(J));if(this.decodeRowResult.charAt(B)!==C.ALPHABET_STRING.charAt(j%43))throw new Kt;this.decodeRowResult=this.decodeRowResult.substring(0,B)}if(0===this.decodeRowResult.length)throw new Y;M=this.extendedMode?C.decodeExtended(this.decodeRowResult):this.decodeRowResult;let P=_+A/2;return new Ot(M,null,0,[new we((f[1]+f[0])/2,a),new we(P,a)],he.CODE_39,(new Date).getTime())}static findAsteriskPattern(a,l){let u=a.getSize(),d=a.getNextSet(0),f=0,p=d,y=!1,v=l.length;for(let _=d;_<u;_++)if(a.get(_)!==y)l[f]++;else{if(f===v-1){if(this.toNarrowWidePattern(l)===C.ASTERISK_ENCODING&&a.isRange(Math.max(0,p-Math.floor((_-p)/2)),p,!1))return[p,_];p+=l[0]+l[1],l.copyWithin(0,2,2+f-1),l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,y=!y}throw new Y}static toNarrowWidePattern(a){let d,l=a.length,u=0;do{let f=2147483647;for(let v of a)v<f&&v>u&&(f=v);u=f,d=0;let p=0,y=0;for(let v=0;v<l;v++){let _=a[v];_>u&&(y|=1<<l-1-v,d++,p+=_)}if(3===d){for(let v=0;v<l&&d>0;v++){let _=a[v];if(_>u&&(d--,2*_>=p))return-1}return y}}while(d>3);return-1}static patternToChar(a){for(let l=0;l<C.CHARACTER_ENCODINGS.length;l++)if(C.CHARACTER_ENCODINGS[l]===a)return C.ALPHABET_STRING.charAt(l);if(a===C.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(a){let l=a.length,u="";for(let d=0;d<l;d++){let f=a.charAt(d);if("+"===f||"$"===f||"%"===f||"/"===f){let p=a.charAt(d+1),y="\0";switch(f){case"+":if(!(p>="A"&&p<="Z"))throw new oe;y=String.fromCharCode(p.charCodeAt(0)+32);break;case"$":if(!(p>="A"&&p<="Z"))throw new oe;y=String.fromCharCode(p.charCodeAt(0)-64);break;case"%":if(p>="A"&&p<="E")y=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")y=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")y=String.fromCharCode(p.charCodeAt(0)+43);else if("U"===p)y="\0";else if("V"===p)y="@";else if("W"===p)y="`";else{if("X"!==p&&"Y"!==p&&"Z"!==p)throw new oe;y="\x7f"}break;case"/":if(p>="A"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)-32);else{if("Z"!==p)throw new oe;y=":"}}u+=y,d++}else u+=f}return u}}return C.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",C.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],C.ASTERISK_ENCODING=148,C})();class xt extends jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,a,l){let u=this.decodeStart(a),d=this.decodeEnd(a),f=new ut;xt.decodeMiddle(a,u[1],d[0],f);let p=f.toString(),y=null;null!=l&&(y=l.get(St.ALLOWED_LENGTHS)),null==y&&(y=xt.DEFAULT_ALLOWED_LENGTHS);let v=p.length,_=!1,A=0;for(let O of y){if(v===O){_=!0;break}O>A&&(A=O)}if(!_&&v>A&&(_=!0),!_)throw new oe;const I=[new we(u[1],o),new we(d[0],o)];return new Ot(p,null,0,I,he.ITF,(new Date).getTime())}static decodeMiddle(o,a,l,u){let d=new Int32Array(10),f=new Int32Array(5),p=new Int32Array(5);for(d.fill(0),f.fill(0),p.fill(0);a<l;){jt.recordPattern(o,a,d);for(let v=0;v<5;v++){let _=2*v;f[v]=d[_],p[v]=d[_+1]}let y=xt.decodeDigit(f);u.append(y.toString()),y=this.decodeDigit(p),u.append(y.toString()),d.forEach(function(v){a+=v})}}decodeStart(o){let a=xt.skipWhiteSpace(o),l=xt.findGuardPattern(o,a,xt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(o,l[0]),l}validateQuietZone(o,a){let l=10*this.narrowLineWidth;l=l<a?l:a;for(let u=a-1;l>0&&u>=0&&!o.get(u);u--)l--;if(0!==l)throw new Y}static skipWhiteSpace(o){const a=o.getSize(),l=o.getNextSet(0);if(l===a)throw new Y;return l}decodeEnd(o){o.reverse();try{let l,a=xt.skipWhiteSpace(o);try{l=xt.findGuardPattern(o,a,xt.END_PATTERN_REVERSED[0])}catch(d){d instanceof Y&&(l=xt.findGuardPattern(o,a,xt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,l[0]);let u=l[0];return l[0]=o.getSize()-l[1],l[1]=o.getSize()-u,l}finally{o.reverse()}}static findGuardPattern(o,a,l){let u=l.length,d=new Int32Array(u),f=o.getSize(),p=!1,y=0,v=a;d.fill(0);for(let _=a;_<f;_++)if(o.get(_)!==p)d[y]++;else{if(y===u-1){if(jt.patternMatchVariance(d,l,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return[v,_];v+=d[0]+d[1],_t.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,p=!p}throw new Y}static decodeDigit(o){let a=xt.MAX_AVG_VARIANCE,l=-1,u=xt.PATTERNS.length;for(let d=0;d<u;d++){let p=jt.patternMatchVariance(o,xt.PATTERNS[d],xt.MAX_INDIVIDUAL_VARIANCE);p<a?(a=p,l=d):p===a&&(l=-1)}if(l>=0)return l%10;throw new Y}}xt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],xt.MAX_AVG_VARIANCE=.38,xt.MAX_INDIVIDUAL_VARIANCE=.5,xt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],xt.START_PATTERN=Int32Array.from([1,1,1,1]),xt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Bt extends jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let l,a=!1,u=0,d=Int32Array.from([0,0,0]);for(;!a;){d=Int32Array.from([0,0,0]),l=Bt.findGuardPattern(o,u,!1,this.START_END_PATTERN,d);let f=l[0];u=l[1];let p=f-(u-f);p>=0&&(a=o.isRange(p,f,!1))}return l}static checkChecksum(o){return Bt.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let a=o.length;if(0===a)return!1;let l=parseInt(o.charAt(a-1),10);return Bt.getStandardUPCEANChecksum(o.substring(0,a-1))===l}static getStandardUPCEANChecksum(o){let a=o.length,l=0;for(let u=a-1;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new oe;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new oe;l+=d}return(1e3-l)%10}static decodeEnd(o,a){return Bt.findGuardPattern(o,a,!1,Bt.START_END_PATTERN,new Int32Array(Bt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,a,l,u){return this.findGuardPattern(o,a,l,u,new Int32Array(u.length))}static findGuardPattern(o,a,l,u,d){let f=o.getSize(),p=0,y=a=l?o.getNextUnset(a):o.getNextSet(a),v=u.length,_=l;for(let A=a;A<f;A++)if(o.get(A)!==_)d[p]++;else{if(p===v-1){if(jt.patternMatchVariance(d,u,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return Int32Array.from([y,A]);y+=d[0]+d[1];let I=d.slice(2,d.length-1);for(let M=0;M<p-1;M++)d[M]=I[M];d[p-1]=0,d[p]=0,p--}else p++;d[p]=1,_=!_}throw new Y}static decodeDigit(o,a,l,u){this.recordPattern(o,l,a);let d=this.MAX_AVG_VARIANCE,f=-1,p=u.length;for(let y=0;y<p;y++){let _=jt.patternMatchVariance(a,u[y],Bt.MAX_INDIVIDUAL_VARIANCE);_<d&&(d=_,f=y)}if(f>=0)return f;throw new Y}}Bt.MAX_AVG_VARIANCE=.48,Bt.MAX_INDIVIDUAL_VARIANCE=.7,Bt.START_END_PATTERN=Int32Array.from([1,1,1]),Bt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Bt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class zo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),f=u.toString(),p=zo.parseExtensionString(f),y=[new we((l[0]+l[1])/2,o),new we(d,o)],v=new Ot(f,null,0,y,he.UPC_EAN_EXTENSION,(new Date).getTime());return null!=p&&v.putAllMetadata(p),v}decodeMiddle(o,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),f=a[1],p=0;for(let v=0;v<5&&f<d;v++){let _=Bt.decodeDigit(o,u,f,Bt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+_%10);for(let A of u)f+=A;_>=10&&(p|=1<<4-v),4!==v&&(f=o.getNextSet(f),f=o.getNextUnset(f))}if(5!==l.length)throw new Y;let y=this.determineCheckDigit(p);if(zo.extensionChecksum(l.toString())!==y)throw new Y;return f}static extensionChecksum(o){let a=o.length,l=0;for(let u=a-2;u>=0;u-=2)l+=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let u=a-1;u>=0;u-=2)l+=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(o){for(let a=0;a<10;a++)if(o===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new Y}static parseExtensionString(o){if(5!==o.length)return null;let a=zo.parseExtension5String(o);return null==a?null:new Map([[Xe.SUGGESTED_PRICE,a]])}static parseExtension5String(o){let a;switch(o.charAt(0)){case"0":a="\xa3";break;case"5":a="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a=""}let l=parseInt(o.substring(1)),d=l%100;return a+(l/100).toString()+"."+(d<10?"0"+d:d.toString())}}class tl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),f=u.toString(),p=tl.parseExtensionString(f),y=[new we((l[0]+l[1])/2,o),new we(d,o)],v=new Ot(f,null,0,y,he.UPC_EAN_EXTENSION,(new Date).getTime());return null!=p&&v.putAllMetadata(p),v}decodeMiddle(o,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),f=a[1],p=0;for(let y=0;y<2&&f<d;y++){let v=Bt.decodeDigit(o,u,f,Bt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v%10);for(let _ of u)f+=_;v>=10&&(p|=1<<1-y),1!==y&&(f=o.getNextSet(f),f=o.getNextUnset(f))}if(2!==l.length)throw new Y;if(parseInt(l.toString())%4!==p)throw new Y;return f}static parseExtensionString(o){return 2!==o.length?null:new Map([[Xe.ISSUE_NUMBER,parseInt(o)]])}}class $c{static decodeRow(o,a,l){let u=Bt.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new zo).decodeRow(o,a,u)}catch{return(new tl).decodeRow(o,a,u)}}}$c.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ot extends Bt{constructor(){super(),this.decodeRowStringBuffer="",ot.L_AND_G_PATTERNS=ot.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let a=ot.L_PATTERNS[o-10],l=new Int32Array(a.length);for(let u=0;u<a.length;u++)l[u]=a[a.length-u-1];ot.L_AND_G_PATTERNS[o]=l}}decodeRow(o,a,l){let u=ot.findStartGuardPattern(a),d=null==l?null:l.get(St.NEED_RESULT_POINT_CALLBACK);if(null!=d){const G=new we((u[0]+u[1])/2,o);d.foundPossibleResultPoint(G)}let f=this.decodeMiddle(a,u,this.decodeRowStringBuffer),p=f.rowOffset,y=f.resultString;if(null!=d){const G=new we(p,o);d.foundPossibleResultPoint(G)}let v=this.decodeEnd(a,p);if(null!=d){const G=new we((v[0]+v[1])/2,o);d.foundPossibleResultPoint(G)}let _=v[1],A=_+(_-v[0]);if(A>=a.getSize()||!a.isRange(_,A,!1))throw new Y;let I=y.toString();if(I.length<8)throw new oe;if(!ot.checkChecksum(I))throw new Kt;let M=(u[1]+u[0])/2,O=(v[1]+v[0])/2,P=this.getBarcodeFormat(),B=[new we(M,o),new we(O,o)],j=new Ot(I,null,0,B,P,(new Date).getTime()),J=0;try{let G=$c.decodeRow(o,a,v[1]);j.putMetadata(Xe.UPC_EAN_EXTENSION,G.getText()),j.putAllMetadata(G.getResultMetadata()),j.addResultPoints(G.getResultPoints()),J=G.getText().length}catch{}let ae=null==l?null:l.get(St.ALLOWED_EAN_EXTENSIONS);if(null!=ae){let G=!1;for(let Ge in ae)if(J.toString()===Ge){G=!0;break}if(!G)throw new Y}return j}decodeEnd(o,a){return ot.findGuardPattern(o,a,!1,ot.START_END_PATTERN,new Int32Array(ot.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return ot.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let a=o.length;if(0===a)return!1;let l=parseInt(o.charAt(a-1),10);return ot.getStandardUPCEANChecksum(o.substring(0,a-1))===l}static getStandardUPCEANChecksum(o){let a=o.length,l=0;for(let u=a-1;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new oe;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=o.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new oe;l+=d}return(1e3-l)%10}}let As=(()=>{class C extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=a.getSize(),p=l[1],y=0;for(let _=0;_<6&&p<f;_++){let A=ot.decodeDigit(a,d,p,ot.L_AND_G_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+A%10);for(let I of d)p+=I;A>=10&&(y|=1<<5-_)}u=C.determineFirstDigit(u,y),p=ot.findGuardPattern(a,p,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<6&&p<f;_++){let A=ot.decodeDigit(a,d,p,ot.L_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+A);for(let I of d)p+=I}return{rowOffset:p,resultString:u}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(a,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return String.fromCharCode("0".charCodeAt(0)+u)+a;throw new Y}}return C.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],C})();class qc extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,a,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=o.getSize(),f=a[1];for(let y=0;y<4&&f<d;y++){let v=ot.decodeDigit(o,u,f,ot.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v);for(let _ of u)f+=_}f=ot.findGuardPattern(o,f,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<d;y++){let v=ot.decodeDigit(o,u,f,ot.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+v);for(let _ of u)f+=_}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return he.EAN_8}}class Yc extends ot{constructor(){super(...arguments),this.ean13Reader=new As}getBarcodeFormat(){return he.UPC_A}decode(o,a){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,a,l))}decodeMiddle(o,a,l){return this.ean13Reader.decodeMiddle(o,a,l)}maybeReturnResult(o){let a=o.getText();if("0"===a.charAt(0)){let l=new Ot(a.substring(1),null,null,o.getResultPoints(),he.UPC_A);return null!=o.getResultMetadata()&&l.putAllMetadata(o.getResultMetadata()),l}throw new Y}reset(){this.ean13Reader.reset()}}class fr extends ot{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,a,l){const u=this.decodeMiddleCounters.map(v=>v);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=o.getSize();let f=a[1],p=0;for(let v=0;v<6&&f<d;v++){const _=fr.decodeDigit(o,u,f,fr.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+_%10);for(let A of u)f+=A;_>=10&&(p|=1<<5-v)}return{rowOffset:f,resultString:fr.determineNumSysAndCheckDigit(l,p)}}decodeEnd(o,a){return fr.findGuardPatternWithoutCounters(o,a,!0,fr.MIDDLE_END_PATTERN)}checkChecksum(o){return ot.checkChecksum(fr.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,a){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u])return String.fromCharCode("0".charCodeAt(0)+l)+o+String.fromCharCode("0".charCodeAt(0)+u);throw Y.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(o){const a=o.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new ut;l.append(o.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(u),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(u)}return o.length>=8&&l.append(o.charAt(7)),l.toString()}}fr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),fr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Xc extends jt{constructor(o){super();let a=null==o?null:o.get(St.POSSIBLE_FORMATS),l=[];et(a)?(l.push(new As),l.push(new Yc),l.push(new qc),l.push(new fr)):(a.indexOf(he.EAN_13)>-1&&l.push(new As),a.indexOf(he.UPC_A)>-1&&l.push(new Yc),a.indexOf(he.EAN_8)>-1&&l.push(new qc),a.indexOf(he.UPC_E)>-1&&l.push(new fr)),this.readers=l}decodeRow(o,a,l){for(let u of this.readers)try{const d=u.decodeRow(o,a,l),f=d.getBarcodeFormat()===he.EAN_13&&"0"===d.getText().charAt(0),p=null==l?null:l.get(St.POSSIBLE_FORMATS),y=null==p||p.includes(he.UPC_A);if(f&&y){const v=d.getRawBytes(),_=new Ot(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),he.UPC_A);return _.putAllMetadata(d.getResultMetadata()),_}return d}catch{}throw new Y}reset(){for(let o of this.readers)o.reset()}}let li=(()=>{class C extends jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,l){for(let u=0;u<l.length;u++)if(jt.patternMatchVariance(a,l[u],C.MAX_INDIVIDUAL_VARIANCE)<C.MAX_AVG_VARIANCE)return u;throw new Y}static count(a){return tt.sum(new Int32Array(a))}static increment(a,l){let u=0,d=l[0];for(let f=1;f<a.length;f++)l[f]>d&&(d=l[f],u=f);a[u]++}static decrement(a,l){let u=0,d=l[0];for(let f=1;f<a.length;f++)l[f]<d&&(d=l[f],u=f);a[u]--}static isFinderPattern(a){let l=a[0]+a[1],d=l/(l+a[2]+a[3]);if(d>=C.MIN_FINDER_PATTERN_RATIO&&d<=C.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let y of a)y>p&&(p=y),y<f&&(f=y);return p<10*f}return!1}}return C.MAX_AVG_VARIANCE=.2,C.MAX_INDIVIDUAL_VARIANCE=.45,C.MIN_FINDER_PATTERN_RATIO=9.5/12,C.MAX_FINDER_PATTERN_RATIO=12.5/14,C})();class Fi{constructor(o,a){this.value=o,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){return o instanceof Fi&&this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Go{constructor(o,a,l,u,d){this.value=o,this.startEnd=a,this.value=o,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new we(l,d)),this.resultPoints.push(new we(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){return o instanceof Go&&this.value===o.value}hashCode(){return this.value}}class hr{constructor(){}static getRSSvalue(o,a,l){let u=0;for(let y of o)u+=y;let d=0,f=0,p=o.length;for(let y=0;y<p-1;y++){let v;for(v=1,f|=1<<y;v<o[y];v++,f&=~(1<<y)){let _=hr.combins(u-v-1,p-y-2);if(l&&0===f&&u-v-(p-y-1)>=p-y-1&&(_-=hr.combins(u-v-(p-y),p-y-2)),p-y-1>1){let A=0;for(let I=u-v-(p-y-2);I>a;I--)A+=hr.combins(u-v-I-1,p-y-3);_-=A*(p-1-y)}else u-v>a&&_--;d+=_}u-=v}return d}static combins(o,a){let l,u;o-a>a?(u=a,l=o-a):(u=o-a,l=a);let d=1,f=1;for(let p=o;p>l;p--)d*=p,f<=u&&(d/=f,f++);for(;f<=u;)d/=f,f++;return d}}class Zc{static buildBitArray(o){let a=2*o.length-1;null==o[o.length-1].getRightChar()&&(a-=1);let u=new Et(12*a),d=0,p=o[0].getRightChar().getValue();for(let y=11;y>=0;--y)p&1<<y&&u.set(d),d++;for(let y=1;y<o.length;++y){let v=o[y],_=v.getLeftChar().getValue();for(let A=11;A>=0;--A)_&1<<A&&u.set(d),d++;if(null!=v.getRightChar()){let A=v.getRightChar().getValue();for(let I=11;I>=0;--I)A&1<<I&&u.set(d),d++}}return u}}class ki{constructor(o,a){a?this.decodedInformation=null:(this.finished=o,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ds{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}let er=(()=>{class C extends Ds{constructor(a,l){super(a),this.value=l}getValue(){return this.value}isFNC1(){return this.value===C.FNC1}}return C.FNC1="$",C})();class ci extends Ds{constructor(o,a,l){super(o),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let Bi=(()=>{class C extends Ds{constructor(a,l,u){if(super(a),l<0||l>10||u<0||u>10)throw new oe;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===C.FNC1}isSecondDigitFNC1(){return this.secondDigit===C.FNC1}isAnyFNC1(){return this.firstDigit===C.FNC1||this.secondDigit===C.FNC1}}return C.FNC1=10,C})();class se{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new Y;let a=o.substring(0,2);for(let d of se.TWO_DIGIT_DATA_LENGTH)if(d[0]===a)return d[1]===se.VARIABLE_LENGTH?se.processVariableAI(2,d[2],o):se.processFixedAI(2,d[1],o);if(o.length<3)throw new Y;let l=o.substring(0,3);for(let d of se.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===se.VARIABLE_LENGTH?se.processVariableAI(3,d[2],o):se.processFixedAI(3,d[1],o);for(let d of se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,d[2],o):se.processFixedAI(4,d[1],o);if(o.length<4)throw new Y;let u=o.substring(0,4);for(let d of se.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,d[2],o):se.processFixedAI(4,d[1],o);throw new Y}static processFixedAI(o,a,l){if(l.length<o)throw new Y;let u=l.substring(0,o);if(l.length<o+a)throw new Y;let d=l.substring(o,o+a),f=l.substring(o+a),p="("+u+")"+d,y=se.parseFieldsInGeneralPurpose(f);return null==y?p:p+y}static processVariableAI(o,a,l){let d,u=l.substring(0,o);d=l.length<o+a?l.length:o+a;let f=l.substring(o,d),p=l.substring(d),y="("+u+")"+f,v=se.parseFieldsInGeneralPurpose(p);return null==v?y:y+v}}se.VARIABLE_LENGTH=[],se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",se.VARIABLE_LENGTH,20],["22",se.VARIABLE_LENGTH,29],["30",se.VARIABLE_LENGTH,8],["37",se.VARIABLE_LENGTH,8],["90",se.VARIABLE_LENGTH,30],["91",se.VARIABLE_LENGTH,30],["92",se.VARIABLE_LENGTH,30],["93",se.VARIABLE_LENGTH,30],["94",se.VARIABLE_LENGTH,30],["95",se.VARIABLE_LENGTH,30],["96",se.VARIABLE_LENGTH,30],["97",se.VARIABLE_LENGTH,3],["98",se.VARIABLE_LENGTH,30],["99",se.VARIABLE_LENGTH,30]],se.THREE_DIGIT_DATA_LENGTH=[["240",se.VARIABLE_LENGTH,30],["241",se.VARIABLE_LENGTH,30],["242",se.VARIABLE_LENGTH,6],["250",se.VARIABLE_LENGTH,30],["251",se.VARIABLE_LENGTH,30],["253",se.VARIABLE_LENGTH,17],["254",se.VARIABLE_LENGTH,20],["400",se.VARIABLE_LENGTH,30],["401",se.VARIABLE_LENGTH,30],["402",17],["403",se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",se.VARIABLE_LENGTH,20],["421",se.VARIABLE_LENGTH,15],["422",3],["423",se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",se.VARIABLE_LENGTH,15],["391",se.VARIABLE_LENGTH,18],["392",se.VARIABLE_LENGTH,15],["393",se.VARIABLE_LENGTH,18],["703",se.VARIABLE_LENGTH,30]],se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",se.VARIABLE_LENGTH,20],["8003",se.VARIABLE_LENGTH,30],["8004",se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",se.VARIABLE_LENGTH,30],["8008",se.VARIABLE_LENGTH,12],["8018",18],["8020",se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",se.VARIABLE_LENGTH,70],["8200",se.VARIABLE_LENGTH,70]];class ao{constructor(o){this.buffer=new ut,this.information=o}decodeAllCodes(o,a){let l=a,u=null;for(;;){let d=this.decodeGeneralPurposeField(l,u),f=se.parseFieldsInGeneralPurpose(d.getNewString());if(null!=f&&o.append(f),u=d.isRemaining()?""+d.getRemainingValue():null,l===d.getNewPosition())break;l=d.getNewPosition()}return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let a=o;a<o+3;++a)if(this.information.get(a))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(o,4);return new Bi(this.information.getSize(),0===d?Bi.FNC1:d-1,Bi.FNC1)}let a=this.extractNumericValueFromBitArray(o,7);return new Bi(o+7,(a-8)/11,(a-8)%11)}extractNumericValueFromBitArray(o,a){return ao.extractNumericValueFromBitArray(this.information,o,a)}static extractNumericValueFromBitArray(o,a,l){let u=0;for(let d=0;d<l;++d)o.get(a+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(o,a){this.buffer.setLengthToZero(),null!=a&&this.buffer.append(a),this.current.setPosition(o);let l=this.parseBlocks();return null!=l&&l.isRemaining()?new ci(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new ci(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),o=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),o=a.isFinished()):(a=this.parseNumericBlock(),o=a.isFinished()),l===this.current.getPosition()&&!o)break}while(!o);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let a;return a=o.isSecondDigitFNC1()?new ci(this.current.getPosition(),this.buffer.toString()):new ci(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new ki(!0,a)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let a=new ci(this.current.getPosition(),this.buffer.toString());return new ki(!0,a)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ki(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let a=new ci(this.current.getPosition(),this.buffer.toString());return new ki(!0,a)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ki(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let a=new ci(this.current.getPosition(),this.buffer.toString());return new ki(!0,a)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ki(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(o,5);if(a>=5&&a<16)return!0;if(o+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,7);if(l>=64&&l<116)return!0;if(o+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,8);return u>=232&&u<253}decodeIsoIec646(o){let a=this.extractNumericValueFromBitArray(o,5);if(15===a)return new er(o+5,er.FNC1);if(a>=5&&a<15)return new er(o+5,"0"+(a-5));let d,l=this.extractNumericValueFromBitArray(o,7);if(l>=64&&l<90)return new er(o+7,""+(l+1));if(l>=90&&l<116)return new er(o+7,""+(l+7));switch(this.extractNumericValueFromBitArray(o,8)){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new oe}return new er(o+8,d)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(o,5);if(a>=5&&a<16)return!0;if(o+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,6);return l>=16&&l<63}decodeAlphanumeric(o){let a=this.extractNumericValueFromBitArray(o,5);if(15===a)return new er(o+5,er.FNC1);if(a>=5&&a<15)return new er(o+5,"0"+(a-5));let u,l=this.extractNumericValueFromBitArray(o,6);if(l>=32&&l<58)return new er(o+6,""+(l+33));switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new jr("Decoding invalid alphanumeric value: "+l)}return new er(o+6,u)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let a=0;a<5&&a+o<this.information.getSize();++a)if(2===a){if(!this.information.get(o+2))return!1}else if(this.information.get(o+a))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let a=o;a<o+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let a=0;a<4&&a+o<this.information.getSize();++a)if(this.information.get(o+a))return!1;return!0}}class nl{constructor(o){this.information=o,this.generalDecoder=new ao(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let pr=(()=>{class C extends nl{constructor(a){super(a)}encodeCompressedGtin(a,l){a.append("(01)");let u=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,l,u)}encodeCompressedGtinWithoutAI(a,l,u){for(let d=0;d<4;++d){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*d,10);f/100==0&&a.append("0"),f/10==0&&a.append("0"),a.append(f)}C.appendCheckDigit(a,u)}static appendCheckDigit(a,l){let u=0;for(let d=0;d<13;d++){let f=a.charAt(d+l).charCodeAt(0)-"0".charCodeAt(0);u+=1&d?f:3*f}u=10-u%10,10===u&&(u=0),a.append(u)}}return C.GTIN_SIZE=40,C})(),Tf=(()=>{class C extends pr{constructor(a){super(a)}parseInformation(){let a=new ut;a.append("(01)");let l=a.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(C.HEADER_SIZE,4);return a.append(u),this.encodeCompressedGtinWithoutAI(a,C.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(a,C.HEADER_SIZE+44)}}return C.HEADER_SIZE=4,C})(),Qc=(()=>{class C extends nl{constructor(a){super(a)}parseInformation(){let a=new ut;return this.getGeneralDecoder().decodeAllCodes(a,C.HEADER_SIZE)}}return C.HEADER_SIZE=5,C})();class Is extends pr{constructor(o){super(o)}encodeCompressedWeight(o,a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(o,u);let d=this.checkWeight(u),f=1e5;for(let p=0;p<5;++p)d/f==0&&o.append("0"),f/=10;o.append(d)}}let Kc=(()=>{class C extends Is{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=C.HEADER_SIZE+Is.GTIN_SIZE+C.WEIGHT_SIZE)throw new Y;let a=new ut;return this.encodeCompressedGtin(a,C.HEADER_SIZE),this.encodeCompressedWeight(a,C.HEADER_SIZE+Is.GTIN_SIZE,C.WEIGHT_SIZE),a.toString()}}return C.HEADER_SIZE=5,C.WEIGHT_SIZE=15,C})();class Gr extends Kc{constructor(o){super(o)}addWeightCode(o,a){o.append("(3103)")}checkWeight(o){return o}}class Mf extends Kc{constructor(o){super(o)}addWeightCode(o,a){o.append(a<1e4?"(3202)":"(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}let pn=(()=>{class C extends pr{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<C.HEADER_SIZE+pr.GTIN_SIZE)throw new Y;let a=new ut;this.encodeCompressedGtin(a,C.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(C.HEADER_SIZE+pr.GTIN_SIZE,C.LAST_DIGIT_SIZE);a.append("(392"),a.append(l),a.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(C.HEADER_SIZE+pr.GTIN_SIZE+C.LAST_DIGIT_SIZE,null);return a.append(u.getNewString()),a.toString()}}return C.HEADER_SIZE=8,C.LAST_DIGIT_SIZE=2,C})(),lo=(()=>{class C extends pr{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<C.HEADER_SIZE+pr.GTIN_SIZE)throw new Y;let a=new ut;this.encodeCompressedGtin(a,C.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(C.HEADER_SIZE+pr.GTIN_SIZE,C.LAST_DIGIT_SIZE);a.append("(393"),a.append(l),a.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(C.HEADER_SIZE+pr.GTIN_SIZE+C.LAST_DIGIT_SIZE,C.FIRST_THREE_DIGITS_SIZE);u/100==0&&a.append("0"),u/10==0&&a.append("0"),a.append(u);let d=this.getGeneralDecoder().decodeGeneralPurposeField(C.HEADER_SIZE+pr.GTIN_SIZE+C.LAST_DIGIT_SIZE+C.FIRST_THREE_DIGITS_SIZE,null);return a.append(d.getNewString()),a.toString()}}return C.HEADER_SIZE=8,C.LAST_DIGIT_SIZE=2,C.FIRST_THREE_DIGITS_SIZE=10,C})(),gn=(()=>{class C extends Is{constructor(a,l,u){super(a),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=C.HEADER_SIZE+C.GTIN_SIZE+C.WEIGHT_SIZE+C.DATE_SIZE)throw new Y;let a=new ut;return this.encodeCompressedGtin(a,C.HEADER_SIZE),this.encodeCompressedWeight(a,C.HEADER_SIZE+C.GTIN_SIZE,C.WEIGHT_SIZE),this.encodeCompressedDate(a,C.HEADER_SIZE+C.GTIN_SIZE+C.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,C.DATE_SIZE);if(38400==u)return;a.append("("),a.append(this.dateCode),a.append(")");let d=u%32;u/=32;let f=u%12+1;u/=12;let p=u;p/10==0&&a.append("0"),a.append(p),f/10==0&&a.append("0"),a.append(f),d/10==0&&a.append("0"),a.append(d)}addWeightCode(a,l){a.append("("),a.append(this.firstAIdigits),a.append(l/1e5),a.append(")")}checkWeight(a){return a%1e5}}return C.HEADER_SIZE=8,C.WEIGHT_SIZE=20,C.DATE_SIZE=16,C})();function Nf(C){try{if(C.get(1))return new Tf(C);if(!C.get(2))return new Qc(C);switch(ao.extractNumericValueFromBitArray(C,1,4)){case 4:return new Gr(C);case 5:return new Mf(C)}switch(ao.extractNumericValueFromBitArray(C,1,5)){case 12:return new pn(C);case 13:return new lo(C)}switch(ao.extractNumericValueFromBitArray(C,1,7)){case 56:return new gn(C,"310","11");case 57:return new gn(C,"320","11");case 58:return new gn(C,"310","13");case 59:return new gn(C,"320","13");case 60:return new gn(C,"310","15");case 61:return new gn(C,"320","15");case 62:return new gn(C,"310","17");case 63:return new gn(C,"320","17")}}catch(o){throw console.log(o),new jr("unknown decoder: "+C)}}class ui{constructor(o,a,l,u){this.leftchar=o,this.rightchar=a,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(o,a){return o instanceof ui&&ui.equalsOrNull(o.leftchar,a.leftchar)&&ui.equalsOrNull(o.rightchar,a.rightchar)&&ui.equalsOrNull(o.finderpattern,a.finderpattern)}static equalsOrNull(o,a){return null===o?null===a:ui.equals(o,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class rl{constructor(o,a,l){this.pairs=o,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,a){return o instanceof rl&&this.checkEqualitity(o,a)&&o.wasReversed===a.wasReversed}checkEqualitity(o,a){if(!o||!a)return;let l;return o.forEach((u,d)=>{a.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class X extends li{constructor(o){super(...arguments),this.pairs=new Array(X.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===o}decodeRow(o,a,l){this.pairs.length=0,this.startFromEven=!1;try{return X.constructResult(this.decodeRow2pairs(o,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,X.constructResult(this.decodeRow2pairs(o,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,a){let u,l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,o))}catch(d){if(d instanceof Y){if(!this.pairs.length)throw new Y;l=!0}}if(this.checkChecksum())return this.pairs;if(u=!!this.rows.length,this.storeRow(o,!1),u){let d=this.checkRowsBoolean(!1);if(null!=d||(d=this.checkRowsBoolean(!0),null!=d))return d}throw new Y}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return o&&(this.rows=this.rows.reverse()),a}checkRows(o,a){for(let l=a;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let f of o)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!X.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(o);d.push(u);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new Y}static isValidSequence(o){for(let a of X.FINDER_PATTERN_SEQUENCES){if(o.length>a.length)continue;let l=!0;for(let u=0;u<o.length;u++)if(o[u].getFinderPattern().getValue()!=a[u]){l=!1;break}if(l)return!0}return!1}storeRow(o,a){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>o){d=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),l++}d||u||X.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new rl(this.pairs,o,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,a){for(let l of a)if(l.getPairs().length!==o.length)for(let u of l.getPairs())for(let d of o)if(ui.equals(u,d))break}static isPartialRow(o,a){for(let l of a){let u=!0;for(let d of o){let f=!1;for(let p of l.getPairs())if(d.equals(p)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=Nf(Zc.buildBitArray(o)).parseInformation(),d=o[0].getFinderPattern().getResultPoints(),f=o[o.length-1].getFinderPattern().getResultPoints();return new Ot(u,null,null,[d[0],d[1],f[0],f[1]],he.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),a=o.getLeftChar(),l=o.getRightChar();if(null==l)return!1;let u=l.getChecksumPortion(),d=2;for(let p=1;p<this.pairs.size();++p){let y=this.pairs.get(p);u+=y.getLeftChar().getChecksumPortion(),d++;let v=y.getRightChar();null!=v&&(u+=v.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==a.getValue()}static getNextSecondBar(o,a){let l;return o.get(a)?(l=o.getNextUnset(a),l=o.getNextSet(l)):(l=o.getNextSet(a),l=o.getNextUnset(l)),l}retrieveNextPair(o,a,l){let u=a.length%2==0;this.startFromEven&&(u=!u);let d,f=!0,p=-1;do{this.findNextPair(o,a,p),d=this.parseFoundFinderPattern(o,l,u),null==d?p=X.getNextSecondBar(o,this.startEnd[0]):f=!1}while(f);let v,y=this.decodeDataCharacter(o,d,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new Y;try{v=this.decodeDataCharacter(o,d,u,!1)}catch(_){v=null,this.verbose&&console.log(_)}return new ui(y,v,d,!0)}isEmptyPair(o){return 0===o.length}findNextPair(o,a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f,d=o.getSize();f=l>=0?l:this.isEmptyPair(a)?0:a[a.length-1].getFinderPattern().getStartEnd()[1];let p=a.length%2!=0;this.startFromEven&&(p=!p);let y=!1;for(;f<d&&(y=!o.get(f),y);)f++;let v=0,_=f;for(let A=f;A<d;A++)if(o.get(A)!=y)u[v]++;else{if(3==v){if(p&&X.reverseCounters(u),X.isFinderPattern(u))return this.startEnd[0]=_,void(this.startEnd[1]=A);p&&X.reverseCounters(u),_+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,v--}else v++;u[v]=1,y=!y}throw new Y}static reverseCounters(o){let a=o.length;for(let l=0;l<a/2;++l){let u=o[l];o[l]=o[a-l-1],o[a-l-1]=u}}parseFoundFinderPattern(o,a,l){let u,d,f;if(l){let v=this.startEnd[0]-1;for(;v>=0&&!o.get(v);)v--;v++,u=this.startEnd[0]-v,d=v,f=this.startEnd[1]}else d=this.startEnd[0],f=o.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let y,p=this.getDecodeFinderCounters();_t.arraycopy(p,0,p,1,p.length-1),p[0]=u;try{y=this.parseFinderValue(p,X.FINDER_PATTERNS)}catch{return null}return new Go(y,[d,f],d,f,a)}decodeDataCharacter(o,a,l,u){let d=this.getDataCharacterCounters();for(let wt=0;wt<d.length;wt++)d[wt]=0;if(u)X.recordPatternInReverse(o,a.getStartEnd()[0],d);else{X.recordPattern(o,a.getStartEnd()[1],d);for(let wt=0,ve=d.length-1;wt<ve;wt++,ve--){let bt=d[wt];d[wt]=d[ve],d[ve]=bt}}let p=tt.sum(new Int32Array(d))/17,y=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(p-y)/y>.3)throw new Y;let v=this.getOddCounts(),_=this.getEvenCounts(),A=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let wt=0;wt<d.length;wt++){let ve=1*d[wt]/p,bt=ve+.5;if(bt<1){if(ve<.3)throw new Y;bt=1}else if(bt>8){if(ve>8.7)throw new Y;bt=8}let Ye=wt/2;1&wt?(_[Ye]=bt,I[Ye]=ve-bt):(v[Ye]=bt,A[Ye]=ve-bt)}this.adjustOddEvenCounts(17);let M=4*a.getValue()+(l?0:2)+(u?0:1)-1,O=0,P=0;for(let wt=v.length-1;wt>=0;wt--)X.isNotA1left(a,l,u)&&(P+=v[wt]*X.WEIGHTS[M][2*wt]),O+=v[wt];let B=0;for(let wt=_.length-1;wt>=0;wt--)X.isNotA1left(a,l,u)&&(B+=_[wt]*X.WEIGHTS[M][2*wt+1]);let j=P+B;if(1&O||O>13||O<4)throw new Y;let J=(13-O)/2,ae=X.SYMBOL_WIDEST[J],G=9-ae,Ge=hr.getRSSvalue(v,ae,!0),Oe=hr.getRSSvalue(_,G,!1);return new Fi(Ge*X.EVEN_TOTAL_SUBSET[J]+Oe+X.GSUM[J],j)}static isNotA1left(o,a,l){return!(0==o.getValue()&&a&&l)}adjustOddEvenCounts(o){let a=tt.sum(new Int32Array(this.getOddCounts())),l=tt.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;a>13?d=!0:a<4&&(u=!0);let f=!1,p=!1;l>13?p=!0:l<4&&(f=!0);let y=a+l-o,v=1==(1&a),_=0==(1&l);if(1==y)if(v){if(_)throw new Y;d=!0}else{if(!_)throw new Y;p=!0}else if(-1==y)if(v){if(_)throw new Y;u=!0}else{if(!_)throw new Y;f=!0}else{if(0!=y)throw new Y;if(v){if(!_)throw new Y;a<l?(u=!0,p=!0):(d=!0,f=!0)}else if(_)throw new Y}if(u){if(d)throw new Y;X.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&X.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new Y;X.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&X.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}X.SYMBOL_WIDEST=[7,5,4,3,1],X.EVEN_TOTAL_SUBSET=[4,20,52,104,204],X.GSUM=[0,348,1388,2948,3988],X.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],X.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],X.FINDER_PAT_A=0,X.FINDER_PAT_B=1,X.FINDER_PAT_C=2,X.FINDER_PAT_D=3,X.FINDER_PAT_E=4,X.FINDER_PAT_F=5,X.FINDER_PATTERN_SEQUENCES=[[X.FINDER_PAT_A,X.FINDER_PAT_A],[X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B],[X.FINDER_PAT_A,X.FINDER_PAT_C,X.FINDER_PAT_B,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_C],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F]],X.MAX_PAIRS=11;class Jc extends Fi{constructor(o,a,l){super(o,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Tt extends li{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,a,l){const u=this.decodePair(a,!1,o,l);Tt.addOrTally(this.possibleLeftPairs,u),a.reverse();let d=this.decodePair(a,!0,o,l);Tt.addOrTally(this.possibleRightPairs,d),a.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1)for(let p of this.possibleRightPairs)if(p.getCount()>1&&Tt.checkChecksum(f,p))return Tt.constructResult(f,p);throw new Y}static addOrTally(o,a){if(null==a)return;let l=!1;for(let u of o)if(u.getValue()===a.getValue()){u.incrementCount(),l=!0;break}l||o.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,a){let l=4537077*o.getValue()+a.getValue(),u=new String(l).toString(),d=new ut;for(let v=13-u.length;v>0;v--)d.append("0");d.append(u);let f=0;for(let v=0;v<13;v++){let _=d.charAt(v).charCodeAt(0)-"0".charCodeAt(0);f+=1&v?_:3*_}f=10-f%10,10===f&&(f=0),d.append(f.toString());let p=o.getFinderPattern().getResultPoints(),y=a.getFinderPattern().getResultPoints();return new Ot(d.toString(),null,0,[p[0],p[1],y[0],y[1]],he.RSS_14,(new Date).getTime())}static checkChecksum(o,a){let l=(o.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*o.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(o,a,l,u){try{let d=this.findFinderPattern(o,a),f=this.parseFoundFinderPattern(o,l,a,d),p=null==u?null:u.get(St.NEED_RESULT_POINT_CALLBACK);if(null!=p){let _=(d[0]+d[1])/2;a&&(_=o.getSize()-1-_),p.foundPossibleResultPoint(new we(_,l))}let y=this.decodeDataCharacter(o,f,!0),v=this.decodeDataCharacter(o,f,!1);return new Jc(1597*y.getValue()+v.getValue(),y.getChecksumPortion()+4*v.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(o,a,l){let u=this.getDataCharacterCounters();for(let B=0;B<u.length;B++)u[B]=0;if(l)jt.recordPatternInReverse(o,a.getStartEnd()[0],u);else{jt.recordPattern(o,a.getStartEnd()[1]+1,u);for(let B=0,j=u.length-1;B<j;B++,j--){let J=u[B];u[B]=u[j],u[j]=J}}let d=l?16:15,f=tt.sum(new Int32Array(u))/d,p=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let B=0;B<u.length;B++){let j=u[B]/f,J=Math.floor(j+.5);J<1?J=1:J>8&&(J=8);let ae=Math.floor(B/2);1&B?(y[ae]=J,_[ae]=j-J):(p[ae]=J,v[ae]=j-J)}this.adjustOddEvenCounts(l,d);let A=0,I=0;for(let B=p.length-1;B>=0;B--)I*=9,I+=p[B],A+=p[B];let M=0,O=0;for(let B=y.length-1;B>=0;B--)M*=9,M+=y[B],O+=y[B];let P=I+3*M;if(l){if(1&A||A>12||A<4)throw new Y;let B=(12-A)/2,j=Tt.OUTSIDE_ODD_WIDEST[B],J=9-j,ae=hr.getRSSvalue(p,j,!1),G=hr.getRSSvalue(y,J,!0);return new Fi(ae*Tt.OUTSIDE_EVEN_TOTAL_SUBSET[B]+G+Tt.OUTSIDE_GSUM[B],P)}{if(1&O||O>10||O<4)throw new Y;let B=(10-O)/2,j=Tt.INSIDE_ODD_WIDEST[B],J=9-j,ae=hr.getRSSvalue(p,j,!0),G=hr.getRSSvalue(y,J,!1);return new Fi(G*Tt.INSIDE_ODD_TOTAL_SUBSET[B]+ae+Tt.INSIDE_GSUM[B],P)}}findFinderPattern(o,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=o.getSize(),d=!1,f=0;for(;f<u&&(d=!o.get(f),a!==d);)f++;let p=0,y=f;for(let v=f;v<u;v++)if(o.get(v)!==d)l[p]++;else{if(3===p){if(li.isFinderPattern(l))return[y,v];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,p--}else p++;l[p]=1,d=!d}throw new Y}parseFoundFinderPattern(o,a,l,u){let d=o.get(u[0]),f=u[0]-1;for(;f>=0&&d!==o.get(f);)f--;f++;const p=u[0]-f,y=this.getDecodeFinderCounters(),v=new Int32Array(y.length);_t.arraycopy(y,0,v,1,y.length-1),v[0]=p;const _=this.parseFinderValue(v,Tt.FINDER_PATTERNS);let A=f,I=u[1];return l&&(A=o.getSize()-1-A,I=o.getSize()-1-I),new Go(_,[f,u[1]],A,I,a)}adjustOddEvenCounts(o,a){let l=tt.sum(new Int32Array(this.getOddCounts())),u=tt.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,p=!1,y=!1;o?(l>12?f=!0:l<4&&(d=!0),u>12?y=!0:u<4&&(p=!0)):(l>11?f=!0:l<5&&(d=!0),u>10?y=!0:u<4&&(p=!0));let v=l+u-a,_=(1&l)==(o?1:0),A=1==(1&u);if(1===v)if(_){if(A)throw new Y;f=!0}else{if(!A)throw new Y;y=!0}else if(-1===v)if(_){if(A)throw new Y;d=!0}else{if(!A)throw new Y;p=!0}else{if(0!==v)throw new Y;if(_){if(!A)throw new Y;l<u?(d=!0,y=!0):(f=!0,p=!0)}else if(A)throw new Y}if(d){if(f)throw new Y;li.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&li.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(y)throw new Y;li.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&li.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Tt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Tt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Tt.OUTSIDE_GSUM=[0,161,961,2015,2715],Tt.INSIDE_GSUM=[0,336,1036,1516],Tt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Tt.INSIDE_ODD_WIDEST=[2,4,6,8],Tt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class co extends jt{constructor(o,a){super(),this.readers=[],this.verbose=!0===a;const l=o?o.get(St.POSSIBLE_FORMATS):null,u=o&&void 0!==o.get(St.ASSUME_CODE_39_CHECK_DIGIT);l?((l.includes(he.EAN_13)||l.includes(he.UPC_A)||l.includes(he.EAN_8)||l.includes(he.UPC_E))&&this.readers.push(new Xc(o)),l.includes(he.CODE_39)&&this.readers.push(new bs(u)),l.includes(he.CODE_128)&&this.readers.push(new re),l.includes(he.ITF)&&this.readers.push(new xt),l.includes(he.RSS_14)&&this.readers.push(new Tt),l.includes(he.RSS_EXPANDED)&&this.readers.push(new X(this.verbose))):(this.readers.push(new Xc(o)),this.readers.push(new bs),this.readers.push(new Xc(o)),this.readers.push(new re),this.readers.push(new xt),this.readers.push(new Tt),this.readers.push(new X(this.verbose)))}decodeRow(o,a,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(o,a,l)}catch{}throw new Y}reset(){this.readers.forEach(o=>o.reset())}}class st{constructor(o,a,l){this.ecCodewords=o,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class at{constructor(o,a){this.count=o,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ze{constructor(o,a,l,u,d,f){this.versionNumber=o,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=f;let p=0;const y=f.getECCodewords(),v=f.getECBlocks();for(let _ of v)p+=_.getCount()*(_.getDataCodewords()+y);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,a){if(1&o||1&a)throw new oe;for(let l of Ze.VERSIONS)if(l.symbolSizeRows===o&&l.symbolSizeColumns===a)return l;throw new oe}toString(){return""+this.versionNumber}static buildVersions(){return[new Ze(1,10,10,8,8,new st(5,new at(1,3))),new Ze(2,12,12,10,10,new st(7,new at(1,5))),new Ze(3,14,14,12,12,new st(10,new at(1,8))),new Ze(4,16,16,14,14,new st(12,new at(1,12))),new Ze(5,18,18,16,16,new st(14,new at(1,18))),new Ze(6,20,20,18,18,new st(18,new at(1,22))),new Ze(7,22,22,20,20,new st(20,new at(1,30))),new Ze(8,24,24,22,22,new st(24,new at(1,36))),new Ze(9,26,26,24,24,new st(28,new at(1,44))),new Ze(10,32,32,14,14,new st(36,new at(1,62))),new Ze(11,36,36,16,16,new st(42,new at(1,86))),new Ze(12,40,40,18,18,new st(48,new at(1,114))),new Ze(13,44,44,20,20,new st(56,new at(1,144))),new Ze(14,48,48,22,22,new st(68,new at(1,174))),new Ze(15,52,52,24,24,new st(42,new at(2,102))),new Ze(16,64,64,14,14,new st(56,new at(2,140))),new Ze(17,72,72,16,16,new st(36,new at(4,92))),new Ze(18,80,80,18,18,new st(48,new at(4,114))),new Ze(19,88,88,20,20,new st(56,new at(4,144))),new Ze(20,96,96,22,22,new st(68,new at(4,174))),new Ze(21,104,104,24,24,new st(56,new at(6,136))),new Ze(22,120,120,18,18,new st(68,new at(6,175))),new Ze(23,132,132,20,20,new st(62,new at(8,163))),new Ze(24,144,144,22,22,new st(62,new at(8,156),new at(2,155))),new Ze(25,8,18,6,16,new st(7,new at(1,5))),new Ze(26,8,32,6,14,new st(11,new at(1,10))),new Ze(27,12,26,10,24,new st(14,new at(1,16))),new Ze(28,12,36,10,16,new st(18,new at(1,22))),new Ze(29,16,36,14,16,new st(24,new at(1,32))),new Ze(30,16,48,14,22,new st(28,new at(1,49)))]}}Ze.VERSIONS=Ze.buildVersions();class il{constructor(o){const a=o.getHeight();if(a<8||a>144||1&a)throw new oe;this.version=il.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new an(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const a=o.getHeight(),l=o.getWidth();return Ze.getVersionForDimensions(a,l)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let p=!1,y=!1,v=!1,_=!1;do{if(l!==d||0!==u||p)if(l===d-2&&0===u&&3&f&&!y)o[a++]=255&this.readCorner2(d,f),l-=2,u+=2,y=!0;else if(l!==d+4||2!==u||7&f||v)if(l!==d-2||0!==u||4!=(7&f)||_){do{l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(o[a++]=255&this.readUtah(l,u,d,f)),l-=2,u+=2}while(l>=0&&u<f);l+=1,u+=3;do{l>=0&&u<f&&!this.readMappingMatrix.get(u,l)&&(o[a++]=255&this.readUtah(l,u,d,f)),l+=2,u-=2}while(l<d&&u>=0);l+=3,u+=1}else o[a++]=255&this.readCorner4(d,f),l-=2,u+=2,_=!0;else o[a++]=255&this.readCorner3(d,f),l-=2,u+=2,v=!0;else o[a++]=255&this.readCorner1(d,f),l-=2,u+=2,p=!0}while(l<d||u<f);if(a!==this.version.getTotalCodewords())throw new oe;return o}readModule(o,a,l,u){return o<0&&(o+=l,a+=4-(l+4&7)),a<0&&(a+=u,o+=4-(u+4&7)),this.readMappingMatrix.set(a,o),this.mappingBitMatrix.get(a,o)}readUtah(o,a,l,u){let d=0;return this.readModule(o-2,a-2,l,u)&&(d|=1),d<<=1,this.readModule(o-2,a-1,l,u)&&(d|=1),d<<=1,this.readModule(o-1,a-2,l,u)&&(d|=1),d<<=1,this.readModule(o-1,a-1,l,u)&&(d|=1),d<<=1,this.readModule(o-1,a,l,u)&&(d|=1),d<<=1,this.readModule(o,a-2,l,u)&&(d|=1),d<<=1,this.readModule(o,a-1,l,u)&&(d|=1),d<<=1,this.readModule(o,a,l,u)&&(d|=1),d}readCorner1(o,a){let l=0;return this.readModule(o-1,0,o,a)&&(l|=1),l<<=1,this.readModule(o-1,1,o,a)&&(l|=1),l<<=1,this.readModule(o-1,2,o,a)&&(l|=1),l<<=1,this.readModule(0,a-2,o,a)&&(l|=1),l<<=1,this.readModule(0,a-1,o,a)&&(l|=1),l<<=1,this.readModule(1,a-1,o,a)&&(l|=1),l<<=1,this.readModule(2,a-1,o,a)&&(l|=1),l<<=1,this.readModule(3,a-1,o,a)&&(l|=1),l}readCorner2(o,a){let l=0;return this.readModule(o-3,0,o,a)&&(l|=1),l<<=1,this.readModule(o-2,0,o,a)&&(l|=1),l<<=1,this.readModule(o-1,0,o,a)&&(l|=1),l<<=1,this.readModule(0,a-4,o,a)&&(l|=1),l<<=1,this.readModule(0,a-3,o,a)&&(l|=1),l<<=1,this.readModule(0,a-2,o,a)&&(l|=1),l<<=1,this.readModule(0,a-1,o,a)&&(l|=1),l<<=1,this.readModule(1,a-1,o,a)&&(l|=1),l}readCorner3(o,a){let l=0;return this.readModule(o-1,0,o,a)&&(l|=1),l<<=1,this.readModule(o-1,a-1,o,a)&&(l|=1),l<<=1,this.readModule(0,a-3,o,a)&&(l|=1),l<<=1,this.readModule(0,a-2,o,a)&&(l|=1),l<<=1,this.readModule(0,a-1,o,a)&&(l|=1),l<<=1,this.readModule(1,a-3,o,a)&&(l|=1),l<<=1,this.readModule(1,a-2,o,a)&&(l|=1),l<<=1,this.readModule(1,a-1,o,a)&&(l|=1),l}readCorner4(o,a){let l=0;return this.readModule(o-3,0,o,a)&&(l|=1),l<<=1,this.readModule(o-2,0,o,a)&&(l|=1),l<<=1,this.readModule(o-1,0,o,a)&&(l|=1),l<<=1,this.readModule(0,a-2,o,a)&&(l|=1),l<<=1,this.readModule(0,a-1,o,a)&&(l|=1),l<<=1,this.readModule(1,a-1,o,a)&&(l|=1),l<<=1,this.readModule(2,a-1,o,a)&&(l|=1),l<<=1,this.readModule(3,a-1,o,a)&&(l|=1),l}extractDataRegion(o){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(o.getHeight()!==a)throw new fe("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=a/u|0,p=l/d|0,_=new an(p*d,f*u);for(let A=0;A<f;++A){const I=A*u;for(let M=0;M<p;++M){const O=M*d;for(let P=0;P<u;++P){const B=A*(u+2)+1+P,j=I+P;for(let J=0;J<d;++J)o.get(M*(d+2)+1+J,B)&&_.set(O+J,j)}}}return _}}class ol{constructor(o,a){this.numDataCodewords=o,this.codewords=a}static getDataBlocks(o,a){const l=a.getECBlocks();let u=0;const d=l.getECBlocks();for(let P of d)u+=P.getCount();const f=new Array(u);let p=0;for(let P of d)for(let B=0;B<P.getCount();B++){const j=P.getDataCodewords(),J=l.getECCodewords()+j;f[p++]=new ol(j,new Uint8Array(J))}const v=f[0].codewords.length-l.getECCodewords(),_=v-1;let A=0;for(let P=0;P<_;P++)for(let B=0;B<p;B++)f[B].codewords[P]=o[A++];const I=24===a.getVersionNumber(),M=I?8:p;for(let P=0;P<M;P++)f[P].codewords[v-1]=o[A++];const O=f[0].codewords.length;for(let P=v;P<O;P++)for(let B=0;B<p;B++){const j=I?(B+8)%p:B;f[j].codewords[I&&j>7?P-1:P]=o[A++]}if(A!==o.length)throw new fe;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ss{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new fe(""+o);let a=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,p=o<f?o:f,y=f-p;a=(d[u]&255>>8-p<<y)>>y,o-=p,l+=p,8===l&&(l=0,u++)}if(o>0){for(;o>=8;)a=a<<8|255&d[u],u++,o-=8;if(o>0){const f=8-o;a=a<<o|(d[u]&255>>f<<f)>>f,l+=o}}return this.bitOffset=l,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ln=function(C){return C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE",C}(ln||{});class di{static decode(o){const a=new Ss(o),l=new ut,u=new ut,d=new Array;let f=ln.ASCII_ENCODE;do{if(f===ln.ASCII_ENCODE)f=this.decodeAsciiSegment(a,l,u);else{switch(f){case ln.C40_ENCODE:this.decodeC40Segment(a,l);break;case ln.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case ln.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case ln.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case ln.BASE256_ENCODE:this.decodeBase256Segment(a,l,d);break;default:throw new oe}f=ln.ASCII_ENCODE}}while(f!==ln.PAD_ENCODE&&a.available()>0);return u.length()>0&&l.append(u.toString()),new Ft(o,l.toString(),0===d.length?null:d,null)}static decodeAsciiSegment(o,a,l){let u=!1;do{let d=o.readBits(8);if(0===d)throw new oe;if(d<=128)return u&&(d+=128),a.append(String.fromCharCode(d-1)),ln.ASCII_ENCODE;if(129===d)return ln.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&a.append("0"),a.append(""+f)}else switch(d){case 230:return ln.C40_ENCODE;case 231:return ln.BASE256_ENCODE;case 232:a.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:u=!0;break;case 236:a.append("[)>\x1e05\x1d"),l.insert(0,"\x1e\x04");break;case 237:a.append("[)>\x1e06\x1d"),l.insert(0,"\x1e\x04");break;case 238:return ln.ANSIX12_ENCODE;case 239:return ln.TEXT_ENCODE;case 240:return ln.EDIFACT_ENCODE;default:if(254!==d||0!==o.available())throw new oe}}while(o.available()>0);return ln.ASCII_ENCODE}static decodeC40Segment(o,a){let l=!1;const u=[];let d=0;do{if(8===o.available())return;const f=o.readBits(8);if(254===f)return;this.parseTwoBytes(f,o.readBits(8),u);for(let p=0;p<3;p++){const y=u[p];switch(d){case 0:if(y<3)d=y+1;else{if(!(y<this.C40_BASIC_SET_CHARS.length))throw new oe;{const v=this.C40_BASIC_SET_CHARS[y];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}}break;case 1:l?(a.append(String.fromCharCode(y+128)),l=!1):a.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[y];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}else switch(y){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new oe}d=0;break;case 3:l?(a.append(String.fromCharCode(y+224)),l=!1):a.append(String.fromCharCode(y+96)),d=0;break;default:throw new oe}}}while(o.available()>0)}static decodeTextSegment(o,a){let l=!1,u=[],d=0;do{if(8===o.available())return;const f=o.readBits(8);if(254===f)return;this.parseTwoBytes(f,o.readBits(8),u);for(let p=0;p<3;p++){const y=u[p];switch(d){case 0:if(y<3)d=y+1;else{if(!(y<this.TEXT_BASIC_SET_CHARS.length))throw new oe;{const v=this.TEXT_BASIC_SET_CHARS[y];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}}break;case 1:l?(a.append(String.fromCharCode(y+128)),l=!1):a.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[y];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}else switch(y){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new oe}d=0;break;case 3:if(!(y<this.TEXT_SHIFT3_SET_CHARS.length))throw new oe;{const v=this.TEXT_SHIFT3_SET_CHARS[y];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v),d=0}break;default:throw new oe}}}while(o.available()>0)}static decodeAnsiX12Segment(o,a){const l=[];do{if(8===o.available())return;const u=o.readBits(8);if(254===u)return;this.parseTwoBytes(u,o.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(f<14)a.append(String.fromCharCode(f+44));else{if(!(f<40))throw new oe;a.append(String.fromCharCode(f+51))}}}}while(o.available()>0)}static parseTwoBytes(o,a,l){let u=(o<<8)+a-1,d=Math.floor(u/1600);l[0]=d,u-=1600*d,d=Math.floor(u/40),l[1]=d,l[2]=u-40*d}static decodeEdifactSegment(o,a){do{if(o.available()<=16)return;for(let l=0;l<4;l++){let u=o.readBits(6);if(31===u){const d=8-o.getBitOffset();return void(8!==d&&o.readBits(d))}32&u||(u|=64),a.append(String.fromCharCode(u))}}while(o.available()>0)}static decodeBase256Segment(o,a,l){let u=1+o.getByteOffset();const d=this.unrandomize255State(o.readBits(8),u++);let f;if(f=0===d?o.available()/8|0:d<250?d:250*(d-249)+this.unrandomize255State(o.readBits(8),u++),f<0)throw new oe;const p=new Uint8Array(f);for(let y=0;y<f;y++){if(o.available()<8)throw new oe;p[y]=this.unrandomize255State(o.readBits(8),u++)}l.push(p);try{a.append(hn.decode(p,Se.ISO88591))}catch(y){throw new jr("Platform does not support required encoding: "+y.message)}}static unrandomize255State(o,a){const u=o-(149*a%255+1);return u>=0?u:u+256}}di.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],di.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],di.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],di.TEXT_SHIFT2_SET_CHARS=di.C40_SHIFT2_SET_CHARS,di.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Jt{constructor(){this.rsDecoder=new Ho(it.DATA_MATRIX_FIELD_256)}decode(o){const a=new il(o),l=a.getVersion(),u=a.readCodewords(),d=ol.getDataBlocks(u,l);let f=0;for(let v of d)f+=v.getNumDataCodewords();const p=new Uint8Array(f),y=d.length;for(let v=0;v<y;v++){const _=d[v],A=_.getCodewords(),I=_.getNumDataCodewords();this.correctErrors(A,I);for(let M=0;M<I;M++)p[M*y+v]=A[M]}return di.decode(p)}correctErrors(o,a){const l=new Int32Array(o);try{this.rsDecoder.decode(l,o.length-a)}catch{throw new Kt}for(let u=0;u<a;u++)o[u]=l[u]}}class zt{constructor(o){this.image=o,this.rectangleDetector=new _s(this.image)}detect(){const o=this.rectangleDetector.detect();let a=this.detectSolid1(o);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new Y;a=this.shiftToModuleCenter(a);const l=a[0],u=a[1],d=a[2],f=a[3];let p=this.transitionsBetween(l,f)+1,y=this.transitionsBetween(d,f)+1;1==(1&p)&&(p+=1),1==(1&y)&&(y+=1),4*p<7*y&&4*y<7*p&&(p=y=Math.max(p,y));let v=zt.sampleGrid(this.image,l,u,d,f,p,y);return new ws(v,[l,u,d,f])}static shiftPoint(o,a,l){let u=(a.getX()-o.getX())/(l+1),d=(a.getY()-o.getY())/(l+1);return new we(o.getX()+u,o.getY()+d)}static moveAway(o,a,l){let u=o.getX(),d=o.getY();return u<a?u-=1:u+=1,d<l?d-=1:d+=1,new we(u,d)}detectSolid1(o){let a=o[0],l=o[1],u=o[3],d=o[2],f=this.transitionsBetween(a,l),p=this.transitionsBetween(l,u),y=this.transitionsBetween(u,d),v=this.transitionsBetween(d,a),_=f,A=[d,a,l,u];return _>p&&(_=p,A[0]=a,A[1]=l,A[2]=u,A[3]=d),_>y&&(_=y,A[0]=l,A[1]=u,A[2]=d,A[3]=a),_>v&&(A[0]=u,A[1]=d,A[2]=a,A[3]=l),A}detectSolid2(o){let a=o[0],l=o[1],u=o[2],d=o[3],f=this.transitionsBetween(a,d),p=zt.shiftPoint(l,u,4*(f+1)),y=zt.shiftPoint(u,l,4*(f+1));return this.transitionsBetween(p,a)<this.transitionsBetween(y,d)?(o[0]=a,o[1]=l,o[2]=u,o[3]=d):(o[0]=l,o[1]=u,o[2]=d,o[3]=a),o}correctTopRight(o){let a=o[0],l=o[1],u=o[2],d=o[3],f=this.transitionsBetween(a,d),p=this.transitionsBetween(l,d),y=zt.shiftPoint(a,l,4*(p+1)),v=zt.shiftPoint(u,l,4*(f+1));f=this.transitionsBetween(y,d),p=this.transitionsBetween(v,d);let _=new we(d.getX()+(u.getX()-l.getX())/(f+1),d.getY()+(u.getY()-l.getY())/(f+1)),A=new we(d.getX()+(a.getX()-l.getX())/(p+1),d.getY()+(a.getY()-l.getY())/(p+1));return this.isValid(_)?this.isValid(A)?this.transitionsBetween(y,_)+this.transitionsBetween(v,_)>this.transitionsBetween(y,A)+this.transitionsBetween(v,A)?_:A:_:this.isValid(A)?A:null}shiftToModuleCenter(o){let a=o[0],l=o[1],u=o[2],d=o[3],f=this.transitionsBetween(a,d)+1,p=this.transitionsBetween(u,d)+1,y=zt.shiftPoint(a,l,4*p),v=zt.shiftPoint(u,l,4*f);f=this.transitionsBetween(y,d)+1,p=this.transitionsBetween(v,d)+1,1==(1&f)&&(f+=1),1==(1&p)&&(p+=1);let I,M,_=(a.getX()+l.getX()+u.getX()+d.getX())/4,A=(a.getY()+l.getY()+u.getY()+d.getY())/4;return a=zt.moveAway(a,_,A),l=zt.moveAway(l,_,A),u=zt.moveAway(u,_,A),d=zt.moveAway(d,_,A),y=zt.shiftPoint(a,l,4*p),y=zt.shiftPoint(y,d,4*f),I=zt.shiftPoint(l,a,4*p),I=zt.shiftPoint(I,u,4*f),v=zt.shiftPoint(u,d,4*p),v=zt.shiftPoint(v,l,4*f),M=zt.shiftPoint(d,u,4*p),M=zt.shiftPoint(M,a,4*f),[y,I,v,M]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,a,l,u,d,f,p){return zr.getInstance().sampleGrid(o,f,p,.5,.5,f-.5,.5,f-.5,p-.5,.5,p-.5,a.getX(),a.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(o,a){let l=Math.trunc(o.getX()),u=Math.trunc(o.getY()),d=Math.trunc(a.getX()),f=Math.trunc(a.getY()),p=Math.abs(f-u)>Math.abs(d-l);if(p){let P=l;l=u,u=P,P=d,d=f,f=P}let y=Math.abs(d-l),v=Math.abs(f-u),_=-y/2,A=u<f?1:-1,I=l<d?1:-1,M=0,O=this.image.get(p?u:l,p?l:u);for(let P=l,B=u;P!==d;P+=I){let j=this.image.get(p?B:P,p?P:B);if(j!==O&&(M++,O=j),_+=v,_>0){if(B===f)break;B+=A,_-=y}}return M}}let Ee=(()=>{class C{constructor(){this.decoder=new Jt}decode(a,l=null){let u,d;if(null!=l&&l.has(St.PURE_BARCODE)){const _=C.extractPureBits(a.getBlackMatrix());u=this.decoder.decode(_),d=C.NO_POINTS}else{const _=new zt(a.getBlackMatrix()).detect();u=this.decoder.decode(_.getBits()),d=_.getPoints()}const f=u.getRawBytes(),p=new Ot(u.getText(),f,8*f.length,d,he.DATA_MATRIX,_t.currentTimeMillis()),y=u.getByteSegments();null!=y&&p.putMetadata(Xe.BYTE_SEGMENTS,y);const v=u.getECLevel();return null!=v&&p.putMetadata(Xe.ERROR_CORRECTION_LEVEL,v),p}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(null==l||null==u)throw new Y;const d=this.moduleSize(l,a);let f=l[1],y=l[0];const _=(u[0]-y+1)/d,A=(u[1]-f+1)/d;if(_<=0||A<=0)throw new Y;const I=d/2;f+=I,y+=I;const M=new an(_,A);for(let O=0;O<A;O++){const P=f+O*d;for(let B=0;B<_;B++)a.get(y+B*d,P)&&M.set(B,O)}return M}static moduleSize(a,l){const u=l.getWidth();let d=a[0];const f=a[1];for(;d<u&&l.get(d,f);)d++;if(d===u)throw new Y;const p=d-a[0];if(0===p)throw new Y;return p}}return C.NO_POINTS=[],C})();var Vi=function(C){return C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H",C}(Vi||{});class Ve{constructor(o,a,l){this.value=o,this.stringValue=a,this.bits=l,Ve.FOR_BITS.set(l,this),Ve.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Ve.L;case"M":return Ve.M;case"Q":return Ve.Q;case"H":return Ve.H;default:throw new Gn(o+"not available")}}toString(){return this.stringValue}equals(o){return o instanceof Ve&&this.value===o.value}static forBits(o){if(o<0||o>=Ve.FOR_BITS.size)throw new fe;return Ve.FOR_BITS.get(o)}}Ve.FOR_BITS=new Map,Ve.FOR_VALUE=new Map,Ve.L=new Ve(Vi.L,"L",1),Ve.M=new Ve(Vi.M,"M",0),Ve.Q=new Ve(Vi.Q,"Q",3),Ve.H=new Ve(Vi.H,"H",2);class En{constructor(o){this.errorCorrectionLevel=Ve.forBits(o>>3&3),this.dataMask=7&o}static numBitsDiffering(o,a){return Ne.bitCount(o^a)}static decodeFormatInformation(o,a){const l=En.doDecodeFormatInformation(o,a);return null!==l?l:En.doDecodeFormatInformation(o^En.FORMAT_INFO_MASK_QR,a^En.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,a){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of En.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===o||f===a)return new En(d[1]);let p=En.numBitsDiffering(o,f);p<l&&(u=d[1],l=p),o!==a&&(p=En.numBitsDiffering(a,f),p<l&&(u=d[1],l=p))}return l<=3?new En(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){return o instanceof En&&this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}En.FORMAT_INFO_MASK_QR=21522,En.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class U{constructor(o,...a){this.ecCodewordsPerBlock=o,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const a=this.ecBlocks;for(const l of a)o+=l.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(o,a){this.count=o,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _e{constructor(o,a,...l){this.versionNumber=o,this.alignmentPatternCenters=a,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const p of f)u+=p.getCount()*(p.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!=1)throw new oe;try{return this.getVersionForNumber((o-17)/4)}catch{throw new oe}}static getVersionForNumber(o){if(o<1||o>40)throw new fe;return _e.VERSIONS[o-1]}static decodeVersionInformation(o){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<_e.VERSION_DECODE_INFO.length;u++){const d=_e.VERSION_DECODE_INFO[u];if(d===o)return _e.getVersionForNumber(u+7);const f=En.numBitsDiffering(o,d);f<a&&(l=u+7,a=f)}return a<=3?_e.getVersionForNumber(l):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),a=new an(o);a.setRegion(0,0,9,9),a.setRegion(o-8,0,8,9),a.setRegion(0,o-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let f=0;f<l;f++)0===u&&(0===f||f===l-1)||u===l-1&&0===f||a.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return a.setRegion(6,9,1,o-17),a.setRegion(9,6,o-17,1),this.versionNumber>6&&(a.setRegion(o-11,0,3,6),a.setRegion(0,o-11,6,3)),a}toString(){return""+this.versionNumber}}_e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_e.VERSIONS=[new _e(1,new Int32Array(0),new U(7,new T(1,19)),new U(10,new T(1,16)),new U(13,new T(1,13)),new U(17,new T(1,9))),new _e(2,Int32Array.from([6,18]),new U(10,new T(1,34)),new U(16,new T(1,28)),new U(22,new T(1,22)),new U(28,new T(1,16))),new _e(3,Int32Array.from([6,22]),new U(15,new T(1,55)),new U(26,new T(1,44)),new U(18,new T(2,17)),new U(22,new T(2,13))),new _e(4,Int32Array.from([6,26]),new U(20,new T(1,80)),new U(18,new T(2,32)),new U(26,new T(2,24)),new U(16,new T(4,9))),new _e(5,Int32Array.from([6,30]),new U(26,new T(1,108)),new U(24,new T(2,43)),new U(18,new T(2,15),new T(2,16)),new U(22,new T(2,11),new T(2,12))),new _e(6,Int32Array.from([6,34]),new U(18,new T(2,68)),new U(16,new T(4,27)),new U(24,new T(4,19)),new U(28,new T(4,15))),new _e(7,Int32Array.from([6,22,38]),new U(20,new T(2,78)),new U(18,new T(4,31)),new U(18,new T(2,14),new T(4,15)),new U(26,new T(4,13),new T(1,14))),new _e(8,Int32Array.from([6,24,42]),new U(24,new T(2,97)),new U(22,new T(2,38),new T(2,39)),new U(22,new T(4,18),new T(2,19)),new U(26,new T(4,14),new T(2,15))),new _e(9,Int32Array.from([6,26,46]),new U(30,new T(2,116)),new U(22,new T(3,36),new T(2,37)),new U(20,new T(4,16),new T(4,17)),new U(24,new T(4,12),new T(4,13))),new _e(10,Int32Array.from([6,28,50]),new U(18,new T(2,68),new T(2,69)),new U(26,new T(4,43),new T(1,44)),new U(24,new T(6,19),new T(2,20)),new U(28,new T(6,15),new T(2,16))),new _e(11,Int32Array.from([6,30,54]),new U(20,new T(4,81)),new U(30,new T(1,50),new T(4,51)),new U(28,new T(4,22),new T(4,23)),new U(24,new T(3,12),new T(8,13))),new _e(12,Int32Array.from([6,32,58]),new U(24,new T(2,92),new T(2,93)),new U(22,new T(6,36),new T(2,37)),new U(26,new T(4,20),new T(6,21)),new U(28,new T(7,14),new T(4,15))),new _e(13,Int32Array.from([6,34,62]),new U(26,new T(4,107)),new U(22,new T(8,37),new T(1,38)),new U(24,new T(8,20),new T(4,21)),new U(22,new T(12,11),new T(4,12))),new _e(14,Int32Array.from([6,26,46,66]),new U(30,new T(3,115),new T(1,116)),new U(24,new T(4,40),new T(5,41)),new U(20,new T(11,16),new T(5,17)),new U(24,new T(11,12),new T(5,13))),new _e(15,Int32Array.from([6,26,48,70]),new U(22,new T(5,87),new T(1,88)),new U(24,new T(5,41),new T(5,42)),new U(30,new T(5,24),new T(7,25)),new U(24,new T(11,12),new T(7,13))),new _e(16,Int32Array.from([6,26,50,74]),new U(24,new T(5,98),new T(1,99)),new U(28,new T(7,45),new T(3,46)),new U(24,new T(15,19),new T(2,20)),new U(30,new T(3,15),new T(13,16))),new _e(17,Int32Array.from([6,30,54,78]),new U(28,new T(1,107),new T(5,108)),new U(28,new T(10,46),new T(1,47)),new U(28,new T(1,22),new T(15,23)),new U(28,new T(2,14),new T(17,15))),new _e(18,Int32Array.from([6,30,56,82]),new U(30,new T(5,120),new T(1,121)),new U(26,new T(9,43),new T(4,44)),new U(28,new T(17,22),new T(1,23)),new U(28,new T(2,14),new T(19,15))),new _e(19,Int32Array.from([6,30,58,86]),new U(28,new T(3,113),new T(4,114)),new U(26,new T(3,44),new T(11,45)),new U(26,new T(17,21),new T(4,22)),new U(26,new T(9,13),new T(16,14))),new _e(20,Int32Array.from([6,34,62,90]),new U(28,new T(3,107),new T(5,108)),new U(26,new T(3,41),new T(13,42)),new U(30,new T(15,24),new T(5,25)),new U(28,new T(15,15),new T(10,16))),new _e(21,Int32Array.from([6,28,50,72,94]),new U(28,new T(4,116),new T(4,117)),new U(26,new T(17,42)),new U(28,new T(17,22),new T(6,23)),new U(30,new T(19,16),new T(6,17))),new _e(22,Int32Array.from([6,26,50,74,98]),new U(28,new T(2,111),new T(7,112)),new U(28,new T(17,46)),new U(30,new T(7,24),new T(16,25)),new U(24,new T(34,13))),new _e(23,Int32Array.from([6,30,54,78,102]),new U(30,new T(4,121),new T(5,122)),new U(28,new T(4,47),new T(14,48)),new U(30,new T(11,24),new T(14,25)),new U(30,new T(16,15),new T(14,16))),new _e(24,Int32Array.from([6,28,54,80,106]),new U(30,new T(6,117),new T(4,118)),new U(28,new T(6,45),new T(14,46)),new U(30,new T(11,24),new T(16,25)),new U(30,new T(30,16),new T(2,17))),new _e(25,Int32Array.from([6,32,58,84,110]),new U(26,new T(8,106),new T(4,107)),new U(28,new T(8,47),new T(13,48)),new U(30,new T(7,24),new T(22,25)),new U(30,new T(22,15),new T(13,16))),new _e(26,Int32Array.from([6,30,58,86,114]),new U(28,new T(10,114),new T(2,115)),new U(28,new T(19,46),new T(4,47)),new U(28,new T(28,22),new T(6,23)),new U(30,new T(33,16),new T(4,17))),new _e(27,Int32Array.from([6,34,62,90,118]),new U(30,new T(8,122),new T(4,123)),new U(28,new T(22,45),new T(3,46)),new U(30,new T(8,23),new T(26,24)),new U(30,new T(12,15),new T(28,16))),new _e(28,Int32Array.from([6,26,50,74,98,122]),new U(30,new T(3,117),new T(10,118)),new U(28,new T(3,45),new T(23,46)),new U(30,new T(4,24),new T(31,25)),new U(30,new T(11,15),new T(31,16))),new _e(29,Int32Array.from([6,30,54,78,102,126]),new U(30,new T(7,116),new T(7,117)),new U(28,new T(21,45),new T(7,46)),new U(30,new T(1,23),new T(37,24)),new U(30,new T(19,15),new T(26,16))),new _e(30,Int32Array.from([6,26,52,78,104,130]),new U(30,new T(5,115),new T(10,116)),new U(28,new T(19,47),new T(10,48)),new U(30,new T(15,24),new T(25,25)),new U(30,new T(23,15),new T(25,16))),new _e(31,Int32Array.from([6,30,56,82,108,134]),new U(30,new T(13,115),new T(3,116)),new U(28,new T(2,46),new T(29,47)),new U(30,new T(42,24),new T(1,25)),new U(30,new T(23,15),new T(28,16))),new _e(32,Int32Array.from([6,34,60,86,112,138]),new U(30,new T(17,115)),new U(28,new T(10,46),new T(23,47)),new U(30,new T(10,24),new T(35,25)),new U(30,new T(19,15),new T(35,16))),new _e(33,Int32Array.from([6,30,58,86,114,142]),new U(30,new T(17,115),new T(1,116)),new U(28,new T(14,46),new T(21,47)),new U(30,new T(29,24),new T(19,25)),new U(30,new T(11,15),new T(46,16))),new _e(34,Int32Array.from([6,34,62,90,118,146]),new U(30,new T(13,115),new T(6,116)),new U(28,new T(14,46),new T(23,47)),new U(30,new T(44,24),new T(7,25)),new U(30,new T(59,16),new T(1,17))),new _e(35,Int32Array.from([6,30,54,78,102,126,150]),new U(30,new T(12,121),new T(7,122)),new U(28,new T(12,47),new T(26,48)),new U(30,new T(39,24),new T(14,25)),new U(30,new T(22,15),new T(41,16))),new _e(36,Int32Array.from([6,24,50,76,102,128,154]),new U(30,new T(6,121),new T(14,122)),new U(28,new T(6,47),new T(34,48)),new U(30,new T(46,24),new T(10,25)),new U(30,new T(2,15),new T(64,16))),new _e(37,Int32Array.from([6,28,54,80,106,132,158]),new U(30,new T(17,122),new T(4,123)),new U(28,new T(29,46),new T(14,47)),new U(30,new T(49,24),new T(10,25)),new U(30,new T(24,15),new T(46,16))),new _e(38,Int32Array.from([6,32,58,84,110,136,162]),new U(30,new T(4,122),new T(18,123)),new U(28,new T(13,46),new T(32,47)),new U(30,new T(48,24),new T(14,25)),new U(30,new T(42,15),new T(32,16))),new _e(39,Int32Array.from([6,26,54,82,110,138,166]),new U(30,new T(20,117),new T(4,118)),new U(28,new T(40,47),new T(7,48)),new U(30,new T(43,24),new T(22,25)),new U(30,new T(10,15),new T(67,16))),new _e(40,Int32Array.from([6,30,58,86,114,142,170]),new U(30,new T(19,118),new T(6,119)),new U(28,new T(18,47),new T(31,48)),new U(30,new T(34,24),new T(34,25)),new U(30,new T(20,15),new T(61,16)))];var Qe=function(C){return C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111",C}(Qe||{});class Rn{constructor(o,a){this.value=o,this.isMasked=a}unmaskBitMatrix(o,a){for(let l=0;l<a;l++)for(let u=0;u<a;u++)this.isMasked(l,u)&&o.flip(u,l)}}Rn.values=new Map([[Qe.DATA_MASK_000,new Rn(Qe.DATA_MASK_000,(C,o)=>0==(C+o&1))],[Qe.DATA_MASK_001,new Rn(Qe.DATA_MASK_001,(C,o)=>0==(1&C))],[Qe.DATA_MASK_010,new Rn(Qe.DATA_MASK_010,(C,o)=>o%3==0)],[Qe.DATA_MASK_011,new Rn(Qe.DATA_MASK_011,(C,o)=>(C+o)%3==0)],[Qe.DATA_MASK_100,new Rn(Qe.DATA_MASK_100,(C,o)=>0==(Math.floor(C/2)+Math.floor(o/3)&1))],[Qe.DATA_MASK_101,new Rn(Qe.DATA_MASK_101,(C,o)=>C*o%6==0)],[Qe.DATA_MASK_110,new Rn(Qe.DATA_MASK_110,(C,o)=>C*o%6<3)],[Qe.DATA_MASK_111,new Rn(Qe.DATA_MASK_111,(C,o)=>0==(C+o+C*o%3&1))]]);class Rf{constructor(o){const a=o.getHeight();if(a<21||1!=(3&a))throw new oe;this.bitMatrix=o}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let o=0;for(let d=0;d<6;d++)o=this.copyBit(d,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let d=5;d>=0;d--)o=this.copyBit(8,d,o);const a=this.bitMatrix.getHeight();let l=0;const u=a-7;for(let d=a-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=a-8;d<a;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=En.decodeFormatInformation(o,l),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new oe}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const o=this.bitMatrix.getHeight(),a=Math.floor((o-17)/4);if(a<=6)return _e.getVersionForNumber(a);let l=0;const u=o-11;for(let f=5;f>=0;f--)for(let p=o-9;p>=u;p--)l=this.copyBit(p,f,l);let d=_e.decodeVersionInformation(l);if(null!==d&&d.getDimensionForVersion()===o)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let p=o-9;p>=u;p--)l=this.copyBit(f,p,l);if(d=_e.decodeVersionInformation(l),null!==d&&d.getDimensionForVersion()===o)return this.parsedVersion=d,d;throw new oe}copyBit(o,a,l){return(this.isMirror?this.bitMatrix.get(a,o):this.bitMatrix.get(o,a))?l<<1|1:l<<1}readCodewords(){const o=this.readFormatInformation(),a=this.readVersion(),l=Rn.values.get(o.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=a.buildFunctionPattern();let f=!0;const p=new Uint8Array(a.getTotalCodewords());let y=0,v=0,_=0;for(let A=u-1;A>0;A-=2){6===A&&A--;for(let I=0;I<u;I++){const M=f?u-1-I:I;for(let O=0;O<2;O++)d.get(A-O,M)||(_++,v<<=1,this.bitMatrix.get(A-O,M)&&(v|=1),8===_&&(p[y++]=v,_=0,v=0))}f=!f}if(y!==a.getTotalCodewords())throw new oe;return p}remask(){if(null===this.parsedFormatInfo)return;const o=Rn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let a=0,l=o.getWidth();a<l;a++)for(let u=a+1,d=o.getHeight();u<d;u++)o.get(a,u)!==o.get(u,a)&&(o.flip(u,a),o.flip(a,u))}}class Ct{constructor(o,a){this.numDataCodewords=o,this.codewords=a}static getDataBlocks(o,a,l){if(o.length!==a.getTotalCodewords())throw new fe;const u=a.getECBlocksForLevel(l);let d=0;const f=u.getECBlocks();for(const O of f)d+=O.getCount();const p=new Array(d);let y=0;for(const O of f)for(let P=0;P<O.getCount();P++){const B=O.getDataCodewords(),j=u.getECCodewordsPerBlock()+B;p[y++]=new Ct(B,new Uint8Array(j))}const v=p[0].codewords.length;let _=p.length-1;for(;_>=0&&p[_].codewords.length!==v;)_--;_++;const A=v-u.getECCodewordsPerBlock();let I=0;for(let O=0;O<A;O++)for(let P=0;P<y;P++)p[P].codewords[O]=o[I++];for(let O=_;O<y;O++)p[O].codewords[A]=o[I++];const M=p[0].codewords.length;for(let O=A;O<M;O++)for(let P=0;P<y;P++)p[P].codewords[P<_?O:O+1]=o[I++];return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var xe=function(C){return C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI",C}(xe||{});class be{constructor(o,a,l,u){this.value=o,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=u,be.FOR_BITS.set(u,this),be.FOR_VALUE.set(o,this)}static forBits(o){const a=be.FOR_BITS.get(o);if(void 0===a)throw new fe;return a}getCharacterCountBits(o){const a=o.getVersionNumber();let l;return l=a<=9?0:a<=26?1:2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(o){return o instanceof be&&this.value===o.value}toString(){return this.stringValue}}be.FOR_BITS=new Map,be.FOR_VALUE=new Map,be.TERMINATOR=new be(xe.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),be.NUMERIC=new be(xe.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),be.ALPHANUMERIC=new be(xe.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),be.STRUCTURED_APPEND=new be(xe.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),be.BYTE=new be(xe.BYTE,"BYTE",Int32Array.from([8,16,16]),4),be.ECI=new be(xe.ECI,"ECI",Int32Array.from([0,0,0]),7),be.KANJI=new be(xe.KANJI,"KANJI",Int32Array.from([8,10,12]),8),be.FNC1_FIRST_POSITION=new be(xe.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),be.FNC1_SECOND_POSITION=new be(xe.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),be.HANZI=new be(xe.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let Ts=(()=>{class C{static decode(a,l,u,d){const f=new Ss(a);let p=new ut;const y=new Array;let v=-1,_=-1;try{let M,A=null,I=!1;do{if(f.available()<4)M=be.TERMINATOR;else{const O=f.readBits(4);M=be.forBits(O)}switch(M){case be.TERMINATOR:break;case be.FNC1_FIRST_POSITION:case be.FNC1_SECOND_POSITION:I=!0;break;case be.STRUCTURED_APPEND:if(f.available()<16)throw new oe;v=f.readBits(8),_=f.readBits(8);break;case be.ECI:const O=C.parseECIValue(f);if(A=te.getCharacterSetECIByValue(O),null===A)throw new oe;break;case be.HANZI:const P=f.readBits(4),B=f.readBits(M.getCharacterCountBits(l));P===C.GB2312_SUBSET&&C.decodeHanziSegment(f,p,B);break;default:const j=f.readBits(M.getCharacterCountBits(l));switch(M){case be.NUMERIC:C.decodeNumericSegment(f,p,j);break;case be.ALPHANUMERIC:C.decodeAlphanumericSegment(f,p,j,I);break;case be.BYTE:C.decodeByteSegment(f,p,j,A,y,d);break;case be.KANJI:C.decodeKanjiSegment(f,p,j);break;default:throw new oe}}}while(M!==be.TERMINATOR)}catch{throw new oe}return new Ft(a,p.toString(),0===y.length?null:y,null===u?null:u.toString(),v,_)}static decodeHanziSegment(a,l,u){if(13*u>a.available())throw new oe;const d=new Uint8Array(2*u);let f=0;for(;u>0;){const p=a.readBits(13);let y=p/96<<8&4294967295|p%96;y+=y<959?41377:42657,d[f]=y>>8&255,d[f+1]=255&y,f+=2,u--}try{l.append(hn.decode(d,Se.GB2312))}catch(p){throw new oe(p)}}static decodeKanjiSegment(a,l,u){if(13*u>a.available())throw new oe;const d=new Uint8Array(2*u);let f=0;for(;u>0;){const p=a.readBits(13);let y=p/192<<8&4294967295|p%192;y+=y<7936?33088:49472,d[f]=y>>8,d[f+1]=y,f+=2,u--}try{l.append(hn.decode(d,Se.SHIFT_JIS))}catch(p){throw new oe(p)}}static decodeByteSegment(a,l,u,d,f,p){if(8*u>a.available())throw new oe;const y=new Uint8Array(u);for(let _=0;_<u;_++)y[_]=a.readBits(8);let v;v=null===d?Se.guessEncoding(y,p):d.getName();try{l.append(hn.decode(y,v))}catch(_){throw new oe(_)}f.push(y)}static toAlphaNumericChar(a){if(a>=C.ALPHANUMERIC_CHARS.length)throw new oe;return C.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,l,u,d){const f=l.length();for(;u>1;){if(a.available()<11)throw new oe;const p=a.readBits(11);l.append(C.toAlphaNumericChar(Math.floor(p/45))),l.append(C.toAlphaNumericChar(p%45)),u-=2}if(1===u){if(a.available()<6)throw new oe;l.append(C.toAlphaNumericChar(a.readBits(6)))}if(d)for(let p=f;p<l.length();p++)"%"===l.charAt(p)&&(p<l.length()-1&&"%"===l.charAt(p+1)?l.deleteCharAt(p+1):l.setCharAt(p,String.fromCharCode(29)))}static decodeNumericSegment(a,l,u){for(;u>=3;){if(a.available()<10)throw new oe;const d=a.readBits(10);if(d>=1e3)throw new oe;l.append(C.toAlphaNumericChar(Math.floor(d/100))),l.append(C.toAlphaNumericChar(Math.floor(d/10)%10)),l.append(C.toAlphaNumericChar(d%10)),u-=3}if(2===u){if(a.available()<7)throw new oe;const d=a.readBits(7);if(d>=100)throw new oe;l.append(C.toAlphaNumericChar(Math.floor(d/10))),l.append(C.toAlphaNumericChar(d%10))}else if(1===u){if(a.available()<4)throw new oe;const d=a.readBits(4);if(d>=10)throw new oe;l.append(C.toAlphaNumericChar(d))}}static parseECIValue(a){const l=a.readBits(8);if(!(128&l))return 127&l;if(128==(192&l))return(63&l)<<8&4294967295|a.readBits(8);if(192==(224&l))return(31&l)<<16&4294967295|a.readBits(16);throw new oe}}return C.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",C.GB2312_SUBSET=1,C})();class Of{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||null===o||o.length<3)return;const a=o[0];o[0]=o[2],o[2]=a}}class nu{constructor(){this.rsDecoder=new Ho(it.QR_CODE_FIELD_256)}decodeBooleanArray(o,a){return this.decodeBitMatrix(an.parseFromBooleanArray(o),a)}decodeBitMatrix(o,a){const l=new Rf(o);let u=null;try{return this.decodeBitMatrixParser(l,a)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,a);return d.setOther(new Of(!0)),d}catch(d){throw null!==u?u:d}}decodeBitMatrixParser(o,a){const l=o.readVersion(),u=o.readFormatInformation().getErrorCorrectionLevel(),d=o.readCodewords(),f=Ct.getDataBlocks(d,l,u);let p=0;for(const _ of f)p+=_.getNumDataCodewords();const y=new Uint8Array(p);let v=0;for(const _ of f){const A=_.getCodewords(),I=_.getNumDataCodewords();this.correctErrors(A,I);for(let M=0;M<I;M++)y[v++]=A[M]}return Ts.decode(y,l,u,a)}correctErrors(o,a){const l=new Int32Array(o);try{this.rsDecoder.decode(l,o.length-a)}catch{throw new Kt}for(let u=0;u<a;u++)o[u]=l[u]}}class K extends we{constructor(o,a,l){super(o,a),this.estimatedModuleSize=l}aboutEquals(o,a,l){if(Math.abs(a-this.getY())<=o&&Math.abs(l-this.getX())<=o){const u=Math.abs(o-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(o,a,l){const u=(this.getX()+a)/2,d=(this.getY()+o)/2;return new K(u,d,(this.estimatedModuleSize+l)/2)}}class Ui{constructor(o,a,l,u,d,f,p){this.image=o,this.startX=a,this.startY=l,this.width=u,this.height=d,this.moduleSize=f,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,a=this.height,u=o+this.width,d=this.startY+a/2,f=new Int32Array(3),p=this.image;for(let y=0;y<a;y++){const v=d+(1&y?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let _=o;for(;_<u&&!p.get(_,v);)_++;let A=0;for(;_<u;){if(p.get(_,v))if(1===A)f[1]++;else if(2===A){if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,v,_);if(null!==I)return I}f[0]=f[2],f[1]=1,f[2]=0,A=1}else f[++A]++;else 1===A&&A++,f[A]++;_++}if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,v,u);if(null!==I)return I}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new Y}static centerFromEnd(o,a){return a-o[2]-o[1]/2}foundPatternCross(o){const a=this.moduleSize,l=a/2;for(let u=0;u<3;u++)if(Math.abs(a-o[u])>=l)return!1;return!0}crossCheckVertical(o,a,l,u){const d=this.image,f=d.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let y=o;for(;y>=0&&d.get(a,y)&&p[1]<=l;)p[1]++,y--;if(y<0||p[1]>l)return NaN;for(;y>=0&&!d.get(a,y)&&p[0]<=l;)p[0]++,y--;if(p[0]>l)return NaN;for(y=o+1;y<f&&d.get(a,y)&&p[1]<=l;)p[1]++,y++;if(y===f||p[1]>l)return NaN;for(;y<f&&!d.get(a,y)&&p[2]<=l;)p[2]++,y++;return p[2]>l||5*Math.abs(p[0]+p[1]+p[2]-u)>=2*u?NaN:this.foundPatternCross(p)?Ui.centerFromEnd(p,y):NaN}handlePossibleCenter(o,a,l){const u=o[0]+o[1]+o[2],d=Ui.centerFromEnd(o,l),f=this.crossCheckVertical(a,d,2*o[1],u);if(!isNaN(f)){const p=(o[0]+o[1]+o[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(p,f,d))return v.combineEstimate(f,d,p);const y=new K(d,f,p);this.possibleCenters.push(y),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class Ie extends we{constructor(o,a,l,u){super(o,a),this.estimatedModuleSize=l,this.count=u,void 0===u&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,a,l){if(Math.abs(a-this.getY())<=o&&Math.abs(l-this.getX())<=o){const u=Math.abs(o-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(o,a,l){const u=this.count+1,d=(this.count*this.getX()+a)/u,f=(this.count*this.getY()+o)/u;return new Ie(d,f,(this.count*this.estimatedModuleSize+l)/u,u)}}class dt{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let Pf=(()=>{class C{constructor(a,l){this.image=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const l=null!=a&&void 0!==a.get(St.TRY_HARDER),u=null!=a&&void 0!==a.get(St.PURE_BARCODE),d=this.image,f=d.getHeight(),p=d.getWidth();let y=Math.floor(3*f/(4*C.MAX_MODULES));(y<C.MIN_SKIP||l)&&(y=C.MIN_SKIP);let v=!1;const _=new Int32Array(5);for(let I=y-1;I<f&&!v;I+=y){_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0;let M=0;for(let O=0;O<p;O++)if(d.get(O,I))1==(1&M)&&M++,_[M]++;else if(1&M)_[M]++;else if(4===M)if(C.foundPatternCross(_)){if(!0!==this.handlePossibleCenter(_,I,O,u)){_[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,M=3;continue}if(y=2,!0===this.hasSkipped)v=this.haveMultiplyConfirmedCenters();else{const B=this.findRowSkip();B>_[2]&&(I+=B-_[2]-y,O=p-1)}M=0,_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0}else _[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,M=3;else _[++M]++;C.foundPatternCross(_)&&!0===this.handlePossibleCenter(_,I,p,u)&&(y=_[0],this.hasSkipped&&(v=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return we.orderBestPatterns(A),new dt(A)}static centerFromEnd(a,l){return l-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let l=0;for(let f=0;f<5;f++){const p=a[f];if(0===p)return!1;l+=p}if(l<7)return!1;const u=l/7,d=u/2;return Math.abs(u-a[0])<d&&Math.abs(u-a[1])<d&&Math.abs(3*u-a[2])<3*d&&Math.abs(u-a[3])<d&&Math.abs(u-a[4])<d}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,l,u,d){const f=this.getCrossCheckStateCount();let p=0;const y=this.image;for(;a>=p&&l>=p&&y.get(l-p,a-p);)f[2]++,p++;if(a<p||l<p)return!1;for(;a>=p&&l>=p&&!y.get(l-p,a-p)&&f[1]<=u;)f[1]++,p++;if(a<p||l<p||f[1]>u)return!1;for(;a>=p&&l>=p&&y.get(l-p,a-p)&&f[0]<=u;)f[0]++,p++;if(f[0]>u)return!1;const v=y.getHeight(),_=y.getWidth();for(p=1;a+p<v&&l+p<_&&y.get(l+p,a+p);)f[2]++,p++;if(a+p>=v||l+p>=_)return!1;for(;a+p<v&&l+p<_&&!y.get(l+p,a+p)&&f[3]<u;)f[3]++,p++;if(a+p>=v||l+p>=_||f[3]>=u)return!1;for(;a+p<v&&l+p<_&&y.get(l+p,a+p)&&f[4]<u;)f[4]++,p++;return!(f[4]>=u)&&Math.abs(f[0]+f[1]+f[2]+f[3]+f[4]-d)<2*d&&C.foundPatternCross(f)}crossCheckVertical(a,l,u,d){const f=this.image,p=f.getHeight(),y=this.getCrossCheckStateCount();let v=a;for(;v>=0&&f.get(l,v);)y[2]++,v--;if(v<0)return NaN;for(;v>=0&&!f.get(l,v)&&y[1]<=u;)y[1]++,v--;if(v<0||y[1]>u)return NaN;for(;v>=0&&f.get(l,v)&&y[0]<=u;)y[0]++,v--;if(y[0]>u)return NaN;for(v=a+1;v<p&&f.get(l,v);)y[2]++,v++;if(v===p)return NaN;for(;v<p&&!f.get(l,v)&&y[3]<u;)y[3]++,v++;if(v===p||y[3]>=u)return NaN;for(;v<p&&f.get(l,v)&&y[4]<u;)y[4]++,v++;return y[4]>=u||5*Math.abs(y[0]+y[1]+y[2]+y[3]+y[4]-d)>=2*d?NaN:C.foundPatternCross(y)?C.centerFromEnd(y,v):NaN}crossCheckHorizontal(a,l,u,d){const f=this.image,p=f.getWidth(),y=this.getCrossCheckStateCount();let v=a;for(;v>=0&&f.get(v,l);)y[2]++,v--;if(v<0)return NaN;for(;v>=0&&!f.get(v,l)&&y[1]<=u;)y[1]++,v--;if(v<0||y[1]>u)return NaN;for(;v>=0&&f.get(v,l)&&y[0]<=u;)y[0]++,v--;if(y[0]>u)return NaN;for(v=a+1;v<p&&f.get(v,l);)y[2]++,v++;if(v===p)return NaN;for(;v<p&&!f.get(v,l)&&y[3]<u;)y[3]++,v++;if(v===p||y[3]>=u)return NaN;for(;v<p&&f.get(v,l)&&y[4]<u;)y[4]++,v++;return y[4]>=u||5*Math.abs(y[0]+y[1]+y[2]+y[3]+y[4]-d)>=d?NaN:C.foundPatternCross(y)?C.centerFromEnd(y,v):NaN}handlePossibleCenter(a,l,u,d){const f=a[0]+a[1]+a[2]+a[3]+a[4];let p=C.centerFromEnd(a,u),y=this.crossCheckVertical(l,Math.floor(p),a[2],f);if(!isNaN(y)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(y),a[2],f),!isNaN(p)&&(!d||this.crossCheckDiagonal(Math.floor(y),Math.floor(p),a[2],f)))){const v=f/7;let _=!1;const A=this.possibleCenters;for(let I=0,M=A.length;I<M;I++){const O=A[I];if(O.aboutEquals(v,y,p)){A[I]=O.combineEstimate(y,p,v),_=!0;break}}if(!_){const I=new Ie(p,y,v);A.push(I),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=C.CENTER_QUORUM){if(null!=l)return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);l=u}return 0}haveMultiplyConfirmedCenters(){let a=0,l=0;const u=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=C.CENTER_QUORUM&&(a++,l+=p.getEstimatedModuleSize());if(a<3)return!1;const d=l/u;let f=0;for(const p of this.possibleCenters)f+=Math.abs(p.getEstimatedModuleSize()-d);return f<=.05*l}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new Y;const l=this.possibleCenters;let u;if(a>3){let d=0,f=0;for(const v of this.possibleCenters){const _=v.getEstimatedModuleSize();d+=_,f+=_*_}u=d/a;let p=Math.sqrt(f/a-u*u);l.sort((v,_)=>{const A=Math.abs(_.getEstimatedModuleSize()-u),I=Math.abs(v.getEstimatedModuleSize()-u);return A<I?-1:A>I?1:0});const y=Math.max(.2*u,p);for(let v=0;v<l.length&&l.length>3;v++)Math.abs(l[v].getEstimatedModuleSize()-u)>y&&(l.splice(v,1),v--)}if(l.length>3){let d=0;for(const f of l)d+=f.getEstimatedModuleSize();u=d/l.length,l.sort((f,p)=>{if(p.getCount()===f.getCount()){const y=Math.abs(p.getEstimatedModuleSize()-u),v=Math.abs(f.getEstimatedModuleSize()-u);return y<v?1:y>v?-1:0}return p.getCount()-f.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}return C.CENTER_QUORUM=2,C.MIN_SKIP=3,C.MAX_MODULES=57,C})();class Ms{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=null==o?null:o.get(St.NEED_RESULT_POINT_CALLBACK);const l=new Pf(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(l)}processFinderPatternInfo(o){const a=o.getTopLeft(),l=o.getTopRight(),u=o.getBottomLeft(),d=this.calculateModuleSize(a,l,u);if(d<1)throw new Y("No pattern found in proccess finder.");const f=Ms.computeDimension(a,l,u,d),p=_e.getProvisionalVersionForDimension(f),y=p.getDimensionForVersion()-7;let v=null;if(p.getAlignmentPatternCenters().length>0){const M=l.getX()-a.getX()+u.getX(),O=l.getY()-a.getY()+u.getY(),P=1-3/y,B=Math.floor(a.getX()+P*(M-a.getX())),j=Math.floor(a.getY()+P*(O-a.getY()));for(let J=4;J<=16;J<<=1)try{v=this.findAlignmentInRegion(d,B,j,J);break}catch(ae){if(!(ae instanceof Y))throw ae}}const _=Ms.createTransform(a,l,u,v,f),A=Ms.sampleGrid(this.image,_,f);let I;return I=null===v?[u,a,l]:[u,a,l,v],new ws(A,I)}static createTransform(o,a,l,u,d){const f=d-3.5;let p,y,v,_;return null!==u?(p=u.getX(),y=u.getY(),v=f-3,_=v):(p=a.getX()-o.getX()+l.getX(),y=a.getY()-o.getY()+l.getY(),v=f,_=f),dr.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,v,_,3.5,f,o.getX(),o.getY(),a.getX(),a.getY(),p,y,l.getX(),l.getY())}static sampleGrid(o,a,l){return zr.getInstance().sampleGridWithTransform(o,l,l,a)}static computeDimension(o,a,l,u){const d=tt.round(we.distance(o,a)/u),f=tt.round(we.distance(o,l)/u);let p=Math.floor((d+f)/2)+7;switch(3&p){case 0:p++;break;case 2:p--;break;case 3:throw new Y("Dimensions could be not found.")}return p}calculateModuleSize(o,a,l){return(this.calculateModuleSizeOneWay(o,a)+this.calculateModuleSizeOneWay(o,l))/2}calculateModuleSizeOneWay(o,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(o,a,l,u){let d=this.sizeOfBlackWhiteBlackRun(o,a,l,u),f=1,p=o-(l-o);p<0?(f=o/(o-p),p=0):p>=this.image.getWidth()&&(f=(this.image.getWidth()-1-o)/(p-o),p=this.image.getWidth()-1);let y=Math.floor(a-(u-a)*f);return f=1,y<0?(f=a/(a-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-a)/(y-a),y=this.image.getHeight()-1),p=Math.floor(o+(p-o)*f),d+=this.sizeOfBlackWhiteBlackRun(o,a,p,y),d-1}sizeOfBlackWhiteBlackRun(o,a,l,u){const d=Math.abs(u-a)>Math.abs(l-o);if(d){let M=o;o=a,a=M,M=l,l=u,u=M}const f=Math.abs(l-o),p=Math.abs(u-a);let y=-f/2;const v=o<l?1:-1,_=a<u?1:-1;let A=0;const I=l+v;for(let M=o,O=a;M!==I;M+=v){if(1===A===this.image.get(d?O:M,d?M:O)){if(2===A)return tt.distance(M,O,o,a);A++}if(y+=p,y>0){if(O===u)break;O+=_,y-=f}}return 2===A?tt.distance(l+v,u,o,a):NaN}findAlignmentInRegion(o,a,l,u){const d=Math.floor(u*o),f=Math.max(0,a-d),p=Math.min(this.image.getWidth()-1,a+d);if(p-f<3*o)throw new Y("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),v=Math.min(this.image.getHeight()-1,l+d);if(v-y<3*o)throw new Y("Alignment bottom exceeds estimated module size.");return new Ui(this.image,f,y,p-f,v-y,o,this.resultPointCallback).find()}}class fi{constructor(){this.decoder=new nu}getDecoder(){return this.decoder}decode(o,a){let l,u;if(null!=a&&void 0!==a.get(St.PURE_BARCODE)){const y=fi.extractPureBits(o.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,a),u=fi.NO_POINTS}else{const y=new Ms(o.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(y.getBits(),a),u=y.getPoints()}l.getOther()instanceof Of&&l.getOther().applyMirroredCorrection(u);const d=new Ot(l.getText(),l.getRawBytes(),void 0,u,he.QR_CODE,void 0),f=l.getByteSegments();null!==f&&d.putMetadata(Xe.BYTE_SEGMENTS,f);const p=l.getECLevel();return null!==p&&d.putMetadata(Xe.ERROR_CORRECTION_LEVEL,p),l.hasStructuredAppend()&&(d.putMetadata(Xe.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(Xe.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(o){const a=o.getTopLeftOnBit(),l=o.getBottomRightOnBit();if(null===a||null===l)throw new Y;const u=this.moduleSize(a,o);let d=a[1],f=l[1],p=a[0],y=l[0];if(p>=y||d>=f)throw new Y;if(f-d!=y-p&&(y=p+(f-d),y>=o.getWidth()))throw new Y;const v=Math.round((y-p+1)/u),_=Math.round((f-d+1)/u);if(v<=0||_<=0)throw new Y;if(_!==v)throw new Y;const A=Math.floor(u/2);d+=A,p+=A;const I=p+Math.floor((v-1)*u)-y;if(I>0){if(I>A)throw new Y;p-=I}const M=d+Math.floor((_-1)*u)-f;if(M>0){if(M>A)throw new Y;d-=M}const O=new an(v,_);for(let P=0;P<_;P++){const B=d+Math.floor(P*u);for(let j=0;j<v;j++)o.get(p+Math.floor(j*u),B)&&O.set(j,P)}return O}static moduleSize(o,a){const l=a.getHeight(),u=a.getWidth();let d=o[0],f=o[1],p=!0,y=0;for(;d<u&&f<l;){if(p!==a.get(d,f)){if(5==++y)break;p=!p}d++,f++}if(d===u||f===l)throw new Y;return(d-o[0])/7}}fi.NO_POINTS=new Array;class De{PDF417Common(){}static getBitCountSum(o){return tt.sum(o)}static toIntArray(o){if(null==o||!o.length)return De.EMPTY_INT_ARRAY;const a=new Int32Array(o.length);let l=0;for(const u of o)a[l++]=u;return a}static getCodeword(o){const a=Zt.binarySearch(De.SYMBOL_TABLE,262143&o);return a<0?-1:(De.CODEWORD_TABLE[a]-1)%De.NUMBER_OF_CODEWORDS}}De.NUMBER_OF_CODEWORDS=929,De.MAX_CODEWORDS_IN_BARCODE=De.NUMBER_OF_CODEWORDS-1,De.MIN_ROWS_IN_BARCODE=3,De.MAX_ROWS_IN_BARCODE=90,De.MODULES_IN_CODEWORD=17,De.MODULES_IN_STOP_PATTERN=18,De.BARS_IN_MODULE=8,De.EMPTY_INT_ARRAY=new Int32Array([]),De.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),De.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Wn{constructor(o,a){this.bits=o,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class je{static detectMultiple(o,a,l){let u=o.getBlackMatrix(),d=je.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=je.detect(l,u)),new Wn(u,d)}static detect(o,a){const l=new Array;let u=0,d=0,f=!1;for(;u<a.getHeight();){const p=je.findVertices(a,u,d);if(null!=p[0]||null!=p[3]){if(f=!0,l.push(p),!o)break;null!=p[2]?(d=Math.trunc(p[2].getX()),u=Math.trunc(p[2].getY())):(d=Math.trunc(p[4].getX()),u=Math.trunc(p[4].getY()))}else{if(!f)break;f=!1,d=0;for(const y of l)null!=y[1]&&(u=Math.trunc(Math.max(u,y[1].getY()))),null!=y[3]&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=je.ROW_STEP}}return l}static findVertices(o,a,l){const u=o.getHeight(),d=o.getWidth(),f=new Array(8);return je.copyToResult(f,je.findRowsWithPattern(o,u,d,a,l,je.START_PATTERN),je.INDEXES_START_PATTERN),null!=f[4]&&(l=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY())),je.copyToResult(f,je.findRowsWithPattern(o,u,d,a,l,je.STOP_PATTERN),je.INDEXES_STOP_PATTERN),f}static copyToResult(o,a,l){for(let u=0;u<l.length;u++)o[l[u]]=a[u]}static findRowsWithPattern(o,a,l,u,d,f){const p=new Array(4);let y=!1;const v=new Int32Array(f.length);for(;u<a;u+=je.ROW_STEP){let A=je.findGuardPattern(o,d,u,l,!1,f,v);if(null!=A){for(;u>0;){const I=je.findGuardPattern(o,d,--u,l,!1,f,v);if(null==I){u++;break}A=I}p[0]=new we(A[0],u),p[1]=new we(A[1],u),y=!0;break}}let _=u+1;if(y){let A=0,I=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;_<a;_++){const M=je.findGuardPattern(o,I[0],_,l,!1,f,v);if(null!=M&&Math.abs(I[0]-M[0])<je.MAX_PATTERN_DRIFT&&Math.abs(I[1]-M[1])<je.MAX_PATTERN_DRIFT)I=M,A=0;else{if(A>je.SKIPPED_ROW_COUNT_MAX)break;A++}}_-=A+1,p[2]=new we(I[0],_),p[3]=new we(I[1],_)}return _-u<je.BARCODE_MIN_HEIGHT&&Zt.fill(p,null),p}static findGuardPattern(o,a,l,u,d,f,p){Zt.fillWithin(p,0,p.length,0);let y=a,v=0;for(;o.get(y,l)&&y>0&&v++<je.MAX_PIXEL_DRIFT;)y--;let _=y,A=0,I=f.length;for(let M=d;_<u;_++)if(o.get(_,l)!==M)p[A]++;else{if(A===I-1){if(je.patternMatchVariance(p,f,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return new Int32Array([y,_]);y+=p[0]+p[1],_t.arraycopy(p,2,p,0,A-1),p[A-1]=0,p[A]=0,A--}else A++;p[A]=1,M=!M}return A===I-1&&je.patternMatchVariance(p,f,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE?new Int32Array([y,_-1]):null}static patternMatchVariance(o,a,l){let u=o.length,d=0,f=0;for(let v=0;v<u;v++)d+=o[v],f+=a[v];if(d<f)return 1/0;let p=d/f;l*=p;let y=0;for(let v=0;v<u;v++){let _=o[v],A=a[v]*p,I=_>A?_-A:A-_;if(I>l)return 1/0;y+=I}return y/d}}je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),je.MAX_AVG_VARIANCE=.42,je.MAX_INDIVIDUAL_VARIANCE=.8,je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),je.MAX_PIXEL_DRIFT=3,je.MAX_PATTERN_DRIFT=5,je.SKIPPED_ROW_COUNT_MAX=25,je.ROW_STEP=5,je.BARCODE_MIN_HEIGHT=10;class mn{constructor(o,a){if(0===a.length)throw new fe;this.field=o;let l=a.length;if(l>1&&0===a[0]){let u=1;for(;u<l&&0===a[u];)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),_t.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(0===o)return this.getCoefficient(0);if(1===o){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let a=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)a=this.field.add(this.field.multiply(o,a),this.coefficients[u]);return a}add(o){if(!this.field.equals(o.field))throw new fe("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let a=this.coefficients,l=o.coefficients;if(a.length>l.length){let f=a;a=l,l=f}let u=new Int32Array(l.length),d=l.length-a.length;_t.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=this.field.add(a[f-d],l[f]);return new mn(this.field,u)}subtract(o){if(!this.field.equals(o.field))throw new fe("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof mn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new fe("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new mn(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,u=o.coefficients,d=u.length,f=new Int32Array(l+d-1);for(let p=0;p<l;p++){let y=a[p];for(let v=0;v<d;v++)f[p+v]=this.field.add(f[p+v],this.field.multiply(y,u[v]))}return new mn(this.field,f)}negative(){let o=this.coefficients.length,a=new Int32Array(o);for(let l=0;l<o;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new mn(this.field,a)}multiplyScalar(o){if(0===o)return new mn(this.field,new Int32Array([0]));if(1===o)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],o);return new mn(this.field,l)}multiplyByMonomial(o,a){if(o<0)throw new fe;if(0===a)return new mn(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+o);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],a);return new mn(this.field,u)}toString(){let o=new ut;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);0!==l&&(l<0?(o.append(" - "),l=-l):o.length()>0&&o.append(" + "),(0===a||1!==l)&&o.append(l),0!==a&&(1===a?o.append("x"):(o.append("x^"),o.append(a))))}return o.toString()}}class B1{add(o,a){return(o+a)%this.modulus}subtract(o,a){return(this.modulus+o-a)%this.modulus}exp(o){return this.expTable[o]}log(o){if(0===o)throw new fe;return this.logTable[o]}inverse(o){if(0===o)throw new Uo;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,a){return 0===o||0===a?0:this.expTable[(this.logTable[o]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Wr extends B1{constructor(o,a){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let l=1;for(let u=0;u<o;u++)this.expTable[u]=l,l=l*a%o;for(let u=0;u<o-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new mn(this,new Int32Array([0])),this.one=new mn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,a){if(o<0)throw new fe;if(0===a)return this.zero;let l=new Int32Array(o+1);return l[0]=a,new mn(this,l)}}Wr.PDF417_GF=new Wr(De.NUMBER_OF_CODEWORDS,3);class Lf{constructor(){this.field=Wr.PDF417_GF}decode(o,a,l){let u=new mn(this.field,o),d=new Int32Array(a),f=!1;for(let O=a;O>0;O--){let P=u.evaluateAt(this.field.exp(O));d[a-O]=P,0!==P&&(f=!0)}if(!f)return 0;let p=this.field.getOne();if(null!=l)for(const O of l){let P=this.field.exp(o.length-1-O),B=new mn(this.field,new Int32Array([this.field.subtract(0,P),1]));p=p.multiply(B)}let y=new mn(this.field,d),v=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),y,a),_=v[0],A=v[1],I=this.findErrorLocations(_),M=this.findErrorMagnitudes(A,_,I);for(let O=0;O<I.length;O++){let P=o.length-1-this.field.log(I[O]);if(P<0)throw Kt.getChecksumInstance();o[P]=this.field.subtract(o[P],M[O])}return I.length}runEuclideanAlgorithm(o,a,l){if(o.getDegree()<a.getDegree()){let I=o;o=a,a=I}let u=o,d=a,f=this.field.getZero(),p=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let I=u,M=f;if(u=d,f=p,u.isZero())throw Kt.getChecksumInstance();d=I;let O=this.field.getZero(),P=u.getCoefficient(u.getDegree()),B=this.field.inverse(P);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let j=d.getDegree()-u.getDegree(),J=this.field.multiply(d.getCoefficient(d.getDegree()),B);O=O.add(this.field.buildMonomial(j,J)),d=d.subtract(u.multiplyByMonomial(j,J))}p=O.multiply(f).subtract(M).negative()}let y=p.getCoefficient(0);if(0===y)throw Kt.getChecksumInstance();let v=this.field.inverse(y);return[p.multiply(v),d.multiply(v)]}findErrorLocations(o){let a=o.getDegree(),l=new Int32Array(a),u=0;for(let d=1;d<this.field.getSize()&&u<a;d++)0===o.evaluateAt(d)&&(l[u]=this.field.inverse(d),u++);if(u!==a)throw Kt.getChecksumInstance();return l}findErrorMagnitudes(o,a,l){let u=a.getDegree(),d=new Int32Array(u);for(let v=1;v<=u;v++)d[u-v]=this.field.multiply(v,a.getCoefficient(v));let f=new mn(this.field,d),p=l.length,y=new Int32Array(p);for(let v=0;v<p;v++){let _=this.field.inverse(l[v]),A=this.field.subtract(0,o.evaluateAt(_)),I=this.field.inverse(f.evaluateAt(_));y[v]=this.field.multiply(A,I)}return y}}class uo{constructor(o,a,l,u,d){o instanceof uo?this.constructor_2(o):this.constructor_1(o,a,l,u,d)}constructor_1(o,a,l,u,d){const f=null==a||null==l,p=null==u||null==d;if(f&&p)throw new Y;f?(a=new we(0,u.getY()),l=new we(0,d.getY())):p&&(u=new we(o.getWidth()-1,a.getY()),d=new we(o.getWidth()-1,l.getY())),this.image=o,this.topLeft=a,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,a){return null==o?a:null==a?o:new uo(o.image,o.topLeft,o.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(o,a,l){let u=this.topLeft,d=this.bottomLeft,f=this.topRight,p=this.bottomRight;if(o>0){let y=l?this.topLeft:this.topRight,v=Math.trunc(y.getY()-o);v<0&&(v=0);let _=new we(y.getX(),v);l?u=_:f=_}if(a>0){let y=l?this.bottomLeft:this.bottomRight,v=Math.trunc(y.getY()+a);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let _=new we(y.getX(),v);l?d=_:p=_}return new uo(this.image,u,d,f,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class V1{constructor(o,a,l,u){this.columnCount=o,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ns{constructor(){this.buffer=""}static form(o,a){let l=-1;return o.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function u(f,p,y,v,_,A){if("%%"===f)return"%";if(void 0===a[++l])return;f=v?parseInt(v.substr(1)):void 0;let M,I=_?parseInt(_.substr(1)):void 0;switch(A){case"s":M=a[l];break;case"c":M=a[l][0];break;case"f":M=parseFloat(a[l]).toFixed(f);break;case"p":M=parseFloat(a[l]).toPrecision(f);break;case"e":M=parseFloat(a[l]).toExponential(f);break;case"x":M=parseInt(a[l]).toString(I||16);break;case"d":M=parseFloat(parseInt(a[l],I||10).toPrecision(f)).toFixed(0)}M="object"==typeof M?JSON.stringify(M):(+M).toString(I);let O=parseInt(y),P=y&&y[0]+""=="0"?"0":" ";for(;M.length<O;)M=void 0!==p?M+P:P+M;return M})}format(o,...a){this.buffer+=Ns.form(o,a)}toString(){return this.buffer}}let ru=(()=>{class C{constructor(a){this.boundingBox=new uo(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let l=this.getCodeword(a);if(null!=l)return l;for(let u=1;u<C.MAX_NEARBY_DISTANCE;u++){let d=this.imageRowToCodewordIndex(a)-u;if(d>=0&&(l=this.codewords[d],null!=l)||(d=this.imageRowToCodewordIndex(a)+u,d<this.codewords.length&&(l=this.codewords[d],null!=l)))return l}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,l){this.codewords[this.imageRowToCodewordIndex(a)]=l}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new Ns;let l=0;for(const u of this.codewords)null!=u?a.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue()):a.format("%3d:    |   %n",l++);return a.toString()}}return C.MAX_NEARBY_DISTANCE=5,C})();class Rs{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let a=this.values.get(o);null==a&&(a=0),a++,this.values.set(o,a)}getValue(){let o=-1,a=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>o?(o=d.getValue(),a=[],a.push(d.getKey())):d.getValue()===o&&a.push(d.getKey())}return De.toIntArray(a)}getConfidence(o){return this.values.get(o)}}class iu extends ru{constructor(o,a){super(o),this._isLeft=a}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,o);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,v=1,_=0;for(let A=f;A<p;A++){if(null==a[A])continue;let I=a[A],M=I.getRowNumber()-y;if(0===M)_++;else if(1===M)v=Math.max(v,_),_=1,y=I.getRowNumber();else if(M<0||I.getRowNumber()>=o.getRowCount()||M>A)a[A]=null;else{let O;O=v>2?(v-2)*M:M;let P=O>=A;for(let B=1;B<=O&&!P;B++)P=null!=a[A-B];P?a[A]=null:(y=I.getRowNumber(),_=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(null==o)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let a=new Int32Array(o.getRowCount());for(let l of this.getCodewords())if(null!=l){let u=l.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(o){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.getCodewords(),y=-1;for(let v=d;v<f;v++){if(null==p[v])continue;let _=p[v];_.setRowNumberAsRowIndicatorColumn();let A=_.getRowNumber()-y;0===A||(1===A?y=_.getRowNumber():_.getRowNumber()>=o.getRowCount()?p[v]=null:y=_.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),a=new Rs,l=new Rs,u=new Rs,d=new Rs;for(let p of o){if(null==p)continue;p.setRowNumberAsRowIndicatorColumn();let y=p.getValue()%30,v=p.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:l.setValue(3*y+1);break;case 1:d.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1)}}if(0===a.getValue().length||0===l.getValue().length||0===u.getValue().length||0===d.getValue().length||a.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<De.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>De.MAX_ROWS_IN_BARCODE)return null;let f=new V1(a.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(o,f),f}removeIncorrectCodewords(o,a){for(let l=0;l<o.length;l++){let u=o[l];if(null==o[l])continue;let d=u.getValue()%30,f=u.getRowNumber();if(f>a.getRowCount())o[l]=null;else switch(this._isLeft||(f+=2),f%3){case 0:3*d+1!==a.getRowCountUpperPart()&&(o[l]=null);break;case 1:(Math.trunc(d/3)!==a.getErrorCorrectionLevel()||d%3!==a.getRowCountLowerPart())&&(o[l]=null);break;case 2:d+1!==a.getColumnCount()&&(o[l]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Os{constructor(o,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a,o=De.MAX_CODEWORDS_IN_BARCODE;do{a=o,o=this.adjustRowNumbersAndGetCount()}while(o>0&&o<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(0===o)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let u=0;u<l.length;u++)null!=l[u]&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,l))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let o=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++)if(null!=o[l]&&null!=a[l]&&o[l].getRowNumber()===a[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];null!=d&&(d.setRowNumber(o[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let o=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(null==a[l])continue;let u=a[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let p=this.detectionResultColumns[f].getCodewords()[l];null!=p&&(d=Os.adjustRowNumberIfValid(u,d,p),p.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let o=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(null==a[l])continue;let u=a[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let p=this.detectionResultColumns[f].getCodewords()[l];null!=p&&(d=Os.adjustRowNumberIfValid(u,d,p),p.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,a,l){return null==l||l.hasValidRowNumber()||(l.isValidRowNumber(o)?(l.setRowNumber(o),a=0):++a),a}adjustRowNumbers(o,a,l){if(!this.detectionResultColumns[o-1])return;let u=l[a],d=this.detectionResultColumns[o-1].getCodewords(),f=d;null!=this.detectionResultColumns[o+1]&&(f=this.detectionResultColumns[o+1].getCodewords());let p=new Array(14);p[2]=d[a],p[3]=f[a],a>0&&(p[0]=l[a-1],p[4]=d[a-1],p[5]=f[a-1]),a>1&&(p[8]=l[a-2],p[10]=d[a-2],p[11]=f[a-2]),a<l.length-1&&(p[1]=l[a+1],p[6]=d[a+1],p[7]=f[a+1]),a<l.length-2&&(p[9]=l[a+2],p[12]=d[a+2],p[13]=f[a+2]);for(let y of p)if(Os.adjustRowNumber(u,y))return}static adjustRowNumber(o,a){return!(null==a||!a.hasValidRowNumber()||a.getBucket()!==o.getBucket()||(o.setRowNumber(a.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,a){this.detectionResultColumns[o]=a}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];null==o&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Ns;for(let l=0;l<o.getCodewords().length;l++){a.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(null==this.detectionResultColumns[u]){a.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];null!=d?a.format(" %3d|%3d",d.getRowNumber(),d.getValue()):a.format("    |   ")}a.format("%n")}return a.toString()}}let tr=(()=>{class C{constructor(a,l,u,d){this.rowNumber=C.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==C.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}return C.BARCODE_ROW_UNKNOWN=-1,C})();class Re{static initialize(){for(let o=0;o<De.SYMBOL_TABLE.length;o++){let a=De.SYMBOL_TABLE[o],l=1&a;for(let u=0;u<De.BARS_IN_MODULE;u++){let d=0;for(;(1&a)===l;)d+=1,a>>=1;l=1&a,Re.RATIOS_TABLE[o]||(Re.RATIOS_TABLE[o]=new Array(De.BARS_IN_MODULE)),Re.RATIOS_TABLE[o][De.BARS_IN_MODULE-u-1]=Math.fround(d/De.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let a=Re.getDecodedCodewordValue(Re.sampleBitCounts(o));return-1!==a?a:Re.getClosestDecodedValue(o)}static sampleBitCounts(o){let a=tt.sum(o),l=new Int32Array(De.BARS_IN_MODULE),u=0,d=0;for(let f=0;f<De.MODULES_IN_CODEWORD;f++)d+o[u]<=a/(2*De.MODULES_IN_CODEWORD)+f*a/De.MODULES_IN_CODEWORD&&(d+=o[u],u++),l[u]++;return l}static getDecodedCodewordValue(o){let a=Re.getBitValue(o);return-1===De.getCodeword(a)?-1:a}static getBitValue(o){let a=0;for(let l=0;l<o.length;l++)for(let u=0;u<o[l];u++)a=a<<1|(l%2==0?1:0);return Math.trunc(a)}static getClosestDecodedValue(o){let a=tt.sum(o),l=new Array(De.BARS_IN_MODULE);if(a>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(o[f]/a);let u=Ja.MAX_VALUE,d=-1;this.bSymbolTableReady||Re.initialize();for(let f=0;f<Re.RATIOS_TABLE.length;f++){let p=0,y=Re.RATIOS_TABLE[f];for(let v=0;v<De.BARS_IN_MODULE;v++){let _=Math.fround(y[v]-l[v]);if(p+=Math.fround(_*_),p>=u)break}p<u&&(u=p,d=De.SYMBOL_TABLE[f])}return d}}Re.bSymbolTableReady=!1,Re.RATIOS_TABLE=new Array(De.SYMBOL_TABLE.length).map(C=>new Array(De.BARS_IN_MODULE));class Ff{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class kf{static parseLong(o,a=void 0){return parseInt(o,a)}}let U1=(()=>{class C extends wn{}return C.kind="NullPointerException",C})();class ce{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,a,l){if(null==o)throw new U1;if(a<0||a>o.length||l<0||a+l>o.length||a+l<0)throw new Za;if(0!==l)for(let u=0;u<l;u++)this.write(o[a+u])}flush(){}close(){}}class H1 extends wn{}class nr extends ce{constructor(o=32){if(super(),this.count=0,o<0)throw new fe("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let l=this.buf.length<<1;if(l-o<0&&(l=o),l<0){if(o<0)throw new H1;l=Ne.MAX_VALUE}this.buf=Zt.copyOfUint8Array(this.buf,l)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,a,l){if(a<0||a>o.length||l<0||a+l-o.length>0)throw new Za;this.ensureCapacity(this.count+l),_t.arraycopy(o,a,this.buf,this.count,l),this.count+=l}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Zt.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?"string"==typeof o?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var ft=function(C){return C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT",C}(ft||{});function ou(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Wo;function hi(C){if(typeof Wo>"u"&&(Wo=ou()),null===Wo)throw new Error("BigInt is not supported!");return Wo(C)}class z{static decode(o,a){let l=new ut(""),u=te.ISO8859_1;l.enableDecoding(u);let d=1,f=o[d++],p=new Ff;for(;d<o[0];){switch(f){case z.TEXT_COMPACTION_MODE_LATCH:d=z.textCompaction(o,d,l);break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:d=z.byteCompaction(f,o,u,d,l);break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(o[d++]);break;case z.NUMERIC_COMPACTION_MODE_LATCH:d=z.numericCompaction(o,d,l);break;case z.ECI_CHARSET:te.getCharacterSetECIByValue(o[d++]);break;case z.ECI_GENERAL_PURPOSE:d+=2;break;case z.ECI_USER_DEFINED:d++;break;case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=z.decodeMacroBlock(o,d,p);break;case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:throw new oe;default:d--,d=z.textCompaction(o,d,l)}if(!(d<o.length))throw oe.getFormatInstance();f=o[d++]}if(0===l.length())throw oe.getFormatInstance();let y=new Ft(null,l.toString(),null,a);return y.setOther(p),y}static decodeMacroBlock(o,a,l){if(a+z.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw oe.getFormatInstance();let u=new Int32Array(z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<z.NUMBER_OF_SEQUENCE_CODEWORDS;p++,a++)u[p]=o[a];l.setSegmentIndex(Ne.parseInt(z.decodeBase900toBase10(u,z.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new ut;a=z.textCompaction(o,a,d),l.setFileId(d.toString());let f=-1;for(o[a]===z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=a+1);a<o[0];)switch(o[a]){case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o[++a]){case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new ut;a=z.textCompaction(o,a+1,p),l.setFileName(p.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new ut;a=z.textCompaction(o,a+1,y),l.setSender(y.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new ut;a=z.textCompaction(o,a+1,v),l.setAddressee(v.toString());break;case z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let _=new ut;a=z.numericCompaction(o,a+1,_),l.setSegmentCount(Ne.parseInt(_.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new ut;a=z.numericCompaction(o,a+1,A),l.setTimestamp(kf.parseLong(A.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new ut;a=z.numericCompaction(o,a+1,I),l.setChecksum(Ne.parseInt(I.toString()));break;case z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new ut;a=z.numericCompaction(o,a+1,M),l.setFileSize(kf.parseLong(M.toString()));break;default:throw oe.getFormatInstance()}break;case z.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw oe.getFormatInstance()}if(-1!==f){let p=a-f;l.isLastSegment()&&p--,l.setOptionalData(Zt.copyOfRange(o,f,f+p))}return a}static textCompaction(o,a,l){let u=new Int32Array(2*(o[0]-a)),d=new Int32Array(2*(o[0]-a)),f=0,p=!1;for(;a<o[0]&&!p;){let y=o[a++];if(y<z.TEXT_COMPACTION_MODE_LATCH)u[f]=y/30,u[f+1]=y%30,f+=2;else switch(y){case z.TEXT_COMPACTION_MODE_LATCH:u[f++]=z.TEXT_COMPACTION_MODE_LATCH;break;case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:a--,p=!0;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=o[a++],d[f]=y,f++}}return z.decodeTextCompaction(u,d,f,l),a}static decodeTextCompaction(o,a,l,u){let d=ft.ALPHA,f=ft.ALPHA,p=0;for(;p<l;){let y=o[p],v="";switch(d){case ft.ALPHA:if(y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case z.LL:d=ft.LOWER;break;case z.ML:d=ft.MIXED;break;case z.PS:f=d,d=ft.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[p]);break;case z.TEXT_COMPACTION_MODE_LATCH:d=ft.ALPHA}break;case ft.LOWER:if(y<26)v=String.fromCharCode(97+y);else switch(y){case 26:v=" ";break;case z.AS:f=d,d=ft.ALPHA_SHIFT;break;case z.ML:d=ft.MIXED;break;case z.PS:f=d,d=ft.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[p]);break;case z.TEXT_COMPACTION_MODE_LATCH:d=ft.ALPHA}break;case ft.MIXED:if(y<z.PL)v=z.MIXED_CHARS[y];else switch(y){case z.PL:d=ft.PUNCT;break;case 26:v=" ";break;case z.LL:d=ft.LOWER;break;case z.AL:d=ft.ALPHA;break;case z.PS:f=d,d=ft.PUNCT_SHIFT;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[p]);break;case z.TEXT_COMPACTION_MODE_LATCH:d=ft.ALPHA}break;case ft.PUNCT:if(y<z.PAL)v=z.PUNCT_CHARS[y];else switch(y){case z.PAL:d=ft.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[p]);break;case z.TEXT_COMPACTION_MODE_LATCH:d=ft.ALPHA}break;case ft.ALPHA_SHIFT:if(d=f,y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case z.TEXT_COMPACTION_MODE_LATCH:d=ft.ALPHA}break;case ft.PUNCT_SHIFT:if(d=f,y<z.PAL)v=z.PUNCT_CHARS[y];else switch(y){case z.PAL:d=ft.ALPHA;break;case z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[p]);break;case z.TEXT_COMPACTION_MODE_LATCH:d=ft.ALPHA}}""!==v&&u.append(v),p++}}static byteCompaction(o,a,l,u,d){let f=new nr,p=0,y=0,v=!1;switch(o){case z.BYTE_COMPACTION_MODE_LATCH:let _=new Int32Array(6),A=a[u++];for(;u<a[0]&&!v;)switch(_[p++]=A,y=900*y+A,A=a[u++],A){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:u--,v=!0;break;default:if(p%5==0&&p>0){for(let I=0;I<6;++I)f.write(Number(hi(y)>>hi(8*(5-I))));y=0,p=0}}u===a[0]&&A<z.TEXT_COMPACTION_MODE_LATCH&&(_[p++]=A);for(let I=0;I<p;I++)f.write(_[I]);break;case z.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!v;){let I=a[u++];if(I<z.TEXT_COMPACTION_MODE_LATCH)p++,y=900*y+I;else switch(I){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.NUMERIC_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:u--,v=!0}if(p%5==0&&p>0){for(let M=0;M<6;++M)f.write(Number(hi(y)>>hi(8*(5-M))));y=0,p=0}}}return d.append(hn.decode(f.toByteArray(),l)),u}static numericCompaction(o,a,l){let u=0,d=!1,f=new Int32Array(z.MAX_NUMERIC_CODEWORDS);for(;a<o[0]&&!d;){let p=o[a++];if(a===o[0]&&(d=!0),p<z.TEXT_COMPACTION_MODE_LATCH)f[u]=p,u++;else switch(p){case z.TEXT_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH:case z.BYTE_COMPACTION_MODE_LATCH_6:case z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case z.MACRO_PDF417_TERMINATOR:a--,d=!0}(u%z.MAX_NUMERIC_CODEWORDS==0||p===z.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append(z.decodeBase900toBase10(f,u)),u=0)}return a}static decodeBase900toBase10(o,a){let l=hi(0);for(let d=0;d<a;d++)l+=z.EXP900[a-d-1]*hi(o[d]);let u=l.toString();if("1"!==u.charAt(0))throw new oe;return u.substring(1)}}z.TEXT_COMPACTION_MODE_LATCH=900,z.BYTE_COMPACTION_MODE_LATCH=901,z.NUMERIC_COMPACTION_MODE_LATCH=902,z.BYTE_COMPACTION_MODE_LATCH_6=924,z.ECI_USER_DEFINED=925,z.ECI_GENERAL_PURPOSE=926,z.ECI_CHARSET=927,z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,z.MACRO_PDF417_TERMINATOR=922,z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,z.MAX_NUMERIC_CODEWORDS=15,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,z.PL=25,z.LL=27,z.AS=27,z.ML=28,z.AL=28,z.PS=29,z.PAL=29,z.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",z.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",z.EXP900=ou()?function su(){let C=[];C[0]=hi(1);let o=hi(900);C[1]=o;for(let a=2;a<16;a++)C[a]=C[a-1]*o;return C}():[],z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ke{constructor(){}static decode(o,a,l,u,d,f,p){let A,y=new uo(o,a,l,u,d),v=null,_=null;for(let O=!0;;O=!1){if(null!=a&&(v=ke.getRowIndicatorColumn(o,y,a,!0,f,p)),null!=u&&(_=ke.getRowIndicatorColumn(o,y,u,!1,f,p)),A=ke.merge(v,_),null==A)throw Y.getNotFoundInstance();let P=A.getBoundingBox();if(!O||null==P||!(P.getMinY()<y.getMinY()||P.getMaxY()>y.getMaxY()))break;y=P}A.setBoundingBox(y);let I=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,v),A.setDetectionResultColumn(I,_);let M=null!=v;for(let O=1;O<=I;O++){let B,P=M?O:I-O;if(void 0!==A.getDetectionResultColumn(P))continue;B=0===P||P===I?new iu(y,0===P):new ru(y),A.setDetectionResultColumn(P,B);let j=-1,J=j;for(let ae=y.getMinY();ae<=y.getMaxY();ae++){if(j=ke.getStartColumn(A,P,ae,M),j<0||j>y.getMaxX()){if(-1===J)continue;j=J}let G=ke.detectCodeword(o,y.getMinX(),y.getMaxX(),M,j,ae,f,p);null!=G&&(B.setCodeword(ae,G),J=j,f=Math.min(f,G.getWidth()),p=Math.max(p,G.getWidth()))}}return ke.createDecoderResult(A)}static merge(o,a){if(null==o&&null==a)return null;let l=ke.getBarcodeMetadata(o,a);if(null==l)return null;let u=uo.merge(ke.adjustBoundingBox(o),ke.adjustBoundingBox(a));return new Os(l,u)}static adjustBoundingBox(o){if(null==o)return null;let a=o.getRowHeights();if(null==a)return null;let l=ke.getMax(a),u=0;for(let p of a)if(u+=l-p,p>0)break;let d=o.getCodewords();for(let p=0;u>0&&null==d[p];p++)u--;let f=0;for(let p=a.length-1;p>=0&&(f+=l-a[p],!(a[p]>0));p--);for(let p=d.length-1;f>0&&null==d[p];p--)f--;return o.getBoundingBox().addMissingRows(u,f,o.isLeft())}static getMax(o){let a=-1;for(let l of o)a=Math.max(a,l);return a}static getBarcodeMetadata(o,a){let l,u;return null==o||null==(l=o.getBarcodeMetadata())?null==a?null:a.getBarcodeMetadata():null==a||null==(u=a.getBarcodeMetadata())?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(o,a,l,u,d,f){let p=new iu(a,u);for(let y=0;y<2;y++){let v=0===y?1:-1,_=Math.trunc(Math.trunc(l.getX()));for(let A=Math.trunc(Math.trunc(l.getY()));A<=a.getMaxY()&&A>=a.getMinY();A+=v){let I=ke.detectCodeword(o,0,o.getWidth(),u,_,A,d,f);null!=I&&(p.setCodeword(A,I),_=u?I.getStartX():I.getEndX())}}return p}static adjustCodewordCount(o,a){let l=a[0][1],u=l.getValue(),d=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-ke.getNumberOfECCodeWords(o.getBarcodeECLevel());if(0===u.length){if(d<1||d>De.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(o){let a=ke.createBarcodeMatrix(o);ke.adjustCodewordCount(o,a);let l=new Array,u=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),d=[],f=new Array;for(let y=0;y<o.getBarcodeRowCount();y++)for(let v=0;v<o.getBarcodeColumnCount();v++){let _=a[y][v+1].getValue(),A=y*o.getBarcodeColumnCount()+v;0===_.length?l.push(A):1===_.length?u[A]=_[0]:(f.push(A),d.push(_))}let p=new Array(d.length);for(let y=0;y<p.length;y++)p[y]=d[y];return ke.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),u,De.toIntArray(l),De.toIntArray(f),p)}static createDecoderResultFromAmbiguousValues(o,a,l,u,d){let f=new Int32Array(u.length),p=100;for(;p-- >0;){for(let y=0;y<f.length;y++)a[u[y]]=d[y][f[y]];try{return ke.decodeCodewords(a,o,l)}catch(y){if(!(y instanceof Kt))throw y}if(0===f.length)throw Kt.getChecksumInstance();for(let y=0;y<f.length;y++){if(f[y]<d[y].length-1){f[y]++;break}if(f[y]=0,y===f.length-1)throw Kt.getChecksumInstance()}}throw Kt.getChecksumInstance()}static createBarcodeMatrix(o){let a=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let d=0;d<a[u].length;d++)a[u][d]=new Rs;let l=0;for(let u of o.getDetectionResultColumns()){if(null!=u)for(let d of u.getCodewords())if(null!=d){let f=d.getRowNumber();if(f>=0){if(f>=a.length)continue;a[f][l].setValue(d.getValue())}}l++}return a}static isValidBarcodeColumn(o,a){return a>=0&&a<=o.getBarcodeColumnCount()+1}static getStartColumn(o,a,l,u){let d=u?1:-1,f=null;if(ke.isValidBarcodeColumn(o,a-d)&&(f=o.getDetectionResultColumn(a-d).getCodeword(l)),null!=f)return u?f.getEndX():f.getStartX();if(f=o.getDetectionResultColumn(a).getCodewordNearby(l),null!=f)return u?f.getStartX():f.getEndX();if(ke.isValidBarcodeColumn(o,a-d)&&(f=o.getDetectionResultColumn(a-d).getCodewordNearby(l)),null!=f)return u?f.getEndX():f.getStartX();let p=0;for(;ke.isValidBarcodeColumn(o,a-d);){a-=d;for(let y of o.getDetectionResultColumn(a).getCodewords())if(null!=y)return(u?y.getEndX():y.getStartX())+d*p*(y.getEndX()-y.getStartX());p++}return u?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,a,l,u,d,f,p,y){d=ke.adjustCodewordStartColumn(o,a,l,u,d,f);let v=ke.getModuleBitCount(o,a,l,u,d,f);if(null==v)return null;let _,A=tt.sum(v);if(u)_=d+A;else{for(let O=0;O<v.length/2;O++){let P=v[O];v[O]=v[v.length-1-O],v[v.length-1-O]=P}_=d,d=_-A}if(!ke.checkCodewordSkew(A,p,y))return null;let I=Re.getDecodedValue(v),M=De.getCodeword(I);return-1===M?null:new tr(d,_,ke.getCodewordBucketNumber(I),M)}static getModuleBitCount(o,a,l,u,d,f){let p=d,y=new Int32Array(8),v=0,_=u?1:-1,A=u;for(;(u?p<l:p>=a)&&v<y.length;)o.get(p,f)===A?(y[v]++,p+=_):(v++,A=!A);return v===y.length||p===(u?l:a)&&v===y.length-1?y:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,a,l,u,d,f){let p=d,y=u?-1:1;for(let v=0;v<2;v++){for(;(u?p>=a:p<l)&&u===o.get(p,f);){if(Math.abs(d-p)>ke.CODEWORD_SKEW_SIZE)return d;p+=y}y=-y,u=!u}return p}static checkCodewordSkew(o,a,l){return a-ke.CODEWORD_SKEW_SIZE<=o&&o<=l+ke.CODEWORD_SKEW_SIZE}static decodeCodewords(o,a,l){if(0===o.length)throw oe.getFormatInstance();let u=1<<a+1,d=ke.correctErrors(o,l,u);ke.verifyCodewordCount(o,u);let f=z.decode(o,""+a);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(o,a,l){if(null!=a&&a.length>l/2+ke.MAX_ERRORS||l<0||l>ke.MAX_EC_CODEWORDS)throw Kt.getChecksumInstance();return ke.errorCorrection.decode(o,l,a)}static verifyCodewordCount(o,a){if(o.length<4)throw oe.getFormatInstance();let l=o[0];if(l>o.length)throw oe.getFormatInstance();if(0===l){if(!(a<o.length))throw oe.getFormatInstance();o[0]=o.length-a}}static getBitCountForCodeword(o){let a=new Int32Array(8),l=0,u=a.length-1;for(;!((1&o)!==l&&(l=1&o,u--,u<0));)a[u]++,o>>=1;return a}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return ke.getCodewordBucketNumber(ke.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let a=new Ns;for(let l=0;l<o.length;l++){a.format("Row %2d: ",l);for(let u=0;u<o[l].length;u++){let d=o[l][u];0===d.getValue().length?a.format("        ",null):a.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}a.format("%n")}return a.toString()}}ke.CODEWORD_SKEW_SIZE=2,ke.MAX_ERRORS=3,ke.MAX_EC_CODEWORDS=512,ke.errorCorrection=new Lf;class cn{decode(o,a=null){let l=cn.decode(o,a,!1);if(null==l||0===l.length||null==l[0])throw Y.getNotFoundInstance();return l[0]}decodeMultiple(o,a=null){try{return cn.decode(o,a,!0)}catch(l){throw l instanceof oe||l instanceof Kt?Y.getNotFoundInstance():l}}static decode(o,a,l){const u=new Array,d=je.detectMultiple(o,a,l);for(const f of d.getPoints()){const p=ke.decode(d.getBits(),f[4],f[5],f[6],f[7],cn.getMinCodewordWidth(f),cn.getMaxCodewordWidth(f)),y=new Ot(p.getText(),p.getRawBytes(),void 0,f,he.PDF_417);y.putMetadata(Xe.ERROR_CORRECTION_LEVEL,p.getECLevel());const v=p.getOther();null!=v&&y.putMetadata(Xe.PDF417_EXTRA_METADATA,v),u.push(y)}return u.map(f=>f)}static getMaxWidth(o,a){return null==o||null==a?0:Math.trunc(Math.abs(o.getX()-a.getX()))}static getMinWidth(o,a){return null==o||null==a?Ne.MAX_VALUE:Math.trunc(Math.abs(o.getX()-a.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(cn.getMaxWidth(o[0],o[4]),cn.getMaxWidth(o[6],o[2])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN),Math.max(cn.getMaxWidth(o[1],o[5]),cn.getMaxWidth(o[7],o[3])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(cn.getMinWidth(o[0],o[4]),cn.getMinWidth(o[6],o[2])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN),Math.min(cn.getMinWidth(o[1],o[5]),cn.getMinWidth(o[7],o[3])*De.MODULES_IN_CODEWORD/De.MODULES_IN_STOP_PATTERN)))}reset(){}}let sl=(()=>{class C extends wn{}return C.kind="ReaderException",C})();class Ue{constructor(o,a){this.verbose=!0===o,a&&this.setHints(a)}decode(o,a){return a&&this.setHints(a),this.decodeInternal(o)}decodeWithState(o){return null==this.readers&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const a=!et(o)&&!0===o.get(St.TRY_HARDER),l=et(o)?null:o.get(St.POSSIBLE_FORMATS),u=new Array;if(!et(l)){const d=l.some(f=>f===he.UPC_A||f===he.UPC_E||f===he.EAN_13||f===he.EAN_8||f===he.CODABAR||f===he.CODE_39||f===he.CODE_93||f===he.CODE_128||f===he.ITF||f===he.RSS_14||f===he.RSS_EXPANDED);d&&!a&&u.push(new co(o,this.verbose)),l.includes(he.QR_CODE)&&u.push(new fi),l.includes(he.DATA_MATRIX)&&u.push(new Ee),l.includes(he.AZTEC)&&u.push(new xs),l.includes(he.PDF_417)&&u.push(new cn),d&&a&&u.push(new co(o,this.verbose))}0===u.length&&(a||u.push(new co(o,this.verbose)),u.push(new fi),u.push(new Ee),u.push(new xs),u.push(new cn),a&&u.push(new co(o,this.verbose))),this.readers=u}reset(){if(null!==this.readers)for(const o of this.readers)o.reset()}decodeInternal(o){if(null===this.readers)throw new sl("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(o,this.hints)}catch(l){if(l instanceof sl)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}var ll=function(C){return C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION",C}(ll||{}),un=ll;class pt{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new Te(o,Int32Array.from([1])))}buildGenerator(o){const a=this.cachedGenerators;if(o>=a.length){let l=a[a.length-1];const u=this.field;for(let d=a.length;d<=o;d++){const f=l.multiply(new Te(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));a.push(f),l=f}}return a[o]}encode(o,a){if(0===a)throw new fe("No error correction bytes");const l=o.length-a;if(l<=0)throw new fe("No data bytes provided");const u=this.buildGenerator(a),d=new Int32Array(l);_t.arraycopy(o,0,d,0,l);let f=new Te(this.field,d);f=f.multiplyByMonomial(a,1);const y=f.divide(u)[1].getCoefficients(),v=a-y.length;for(let _=0;_<v;_++)o[l+_]=0;_t.arraycopy(y,0,o,l+v,y.length)}}let $o=(()=>{class C{constructor(){}static applyMaskPenaltyRule1(a){return C.applyMaskPenaltyRule1Internal(a,!0)+C.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let l=0;const u=a.getArray(),d=a.getWidth(),f=a.getHeight();for(let p=0;p<f-1;p++){const y=u[p];for(let v=0;v<d-1;v++){const _=y[v];_===y[v+1]&&_===u[p+1][v]&&_===u[p+1][v+1]&&l++}}return C.N2*l}static applyMaskPenaltyRule3(a){let l=0;const u=a.getArray(),d=a.getWidth(),f=a.getHeight();for(let p=0;p<f;p++)for(let y=0;y<d;y++){const v=u[p];y+6<d&&1===v[y]&&0===v[y+1]&&1===v[y+2]&&1===v[y+3]&&1===v[y+4]&&0===v[y+5]&&1===v[y+6]&&(C.isWhiteHorizontal(v,y-4,y)||C.isWhiteHorizontal(v,y+7,y+11))&&l++,p+6<f&&1===u[p][y]&&0===u[p+1][y]&&1===u[p+2][y]&&1===u[p+3][y]&&1===u[p+4][y]&&0===u[p+5][y]&&1===u[p+6][y]&&(C.isWhiteVertical(u,y,p-4,p)||C.isWhiteVertical(u,y,p+7,p+11))&&l++}return l*C.N3}static isWhiteHorizontal(a,l,u){l=Math.max(l,0),u=Math.min(u,a.length);for(let d=l;d<u;d++)if(1===a[d])return!1;return!0}static isWhiteVertical(a,l,u,d){u=Math.max(u,0),d=Math.min(d,a.length);for(let f=u;f<d;f++)if(1===a[f][l])return!1;return!0}static applyMaskPenaltyRule4(a){let l=0;const u=a.getArray(),d=a.getWidth(),f=a.getHeight();for(let v=0;v<f;v++){const _=u[v];for(let A=0;A<d;A++)1===_[A]&&l++}const p=a.getHeight()*a.getWidth();return Math.floor(10*Math.abs(2*l-p)/p)*C.N4}static getDataMaskBit(a,l,u){let d,f;switch(a){case 0:d=u+l&1;break;case 1:d=1&u;break;case 2:d=l%3;break;case 3:d=(u+l)%3;break;case 4:d=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:f=u*l,d=(1&f)+f%3;break;case 6:f=u*l,d=(1&f)+f%3&1;break;case 7:f=u*l,d=f%3+(u+l&1)&1;break;default:throw new fe("Invalid mask pattern: "+a)}return 0===d}static applyMaskPenaltyRule1Internal(a,l){let u=0;const d=l?a.getHeight():a.getWidth(),f=l?a.getWidth():a.getHeight(),p=a.getArray();for(let y=0;y<d;y++){let v=0,_=-1;for(let A=0;A<f;A++){const I=l?p[y][A]:p[A][y];I===_?v++:(v>=5&&(u+=C.N1+(v-5)),v=1,_=I)}v>=5&&(u+=C.N1+(v-5))}return u}}return C.N1=3,C.N2=3,C.N3=40,C.N4=10,C})();class cl{constructor(o,a){this.width=o,this.height=a;const l=new Array(a);for(let u=0;u!==a;u++)l[u]=new Uint8Array(o);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(o,a){return this.bytes[a][o]}getArray(){return this.bytes}setNumber(o,a,l){this.bytes[a][o]=l}setBoolean(o,a,l){this.bytes[a][o]=l?1:0}clear(o){for(const a of this.bytes)Zt.fill(a,o)}equals(o){if(!(o instanceof cl))return!1;const a=o;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],f=a.bytes[l];for(let p=0,y=this.width;p<y;++p)if(d[p]!==f[p])return!1}return!0}toString(){const o=new ut;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a];for(let d=0,f=this.width;d<f;++d)switch(u[d]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ")}o.append("\n")}return o.toString()}}let ul=(()=>{class C{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new ut;return a.append("<<\n"),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append("\n ecLevel: "),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append("\n version: "),a.append(this.version?this.version.toString():"null"),a.append("\n maskPattern: "),a.append(this.maskPattern.toString()),this.matrix?(a.append("\n matrix:\n"),a.append(this.matrix.toString())):a.append("\n matrix: null\n"),a.append(">>\n"),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<C.NUM_MASK_PATTERNS}}return C.NUM_MASK_PATTERNS=8,C})(),ht=(()=>{class C extends wn{}return C.kind="WriterException",C})();class Ae{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,a,l,u,d){Ae.clearMatrix(d),Ae.embedBasicPatterns(l,d),Ae.embedTypeInfo(a,u,d),Ae.maybeEmbedVersionInfo(l,d),Ae.embedDataBits(o,u,d)}static embedBasicPatterns(o,a){Ae.embedPositionDetectionPatternsAndSeparators(a),Ae.embedDarkDotAtLeftBottomCorner(a),Ae.maybeEmbedPositionAdjustmentPatterns(o,a),Ae.embedTimingPatterns(a)}static embedTypeInfo(o,a,l){const u=new Et;Ae.makeTypeInfoBits(o,a,u);for(let d=0,f=u.getSize();d<f;++d){const p=u.get(u.getSize()-1-d),y=Ae.TYPE_INFO_COORDINATES[d];if(l.setBoolean(y[0],y[1],p),d<8){const A=l.getWidth()-d-1;l.setBoolean(A,8,p)}else{const I=l.getHeight()-7+(d-8);l.setBoolean(8,I,p)}}}static maybeEmbedVersionInfo(o,a){if(o.getVersionNumber()<7)return;const l=new Et;Ae.makeVersionInfoBits(o,l);let u=17;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const p=l.get(u);u--,a.setBoolean(d,a.getHeight()-11+f,p),a.setBoolean(a.getHeight()-11+f,d,p)}}static embedDataBits(o,a,l){let u=0,d=-1,f=l.getWidth()-1,p=l.getHeight()-1;for(;f>0;){for(6===f&&(f-=1);p>=0&&p<l.getHeight();){for(let y=0;y<2;++y){const v=f-y;if(!Ae.isEmpty(l.get(v,p)))continue;let _;u<o.getSize()?(_=o.get(u),++u):_=!1,255!==a&&$o.getDataMaskBit(a,v,p)&&(_=!_),l.setBoolean(v,p,_)}p+=d}d=-d,p+=d,f-=2}if(u!==o.getSize())throw new ht("Not all bits consumed: "+u+"/"+o.getSize())}static findMSBSet(o){return 32-Ne.numberOfLeadingZeros(o)}static calculateBCHCode(o,a){if(0===a)throw new fe("0 polynomial");const l=Ae.findMSBSet(a);for(o<<=l-1;Ae.findMSBSet(o)>=l;)o^=a<<Ae.findMSBSet(o)-l;return o}static makeTypeInfoBits(o,a,l){if(!ul.isValidMaskPattern(a))throw new ht("Invalid mask pattern");const u=o.getBits()<<3|a;l.appendBits(u,5);const d=Ae.calculateBCHCode(u,Ae.TYPE_INFO_POLY);l.appendBits(d,10);const f=new Et;if(f.appendBits(Ae.TYPE_INFO_MASK_PATTERN,15),l.xor(f),15!==l.getSize())throw new ht("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(o,a){a.appendBits(o.getVersionNumber(),6);const l=Ae.calculateBCHCode(o.getVersionNumber(),Ae.VERSION_INFO_POLY);if(a.appendBits(l,12),18!==a.getSize())throw new ht("should not happen but we got: "+a.getSize())}static isEmpty(o){return 255===o}static embedTimingPatterns(o){for(let a=8;a<o.getWidth()-8;++a){const l=(a+1)%2;Ae.isEmpty(o.get(a,6))&&o.setNumber(a,6,l),Ae.isEmpty(o.get(6,a))&&o.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(o){if(0===o.get(8,o.getHeight()-8))throw new ht;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,a,l){for(let u=0;u<8;++u){if(!Ae.isEmpty(l.get(o+u,a)))throw new ht;l.setNumber(o+u,a,0)}}static embedVerticalSeparationPattern(o,a,l){for(let u=0;u<7;++u){if(!Ae.isEmpty(l.get(o,a+u)))throw new ht;l.setNumber(o,a+u,0)}}static embedPositionAdjustmentPattern(o,a,l){for(let u=0;u<5;++u){const d=Ae.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)l.setNumber(o+f,a+u,d[f])}}static embedPositionDetectionPattern(o,a,l){for(let u=0;u<7;++u){const d=Ae.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)l.setNumber(o+f,a+u,d[f])}}static embedPositionDetectionPatternsAndSeparators(o){const a=Ae.POSITION_DETECTION_PATTERN[0].length;Ae.embedPositionDetectionPattern(0,0,o),Ae.embedPositionDetectionPattern(o.getWidth()-a,0,o),Ae.embedPositionDetectionPattern(0,o.getWidth()-a,o);Ae.embedHorizontalSeparationPattern(0,7,o),Ae.embedHorizontalSeparationPattern(o.getWidth()-8,7,o),Ae.embedHorizontalSeparationPattern(0,o.getWidth()-8,o);Ae.embedVerticalSeparationPattern(7,0,o),Ae.embedVerticalSeparationPattern(o.getHeight()-7-1,0,o),Ae.embedVerticalSeparationPattern(7,o.getHeight()-7,o)}static maybeEmbedPositionAdjustmentPatterns(o,a){if(o.getVersionNumber()<2)return;const l=o.getVersionNumber()-1,u=Ae.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=u.length;d!==f;d++){const p=u[d];if(p>=0)for(let y=0;y!==f;y++){const v=u[y];v>=0&&Ae.isEmpty(a.get(v,p))&&Ae.embedPositionAdjustmentPattern(v-2,p-2,a)}}}}Ae.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ae.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ae.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ae.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ae.VERSION_INFO_POLY=7973,Ae.TYPE_INFO_POLY=1335,Ae.TYPE_INFO_MASK_PATTERN=21522;class Ps{constructor(o,a){this.dataBytes=o,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Nt{constructor(){}static calculateMaskPenalty(o){return $o.applyMaskPenaltyRule1(o)+$o.applyMaskPenaltyRule2(o)+$o.applyMaskPenaltyRule3(o)+$o.applyMaskPenaltyRule4(o)}static encode(o,a,l=null){let u=Nt.DEFAULT_BYTE_MODE_ENCODING;const d=null!==l&&void 0!==l.get(un.CHARACTER_SET);d&&(u=l.get(un.CHARACTER_SET).toString());const f=this.chooseMode(o,u),p=new Et;if(f===be.BYTE&&(d||Nt.DEFAULT_BYTE_MODE_ENCODING!==u)){const ae=te.getCharacterSetECIByName(u);void 0!==ae&&this.appendECI(ae,p)}this.appendModeInfo(f,p);const y=new Et;let v;if(this.appendBytes(o,f,y,u),null!==l&&void 0!==l.get(un.QR_VERSION)){const ae=Number.parseInt(l.get(un.QR_VERSION).toString(),10);v=_e.getVersionForNumber(ae);const G=this.calculateBitsNeeded(f,p,y,v);if(!this.willFit(G,v,a))throw new ht("Data too big for requested version")}else v=this.recommendVersion(a,f,p,y);const _=new Et;_.appendBitArray(p);const A=f===be.BYTE?y.getSizeInBytes():o.length;this.appendLengthInfo(A,v,f,_),_.appendBitArray(y);const I=v.getECBlocksForLevel(a),M=v.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(M,_);const O=this.interleaveWithECBytes(_,v.getTotalCodewords(),M,I.getNumBlocks()),P=new ul;P.setECLevel(a),P.setMode(f),P.setVersion(v);const B=v.getDimensionForVersion(),j=new cl(B,B),J=this.chooseMaskPattern(O,a,v,j);return P.setMaskPattern(J),Ae.buildMatrix(O,a,v,J,j),P.setMatrix(j),P}static recommendVersion(o,a,l,u){const d=this.calculateBitsNeeded(a,l,u,_e.getVersionForNumber(1)),f=this.chooseVersion(d,o),p=this.calculateBitsNeeded(a,l,u,f);return this.chooseVersion(p,o)}static calculateBitsNeeded(o,a,l,u){return a.getSize()+o.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(o){return o<Nt.ALPHANUMERIC_TABLE.length?Nt.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,a=null){if(te.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(o))return be.KANJI;let l=!1,u=!1;for(let d=0,f=o.length;d<f;++d){const p=o.charAt(d);if(Nt.isDigit(p))l=!0;else{if(-1===this.getAlphanumericCode(p.charCodeAt(0)))return be.BYTE;u=!0}}return u?be.ALPHANUMERIC:l?be.NUMERIC:be.BYTE}static isOnlyDoubleByteKanji(o){let a;try{a=hn.encode(o,te.SJIS)}catch{return!1}const l=a.length;if(l%2!=0)return!1;for(let u=0;u<l;u+=2){const d=255&a[u];if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(o,a,l,u){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let p=0;p<ul.NUM_MASK_PATTERNS;p++){Ae.buildMatrix(o,a,l,p,u);let y=this.calculateMaskPenalty(u);y<d&&(d=y,f=p)}return f}static chooseVersion(o,a){for(let l=1;l<=40;l++){const u=_e.getVersionForNumber(l);if(Nt.willFit(o,u,a))return u}throw new ht("Data too big")}static willFit(o,a,l){return a.getTotalCodewords()-a.getECBlocksForLevel(l).getTotalECCodewords()>=(o+7)/8}static terminateBits(o,a){const l=8*o;if(a.getSize()>l)throw new ht("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let f=0;f<4&&a.getSize()<l;++f)a.appendBit(!1);const u=7&a.getSize();if(u>0)for(let f=u;f<8;f++)a.appendBit(!1);const d=o-a.getSizeInBytes();for(let f=0;f<d;++f)a.appendBits(1&f?17:236,8);if(a.getSize()!==l)throw new ht("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,a,l,u,d,f){if(u>=l)throw new ht("Block ID too large");const p=o%l,y=l-p,v=Math.floor(o/l),_=v+1,A=Math.floor(a/l),I=A+1,M=v-A,O=_-I;if(M!==O)throw new ht("EC bytes mismatch");if(l!==y+p)throw new ht("RS blocks mismatch");if(o!==(A+M)*y+(I+O)*p)throw new ht("Total bytes mismatch");u<y?(d[0]=A,f[0]=M):(d[0]=I,f[0]=O)}static interleaveWithECBytes(o,a,l,u){if(o.getSizeInBytes()!==l)throw new ht("Number of bits and data bytes does not match");let d=0,f=0,p=0;const y=new Array;for(let _=0;_<u;++_){const A=new Int32Array(1),I=new Int32Array(1);Nt.getNumDataBytesAndNumECBytesForBlockID(a,l,u,_,A,I);const M=A[0],O=new Uint8Array(M);o.toBytes(8*d,O,0,M);const P=Nt.generateECBytes(O,I[0]);y.push(new Ps(O,P)),f=Math.max(f,M),p=Math.max(p,P.length),d+=A[0]}if(l!==d)throw new ht("Data bytes does not match offset");const v=new Et;for(let _=0;_<f;++_)for(const A of y){const I=A.getDataBytes();_<I.length&&v.appendBits(I[_],8)}for(let _=0;_<p;++_)for(const A of y){const I=A.getErrorCorrectionBytes();_<I.length&&v.appendBits(I[_],8)}if(a!==v.getSizeInBytes())throw new ht("Interleaving error: "+a+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(o,a){const l=o.length,u=new Int32Array(l+a);for(let f=0;f<l;f++)u[f]=255&o[f];new pt(it.QR_CODE_FIELD_256).encode(u,a);const d=new Uint8Array(a);for(let f=0;f<a;f++)d[f]=u[l+f];return d}static appendModeInfo(o,a){a.appendBits(o.getBits(),4)}static appendLengthInfo(o,a,l,u){const d=l.getCharacterCountBits(a);if(o>=1<<d)throw new ht(o+" is bigger than "+((1<<d)-1));u.appendBits(o,d)}static appendBytes(o,a,l,u){switch(a){case be.NUMERIC:Nt.appendNumericBytes(o,l);break;case be.ALPHANUMERIC:Nt.appendAlphanumericBytes(o,l);break;case be.BYTE:Nt.append8BitBytes(o,l,u);break;case be.KANJI:Nt.appendKanjiBytes(o,l);break;default:throw new ht("Invalid mode: "+a)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const a=Nt.getDigit(o);return a>=0&&a<=9}static appendNumericBytes(o,a){const l=o.length;let u=0;for(;u<l;){const d=Nt.getDigit(o.charAt(u));if(u+2<l){const f=Nt.getDigit(o.charAt(u+1)),p=Nt.getDigit(o.charAt(u+2));a.appendBits(100*d+10*f+p,10),u+=3}else if(u+1<l){const f=Nt.getDigit(o.charAt(u+1));a.appendBits(10*d+f,7),u+=2}else a.appendBits(d,4),u++}}static appendAlphanumericBytes(o,a){const l=o.length;let u=0;for(;u<l;){const d=Nt.getAlphanumericCode(o.charCodeAt(u));if(-1===d)throw new ht;if(u+1<l){const f=Nt.getAlphanumericCode(o.charCodeAt(u+1));if(-1===f)throw new ht;a.appendBits(45*d+f,11),u+=2}else a.appendBits(d,6),u++}}static append8BitBytes(o,a,l){let u;try{u=hn.encode(o,l)}catch(d){throw new ht(d)}for(let d=0,f=u.length;d!==f;d++)a.appendBits(u[d],8)}static appendKanjiBytes(o,a){let l;try{l=hn.encode(o,te.SJIS)}catch(d){throw new ht(d)}const u=l.length;for(let d=0;d<u;d+=2){const y=(255&l[d])<<8&4294967295|255&l[d+1];let v=-1;if(y>=33088&&y<=40956?v=y-33088:y>=57408&&y<=60351&&(v=y-49472),-1===v)throw new ht("Invalid byte sequence");a.appendBits(192*(v>>8)+(255&v),13)}}static appendECI(o,a){a.appendBits(be.ECI.getBits(),4),a.appendBits(o.getValue(),8)}}Nt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nt.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();let Bf=(()=>{class C{write(a,l,u,d=null){if(0===a.length)throw new fe("Found empty contents");if(l<0||u<0)throw new fe("Requested dimensions are too small: "+l+"x"+u);let f=Ve.L,p=C.QUIET_ZONE_SIZE;null!==d&&(void 0!==d.get(un.ERROR_CORRECTION)&&(f=Ve.fromString(d.get(un.ERROR_CORRECTION).toString())),void 0!==d.get(un.MARGIN)&&(p=Number.parseInt(d.get(un.MARGIN).toString(),10)));const y=Nt.encode(a,f,d);return this.renderResult(y,l,u,p)}writeToDom(a,l,u,d,f=null){"string"==typeof a&&(a=document.querySelector(a));const p=this.write(l,u,d,f);a&&a.appendChild(p)}renderResult(a,l,u,d){const f=a.getMatrix();if(null===f)throw new jr;const p=f.getWidth(),y=f.getHeight(),v=p+2*d,_=y+2*d,A=Math.max(l,v),I=Math.max(u,_),M=Math.min(Math.floor(A/v),Math.floor(I/_)),O=Math.floor((A-p*M)/2),P=Math.floor((I-y*M)/2),B=this.createSVGElement(A,I);for(let j=0,J=P;j<y;j++,J+=M)for(let ae=0,G=O;ae<p;ae++,G+=M)if(1===f.get(ae,j)){const Ge=this.createSvgRectElement(G,J,M,M);B.appendChild(Ge)}return B}createSVGElement(a,l){const u=document.createElementNS(C.SVG_NS,"svg");return u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(a,l,u,d){const f=document.createElementNS(C.SVG_NS,"rect");return f.setAttributeNS(null,"x",a.toString()),f.setAttributeNS(null,"y",l.toString()),f.setAttributeNS(null,"height",u.toString()),f.setAttributeNS(null,"width",d.toString()),f.setAttributeNS(null,"fill","#000000"),f}}return C.QUIET_ZONE_SIZE=4,C.SVG_NS="http://www.w3.org/2000/svg",C})(),lu=(()=>{class C{encode(a,l,u,d,f){if(0===a.length)throw new fe("Found empty contents");if(l!==he.QR_CODE)throw new fe("Can only encode QR_CODE, but got "+l);if(u<0||d<0)throw new fe(`Requested dimensions are too small: ${u}x${d}`);let p=Ve.L,y=C.QUIET_ZONE_SIZE;null!==f&&(void 0!==f.get(un.ERROR_CORRECTION)&&(p=Ve.fromString(f.get(un.ERROR_CORRECTION).toString())),void 0!==f.get(un.MARGIN)&&(y=Number.parseInt(f.get(un.MARGIN).toString(),10)));const v=Nt.encode(a,p,f);return C.renderResult(v,u,d,y)}static renderResult(a,l,u,d){const f=a.getMatrix();if(null===f)throw new jr;const p=f.getWidth(),y=f.getHeight(),v=p+2*d,_=y+2*d,A=Math.max(l,v),I=Math.max(u,_),M=Math.min(Math.floor(A/v),Math.floor(I/_)),O=Math.floor((A-p*M)/2),P=Math.floor((I-y*M)/2),B=new an(A,I);for(let j=0,J=P;j<y;j++,J+=M)for(let ae=0,G=O;ae<p;ae++,G+=M)1===f.get(ae,j)&&B.setRegion(G,J,M,M);return B}}return C.QUIET_ZONE_SIZE=4,C})();let fo=(()=>{class C extends so{constructor(a,l,u,d,f,p,y,v){if(super(p,y),this.yuvData=a,this.dataWidth=l,this.dataHeight=u,this.left=d,this.top=f,d+p>l||f+y>u)throw new fe("Crop rectangle does not fit within image data.");v&&this.reverseHorizontal(p,y)}getRow(a,l){if(a<0||a>=this.getHeight())throw new fe("Requested row is outside the image: "+a);const u=this.getWidth();return(null==l||l.length<u)&&(l=new Uint8ClampedArray(u)),_t.arraycopy(this.yuvData,(a+this.top)*this.dataWidth+this.left,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=a*l,d=new Uint8ClampedArray(u);let f=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return _t.arraycopy(this.yuvData,f,d,0,u),d;for(let p=0;p<l;p++)_t.arraycopy(this.yuvData,f,d,p*a,a),f+=this.dataWidth;return d}isCropSupported(){return!0}crop(a,l,u,d){return new C(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+l,u,d,!1)}renderThumbnail(){const a=this.getWidth()/C.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/C.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(a*l),d=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let p=0;p<l;p++){const y=p*a;for(let v=0;v<a;v++)u[y+v]=4278190080|65793*(255&d[f+v*C.THUMBNAIL_SCALE_FACTOR]);f+=this.dataWidth*C.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/C.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/C.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,l){const u=this.yuvData;for(let d=0,f=this.top*this.dataWidth+this.left;d<l;d++,f+=this.dataWidth){const p=f+a/2;for(let y=f,v=f+a-1;y<p;y++,v--){const _=u[y];u[y]=u[v],u[v]=_}}}invert(){return new vt(this)}}return C.THUMBNAIL_SCALE_FACTOR=2,C})();class dl extends so{constructor(o,a,l,u,d,f,p){if(super(a,l),this.dataWidth=u,this.dataHeight=d,this.left=f,this.top=p,4===o.BYTES_PER_ELEMENT){const y=a*l,v=new Uint8ClampedArray(y);for(let _=0;_<y;_++){const A=o[_];v[_]=((A>>16&255)+(A>>7&510)+(255&A))/4&255}this.luminances=v}else this.luminances=o;if(void 0===u&&(this.dataWidth=a),void 0===d&&(this.dataHeight=l),void 0===f&&(this.left=0),void 0===p&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new fe("Crop rectangle does not fit within image data.")}getRow(o,a){if(o<0||o>=this.getHeight())throw new fe("Requested row is outside the image: "+o);const l=this.getWidth();return(null==a||a.length<l)&&(a=new Uint8ClampedArray(l)),_t.arraycopy(this.luminances,(o+this.top)*this.dataWidth+this.left,a,0,l),a}getMatrix(){const o=this.getWidth(),a=this.getHeight();if(o===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=o*a,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return _t.arraycopy(this.luminances,d,u,0,l),u;for(let f=0;f<a;f++)_t.arraycopy(this.luminances,d,u,f*o,o),d+=this.dataWidth;return u}isCropSupported(){return!0}crop(o,a,l,u){return new dl(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+o,this.top+a)}invert(){return new vt(this)}}class $r extends te{static forName(o){return this.getCharacterSetECIByName(o)}}class fl{}fl.ISO_8859_1=te.ISO8859_1;class ne{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class hl{static singletonList(o){return[o]}static min(o,a){return o.sort(a)[0]}}class ue{constructor(o){this.previous=o}getPrevious(){return this.previous}}class qr extends ue{constructor(o,a,l){super(o),this.value=a,this.bitCount=l}appendTo(o,a){o.appendBits(this.value,this.bitCount)}add(o,a){return new qr(this,o,a)}addBinaryShift(o,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new qr(this,o,a)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+Ne.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class qo extends qr{constructor(o,a,l){super(o,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(o,a){for(let l=0;l<this.binaryShiftByteCount;l++)(0===l||31===l&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):o.appendBits(0===l?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),o.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(o,a){return new qo(this,o,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Xo(C,o,a){return new qr(C,o,a)}const Vf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],nt=new qr(null,0,0),ho=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const Ls=function pl(C){for(let o of C)Zt.fill(o,-1);return C[0][4]=0,C[1][4]=0,C[1][0]=28,C[3][4]=0,C[2][4]=0,C[2][0]=15,C}(Zt.createInt32Array(6,6));class gr{constructor(o,a,l,u){this.token=o,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,a){let l=this.bitCount,u=this.token;if(o!==this.mode){let f=ho[this.mode][o];u=Xo(u,65535&f,f>>16),l+=f>>16}let d=2===o?4:5;return u=Xo(u,a,d),new gr(u,o,0,l+d)}shiftAndAppend(o,a){let l=this.token,u=2===this.mode?4:5;return l=Xo(l,Ls[this.mode][o],u),l=Xo(l,a,5),new gr(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(o){let a=this.token,l=this.mode,u=this.bitCount;if(4===this.mode||2===this.mode){let p=ho[l][0];a=Xo(a,65535&p,p>>16),u+=p>>16,l=0}let f=new gr(a,l,this.binaryShiftByteCount+1,u+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===f.binaryShiftByteCount&&(f=f.endBinaryShift(o+1)),f}endBinaryShift(o){if(0===this.binaryShiftByteCount)return this;let a=this.token;return a=function Yo(C,o,a){return new qo(C,o,a)}(a,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new gr(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let a=this.bitCount+(ho[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?a+=gr.calculateBinaryShiftCost(o)-gr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(a+=10),a<=o.bitCount}toBitArray(o){let a=[];for(let u=this.endBinaryShift(o.length).token;null!==u;u=u.getPrevious())a.unshift(u);let l=new Et;for(const u of a)u.appendTo(l,o);return l}toString(){return Se.format("%s bits=%d bytes=%d",Vf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}gr.INITIAL_STATE=new gr(nt,0,0,0);const Hi=function Yr(C){const o=Se.getCharCode(" "),a=Se.getCharCode("."),l=Se.getCharCode(",");C[0][o]=1;const u=Se.getCharCode("Z"),d=Se.getCharCode("A");for(let I=d;I<=u;I++)C[0][I]=I-d+2;C[1][o]=1;const f=Se.getCharCode("z"),p=Se.getCharCode("a");for(let I=p;I<=f;I++)C[1][I]=I-p+2;C[2][o]=1;const y=Se.getCharCode("9"),v=Se.getCharCode("0");for(let I=v;I<=y;I++)C[2][I]=I-v+2;C[2][l]=12,C[2][a]=13;const _=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let I=0;I<_.length;I++)C[3][Se.getCharCode(_[I])]=I;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<A.length;I++)Se.getCharCode(A[I])>0&&(C[4][Se.getCharCode(A[I])]=I);return C}(Zt.createInt32Array(5,256));class po{constructor(o){this.text=o}encode(){const o=Se.getCharCode(" "),a=Se.getCharCode("\n");let l=hl.singletonList(gr.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,p=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case Se.getCharCode("\r"):f=p===a?2:0;break;case Se.getCharCode("."):f=p===o?3:0;break;case Se.getCharCode(","):f=p===o?4:0;break;case Se.getCharCode(":"):f=p===o?5:0;break;default:f=0}f>0?(l=po.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return hl.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,a){const l=[];for(let u of o)this.updateStateForChar(u,a,l);return po.simplifyStates(l)}updateStateForChar(o,a,l){let u=255&this.text[a],d=Hi[o.getMode()][u]>0,f=null;for(let p=0;p<=4;p++){let y=Hi[p][u];if(y>0){if(null==f&&(f=o.endBinaryShift(a)),!d||p===o.getMode()||2===p){const v=f.latchAndAppend(p,y);l.push(v)}if(!d&&Ls[o.getMode()][p]>=0){const v=f.shiftAndAppend(p,y);l.push(v)}}}if(o.getBinaryShiftByteCount()>0||0===Hi[o.getMode()][u]){let p=o.addBinaryShiftChar(a);l.push(p)}}static updateStateListForPair(o,a,l){const u=[];for(let d of o)this.updateStateForPair(d,a,l,u);return this.simplifyStates(u)}static updateStateForPair(o,a,l,u){let d=o.endBinaryShift(a);if(u.push(d.latchAndAppend(4,l)),4!==o.getMode()&&u.push(d.shiftAndAppend(4,l)),3===l||4===l){let f=d.latchAndAppend(2,16-l).latchAndAppend(2,1);u.push(f)}if(o.getBinaryShiftByteCount()>0){let f=o.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(f)}}static simplifyStates(o){let a=[];for(const l of o){let u=!0;for(const d of a){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(a=a.filter(f=>f!==d))}u&&a.push(l)}return a}}class Je{constructor(){}static encodeBytes(o){return Je.encode(o,Je.DEFAULT_EC_PERCENT,Je.DEFAULT_AZTEC_LAYERS)}static encode(o,a,l){let p,y,v,_,A,u=new po(o).encode(),d=Ne.truncDivision(u.getSize()*a,100)+11,f=u.getSize()+d;if(l!==Je.DEFAULT_AZTEC_LAYERS){if(p=l<0,y=Math.abs(l),y>(p?Je.MAX_NB_BITS_COMPACT:Je.MAX_NB_BITS))throw new fe(Se.format("Illegal value %s for layers",l));v=Je.totalBitsInLayer(y,p),_=Je.WORD_SIZE[y];let G=v-v%_;if(A=Je.stuffBits(u,_),A.getSize()+d>G)throw new fe("Data to large for user specified layer");if(p&&A.getSize()>64*_)throw new fe("Data to large for user specified layer")}else{_=0,A=null;for(let G=0;;G++){if(G>Je.MAX_NB_BITS)throw new fe("Data too large for an Aztec code");if(p=G<=3,y=p?G+1:G,v=Je.totalBitsInLayer(y,p),f>v)continue;(null==A||_!==Je.WORD_SIZE[y])&&(_=Je.WORD_SIZE[y],A=Je.stuffBits(u,_));let Ge=v-v%_;if(!(p&&A.getSize()>64*_)&&A.getSize()+d<=Ge)break}}let j,I=Je.generateCheckWords(A,v,_),M=A.getSize()/_,O=Je.generateModeMessage(p,y,M),P=(p?11:14)+4*y,B=new Int32Array(P);if(p){j=P;for(let G=0;G<B.length;G++)B[G]=G}else{j=P+1+2*Ne.truncDivision(Ne.truncDivision(P,2)-1,15);let G=Ne.truncDivision(P,2),Ge=Ne.truncDivision(j,2);for(let Oe=0;Oe<G;Oe++){let Pn=Oe+Ne.truncDivision(Oe,15);B[G-Oe-1]=Ge-Pn-1,B[G+Oe]=Ge+Pn+1}}let J=new an(j);for(let G=0,Ge=0;G<y;G++){let Oe=4*(y-G)+(p?9:12);for(let Pn=0;Pn<Oe;Pn++){let Gt=2*Pn;for(let Ln=0;Ln<2;Ln++)I.get(Ge+Gt+Ln)&&J.set(B[2*G+Ln],B[2*G+Pn]),I.get(Ge+2*Oe+Gt+Ln)&&J.set(B[2*G+Pn],B[P-1-2*G-Ln]),I.get(Ge+4*Oe+Gt+Ln)&&J.set(B[P-1-2*G-Ln],B[P-1-2*G-Pn]),I.get(Ge+6*Oe+Gt+Ln)&&J.set(B[P-1-2*G-Pn],B[2*G+Ln])}Ge+=8*Oe}if(Je.drawModeMessage(J,p,j,O),p)Je.drawBullsEye(J,Ne.truncDivision(j,2),5);else{Je.drawBullsEye(J,Ne.truncDivision(j,2),7);for(let G=0,Ge=0;G<Ne.truncDivision(P,2)-1;G+=15,Ge+=16)for(let Oe=1&Ne.truncDivision(j,2);Oe<j;Oe+=2)J.set(Ne.truncDivision(j,2)-Ge,Oe),J.set(Ne.truncDivision(j,2)+Ge,Oe),J.set(Oe,Ne.truncDivision(j,2)-Ge),J.set(Oe,Ne.truncDivision(j,2)+Ge)}let ae=new ne;return ae.setCompact(p),ae.setSize(j),ae.setLayers(y),ae.setCodeWords(M),ae.setMatrix(J),ae}static drawBullsEye(o,a,l){for(let u=0;u<l;u+=2)for(let d=a-u;d<=a+u;d++)o.set(d,a-u),o.set(d,a+u),o.set(a-u,d),o.set(a+u,d);o.set(a-l,a-l),o.set(a-l+1,a-l),o.set(a-l,a-l+1),o.set(a+l,a-l),o.set(a+l,a-l+1),o.set(a+l,a+l-1)}static generateModeMessage(o,a,l){let u=new Et;return o?(u.appendBits(a-1,2),u.appendBits(l-1,6),u=Je.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(l-1,11),u=Je.generateCheckWords(u,40,4)),u}static drawModeMessage(o,a,l,u){let d=Ne.truncDivision(l,2);if(a)for(let f=0;f<7;f++){let p=d-3+f;u.get(f)&&o.set(p,d-5),u.get(f+7)&&o.set(d+5,p),u.get(20-f)&&o.set(p,d+5),u.get(27-f)&&o.set(d-5,p)}else for(let f=0;f<10;f++){let p=d-5+f+Ne.truncDivision(f,5);u.get(f)&&o.set(p,d-7),u.get(f+10)&&o.set(d+7,p),u.get(29-f)&&o.set(p,d+7),u.get(39-f)&&o.set(d-7,p)}}static generateCheckWords(o,a,l){let u=o.getSize()/l,d=new pt(Je.getGF(l)),f=Ne.truncDivision(a,l),p=Je.bitsToWords(o,l,f);d.encode(p,f-u);let y=a%l,v=new Et;v.appendBits(0,y);for(const _ of Array.from(p))v.appendBits(_,l);return v}static bitsToWords(o,a,l){let d,f,u=new Int32Array(l);for(d=0,f=o.getSize()/a;d<f;d++){let p=0;for(let y=0;y<a;y++)p|=o.get(d*a+y)?1<<a-y-1:0;u[d]=p}return u}static getGF(o){switch(o){case 4:return it.AZTEC_PARAM;case 6:return it.AZTEC_DATA_6;case 8:return it.AZTEC_DATA_8;case 10:return it.AZTEC_DATA_10;case 12:return it.AZTEC_DATA_12;default:throw new fe("Unsupported word size "+o)}}static stuffBits(o,a){let l=new Et,u=o.getSize(),d=(1<<a)-2;for(let f=0;f<u;f+=a){let p=0;for(let y=0;y<a;y++)(f+y>=u||o.get(f+y))&&(p|=1<<a-1-y);(p&d)===d?(l.appendBits(p&d,a),f--):p&d?l.appendBits(p,a):(l.appendBits(1|p,a),f--)}return l}static totalBitsInLayer(o,a){return((a?88:112)+16*o)*o}}Je.DEFAULT_EC_PERCENT=33,Je.DEFAULT_AZTEC_LAYERS=0,Je.MAX_NB_BITS=32,Je.MAX_NB_BITS_COMPACT=4,Je.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class go{encode(o,a,l,u){return this.encodeWithHints(o,a,l,u,null)}encodeWithHints(o,a,l,u,d){let f=fl.ISO_8859_1,p=Je.DEFAULT_EC_PERCENT,y=Je.DEFAULT_AZTEC_LAYERS;return null!=d&&(d.has(un.CHARACTER_SET)&&(f=$r.forName(d.get(un.CHARACTER_SET).toString())),d.has(un.ERROR_CORRECTION)&&(p=Ne.parseInt(d.get(un.ERROR_CORRECTION).toString())),d.has(un.AZTEC_LAYERS)&&(y=Ne.parseInt(d.get(un.AZTEC_LAYERS).toString()))),go.encodeLayers(o,a,l,u,f,p,y)}static encodeLayers(o,a,l,u,d,f,p){if(a!==he.AZTEC)throw new fe("Can only encode AZTEC, but got "+a);let y=Je.encode(Se.getBytes(o,d),f,p);return go.renderResult(y,l,u)}static renderResult(o,a,l){let u=o.getMatrix();if(null==u)throw new jr;let d=u.getWidth(),f=u.getHeight(),p=Math.max(a,d),y=Math.max(l,f),v=Math.min(p/d,y/f),_=(p-d*v)/2,A=(y-f*v)/2,I=new an(p,y);for(let M=0,O=A;M<f;M++,O+=v)for(let P=0,B=_;P<d;P++,B+=v)u.get(P,M)&&I.setRegion(B,O,v,v);return I}}Q.AbstractExpandedDecoder=nl,Q.ArgumentException=Gn,Q.ArithmeticException=Uo,Q.AztecCode=ne,Q.AztecCodeReader=xs,Q.AztecCodeWriter=go,Q.AztecDecoder=Gc,Q.AztecDetector=Wc,Q.AztecDetectorResult=el,Q.AztecEncoder=Je,Q.AztecHighLevelEncoder=po,Q.AztecPoint=In,Q.BarcodeFormat=he,Q.Binarizer=Xa,Q.BinaryBitmap=Vr,Q.BitArray=Et,Q.BitMatrix=an,Q.BitSource=Ss,Q.BrowserAztecCodeReader=class ai extends Pi{constructor(o=500){super(new xs,o)}},Q.BrowserBarcodeReader=class eu extends Pi{constructor(o=500,a){super(new co(a),o,a)}},Q.BrowserCodeReader=Pi,Q.BrowserDatamatrixCodeReader=class tu extends Pi{constructor(o=500){super(new Ee,o)}},Q.BrowserMultiFormatReader=class al extends Pi{constructor(o=null,a=500){const l=new Ue;l.setHints(o),super(l,a)}decodeBitmap(o){return this.reader.decodeWithState(o)}},Q.BrowserPDF417Reader=class au extends Pi{constructor(o=500){super(new cn,o)}},Q.BrowserQRCodeReader=class On extends Pi{constructor(o=500){super(new fi,o)}},Q.BrowserQRCodeSvgWriter=Bf,Q.CharacterSetECI=te,Q.ChecksumException=Kt,Q.Code128Reader=re,Q.Code39Reader=bs,Q.DataMatrixDecodedBitStreamParser=di,Q.DataMatrixReader=Ee,Q.DecodeHintType=St,Q.DecoderResult=Ft,Q.DefaultGridSampler=Es,Q.DetectorResult=ws,Q.EAN13Reader=As,Q.EncodeHintType=un,Q.Exception=wn,Q.FormatException=oe,Q.GenericGF=it,Q.GenericGFPoly=Te,Q.GlobalHistogramBinarizer=Mt,Q.GridSampler=jo,Q.GridSamplerInstance=zr,Q.HTMLCanvasElementLuminanceSource=Hr,Q.HybridBinarizer=Be,Q.ITFReader=xt,Q.IllegalArgumentException=fe,Q.IllegalStateException=jr,Q.InvertedLuminanceSource=vt,Q.LuminanceSource=so,Q.MathUtils=tt,Q.MultiFormatOneDReader=co,Q.MultiFormatReader=Ue,Q.MultiFormatWriter=class cu{encode(o,a,l,u,d){let f;if(a!==he.QR_CODE)throw new fe("No encoder available for format "+a);return f=new lu,f.encode(o,a,l,u,d)}},Q.NotFoundException=Y,Q.OneDReader=jt,Q.PDF417DecodedBitStreamParser=z,Q.PDF417DecoderErrorCorrection=Lf,Q.PDF417Reader=cn,Q.PDF417ResultMetadata=Ff,Q.PerspectiveTransform=dr,Q.PlanarYUVLuminanceSource=fo,Q.QRCodeByteMatrix=cl,Q.QRCodeDataMask=Rn,Q.QRCodeDecodedBitStreamParser=Ts,Q.QRCodeDecoderErrorCorrectionLevel=Ve,Q.QRCodeDecoderFormatInformation=En,Q.QRCodeEncoder=Nt,Q.QRCodeEncoderQRCode=ul,Q.QRCodeMaskUtil=$o,Q.QRCodeMatrixUtil=Ae,Q.QRCodeMode=be,Q.QRCodeReader=fi,Q.QRCodeVersion=_e,Q.QRCodeWriter=lu,Q.RGBLuminanceSource=dl,Q.RSS14Reader=Tt,Q.RSSExpandedReader=X,Q.ReaderException=sl,Q.ReedSolomonDecoder=Ho,Q.ReedSolomonEncoder=pt,Q.ReedSolomonException=Li,Q.Result=Ot,Q.ResultMetadataType=Xe,Q.ResultPoint=we,Q.StringUtils=Se,Q.UnsupportedOperationException=Ur,Q.VideoInputDevice=zc,Q.WhiteRectangleDetector=_s,Q.WriterException=ht,Q.ZXingArrays=Zt,Q.ZXingCharset=$r,Q.ZXingInteger=Ne,Q.ZXingStandardCharsets=fl,Q.ZXingStringBuilder=ut,Q.ZXingStringEncoding=hn,Q.ZXingSystem=_t,Q.createAbstractExpandedDecoder=Nf,Object.defineProperty(Q,"__esModule",{value:!0})}(Vc)}},Bc=>{Bc(Bc.s=28)}]);